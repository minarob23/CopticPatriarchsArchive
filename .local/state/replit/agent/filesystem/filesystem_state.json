{"file_contents":{"COMPLETE_LOCAL_SETUP.md":{"content":"# نقل مشروع بطاركة الكنيسة القبطية كاملاً من Replit إلى الجهاز المحلي\n\n## المشكلة التي تواجهها:\nجهازك المحلي يعرض نسخة قديمة مختلفة تماماً عن Replit الحالي.\n\n## الحل الشامل: نقل كل شيء\n\n### الخطوة 1: نسخ جميع الملفات الأساسية\n\n#### A) ملفات الجذر (Root Files):\n```\npackage.json\npackage-lock.json\nvite.config.ts\ntailwind.config.ts\ntsconfig.json\ndrizzle.config.ts\ncomponents.json\npostcss.config.js\n.env.local\n```\n\n#### B) مجلد client/src كاملاً:\n```\nclient/src/\n├── App.tsx\n├── main.tsx\n├── index.css\n├── components/\n│   ├── admin/\n│   ├── ui/\n│   ├── patriarch-card.tsx\n│   ├── patriarch-timeline.tsx\n│   ├── home-charts.tsx\n│   ├── ask-patriarch-chatbot.tsx\n│   └── smart-summary-modal.tsx\n├── pages/\n│   ├── home.tsx (هذا الأهم!)\n│   ├── admin.tsx\n│   ├── login.tsx\n│   └── كل ملفات الصفحات\n├── hooks/\n├── lib/\n```\n\n#### C) مجلد server كاملاً:\n```\nserver/\n├── index.ts\n├── routes.ts\n├── storage.ts\n├── db.ts\n├── gemini.ts\n├── replitAuth.ts\n└── كل الملفات\n```\n\n#### D) مجلد shared:\n```\nshared/\n├── schema.ts\n└── patriarch-names.ts\n```\n\n#### E) مجلد backups (البيانات):\n```\nbackups/\n├── database_schema_2025-08-21_22-37-00.sql\n├── patriarchs_data_2025-08-21_22-37-00.sql\n├── patriarchs_data_2025-08-21_22-37-00.csv\n└── BACKUP_SUMMARY.md\n```\n\n### الخطوة 2: تنفيذ النقل\n\n#### الطريقة 1: النسخ اليدوي (مضمونة 100%)\n1. في Replit، افتح كل ملف\n2. انسخ المحتوى كاملاً (Ctrl+A, Ctrl+C)\n3. في جهازك المحلي، ألصق المحتوى في نفس الملف\n\n#### الطريقة 2: تحميل من Replit\n1. في Replit Files، right-click على root folder\n2. اختر \"Download as zip\"\n3. فك الضغط واستبدل مشروعك المحلي\n\n### الخطوة 3: إعداد البيئة المحلية\n\n#### 1. تنصيب التطبيق:\n```bash\ncd your-project-folder\nnpm install\n```\n\n#### 2. إعداد قاعدة البيانات:\n```bash\n# إنشاء قاعدة البيانات\ncreatedb coptic_patriarchs\n\n# استيراد البيانات\npsql -d coptic_patriarchs -f backups/database_schema_2025-08-21_22-37-00.sql\npsql -d coptic_patriarchs -f backups/patriarchs_data_2025-08-21_22-37-00.sql\n\n# تحديث المخطط\nnpm run db:push\n```\n\n#### 3. تشغيل التطبيق:\n```bash\nnpm run dev\n```\n\n### الخطوة 4: التحقق من النجاح\n\nافتح http://localhost:5000 ويجب أن ترى:\n✅ نفس التصميم والألوان الموجودة في Replit\n✅ البحث عن \"شنوده\" يعمل\n✅ 118 بطريرك كامل\n✅ نفس الوظائف والميزات\n\n### ملف .env.local المطلوب:\n```\nDATABASE_URL=postgresql://postgres:كلمة_السر@localhost:5432/coptic_patriarchs\nGEMINI_API_KEY=your_key_here\nSESSION_SECRET=local-secret-key\nNODE_ENV=development\nPORT=5000\n```\n\n### إذا ظهرت أخطاء:\n1. تأكد أن PostgreSQL يعمل\n2. تأكد من صحة .env.local\n3. شغل npm install مرة أخرى\n4. شغل npm run db:push\n\n## النتيجة النهائية:\nستحصل على نفس التطبيق تماماً كما هو في Replit، مع نفس البيانات ونفس المظهر ونفس الوظائف.","size_bytes":3604},"CRITICAL_FILES_TO_COPY.md":{"content":"# CRITICAL FILES TO UPDATE IN YOUR LOCAL PROJECT\n\n## The main issues you're seeing are because these files are different:\n\n### 1. client/src/pages/home.tsx\n- Contains the updated search functionality\n- Arabic search capability\n- Proper filter reset on \"Cards\" button\n- Real-time search with debounce\n\n### 2. server/storage.ts  \n- Updated PostgreSQL queries\n- Better Arabic text search\n- Fixed heresy filtering\n\n### 3. shared/schema.ts\n- Latest database structure\n- Proper types for all fields\n\n### 4. server/routes.ts\n- Updated API endpoints\n- Better error handling\n\n## Quick Fix Steps:\n\n1. **In your Replit**, download these files:\n   - Right-click each file → Download\n   - Or copy the entire content and paste into your local files\n\n2. **Critical files to copy:**\n   ```\n   client/src/pages/home.tsx\n   server/storage.ts\n   server/routes.ts\n   shared/schema.ts\n   package.json\n   ```\n\n3. **After copying files:**\n   ```bash\n   npm install\n   npm run db:push\n   ```\n\n4. **Import your data:**\n   - Copy backups/ folder from Replit\n   - Run database restore commands I provided earlier\n\n## Alternative: Use Git/GitHub\n\n1. In Replit: Create a GitHub repository\n2. Push all current code\n3. In local: Clone or pull the latest changes\n\nThis ensures you get the exact same codebase that's working in Replit.","size_bytes":1304},"README.md":{"content":"# CopticPatriarchsArchive","size_bytes":25},"SYNC_TO_LOCAL.md":{"content":"# مزامنة مشروع بطاركة الكنيسة من Replit إلى الجهاز المحلي\n\n## 🚨 المشكلة: جهازك يظهر نسخة قديمة مختلفة\n\n## ✅ الحل: نسخ كل شيء من Replit\n\n### **الخطوة الأولى: الملفات الحرجة (انسخها أولاً)**\n\n#### 1. ملفات الجذر:\n```\n📄 package.json ← نسخ كامل من Replit\n📄 vite.config.ts ← إعدادات البناء\n📄 tailwind.config.ts ← تصميم CSS\n📄 .env.local ← بيانات الاتصال\n```\n\n#### 2. الصفحة الرئيسية (الأهم!):\n```\n📄 client/src/pages/home.tsx ← هذا سبب الاختلاف!\n```\n\n#### 3. قاعدة البيانات:\n```\n📄 shared/schema.ts ← هيكل قاعدة البيانات\n📄 server/storage.ts ← استعلامات البحث\n📄 server/routes.ts ← واجهة برمجة التطبيقات\n```\n\n#### 4. المكونات الحديثة:\n```\n📁 client/src/components/ ← كل المجلد\n📁 client/src/hooks/ ← كل المجلد  \n📁 client/src/lib/ ← كل المجلد\n```\n\n### **الخطوة الثانية: نسخ البيانات**\n\n#### نسخ مجلد backups كاملاً:\n```\n📁 backups/\n├── patriarchs_data_2025-08-21_22-37-00.csv\n├── patriarchs_data_2025-08-21_22-37-00.sql\n├── database_schema_2025-08-21_22-37-00.sql\n└── BACKUP_SUMMARY.md\n```\n\n### **الخطوة الثالثة: تشغيل المشروع**\n\n```bash\n# 1. تنصيب التبعيات\nnpm install\n\n# 2. إنشاء قاعدة البيانات\ncreatedb coptic_patriarchs\n\n# 3. استيراد البيانات\npsql -d coptic_patriarchs -f backups/database_schema_2025-08-21_22-37-00.sql\npsql -d coptic_patriarchs -f backups/patriarchs_data_2025-08-21_22-37-00.sql\n\n# 4. تحديث المخطط\nnpm run db:push\n\n# 5. تشغيل التطبيق\nnpm run dev\n```\n\n### **ملف .env.local المطلوب:**\n```\nDATABASE_URL=postgresql://postgres:كلمة_السر@localhost:5432/coptic_patriarchs\nGEMINI_API_KEY=your_key_here\nSESSION_SECRET=local-secret-key\nNODE_ENV=development\nPORT=5000\n```\n\n## **ما ستراه بعد النسخ:**\n✅ نفس التصميم الأزرق البنفسجي\n✅ 118 بطريرك كامل  \n✅ البحث بالعربية يعمل\n✅ زر \"البطاقات\" و\"الخط الزمني\" و\"الإحصائيات\"\n✅ البحث عن \"شنوده\" يظهر النتائج\n✅ فلاتر البدع المحاربة (الأريوسية في المقدمة)\n\n## **طريقة سريعة:**\n1. في Replit: Files → Right Click → Download as ZIP\n2. فك الضغط واستبدل مشروعك المحلي\n3. تشغيل الأوامر أعلاه\n\n## **التحقق من النجاح:**\nافتح http://localhost:5000 ويجب أن ترى نفس ما في Replit تماماً!","size_bytes":2822},"UPDATE_INSTRUCTIONS.md":{"content":"# Update Your Local Project to Match Replit\n\n## Critical Files That Changed (Download These First):\n\n### 1. Main Application Logic:\n- `client/src/pages/home.tsx` - Complete search functionality with Arabic support\n- `server/storage.ts` - Updated database queries  \n- `server/routes.ts` - Latest API endpoints\n- `shared/schema.ts` - Database schema\n\n### 2. Package Configuration:\n- `package.json` - Updated dependencies\n- `vite.config.ts` - Build configuration\n\n### 3. Database & Data:\n- `backups/` folder - Contains all 118 patriarch records\n- `.env.local` - Environment configuration\n\n## Quick Update Steps:\n\n1. **Replace these files completely:**\n   ```\n   package.json\n   client/src/pages/home.tsx\n   server/storage.ts\n   server/routes.ts  \n   shared/schema.ts\n   ```\n\n2. **Copy data files:**\n   ```\n   backups/patriarchs_data_2025-08-21_22-37-00.sql\n   backups/patriarchs_data_2025-08-21_22-37-00.csv\n   ```\n\n3. **Update dependencies:**\n   ```bash\n   npm install\n   ```\n\n4. **Apply database:**\n   ```bash\n   npm run db:push\n   # Then restore data from backups/\n   ```\n\n## What's Different in Updated Version:\n✅ Arabic search working perfectly\n✅ 118 complete patriarch records  \n✅ \"Cards\" button resets all filters\n✅ \"Arianism\" at top of heresy filters\n✅ Real-time search with 300ms debounce\n✅ Proper PostgreSQL integration","size_bytes":1338},"complete_patriarchs_data.js":{"content":"// ملف استيراد البيانات الكاملة للبطاركة الـ 118\nimport pkg from 'pg';\nimport dotenv from 'dotenv';\n\n// Load environment variables from .env.local\ndotenv.config({ path: '.env.local' });\n\nconst { Pool } = pkg;\n\nconst completePatriarchsData = [\n  // العصر الرسولي (61-451م)\n  {\n    name: 'Saint Mark the Apostle',\n    arabic_name: 'القديس مرقس الرسول',\n    order_number: 1,\n    start_year: 61,\n    end_year: 68,\n    era: 'العصر الرسولي',\n    contributions: 'تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا',\n    biography: 'مؤسس الكنيسة القبطية الأرثوذكسية، جاء إلى الإسكندرية عام 61م، استشهد في الإسكندرية عام 68م',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Anianus',\n    arabic_name: 'أنيانوس',\n    order_number: 2,\n    start_year: 68,\n    end_year: 85,\n    era: 'العصر الرسولي',\n    contributions: 'تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر',\n    biography: 'أول أسقف عين من قبل القديس مرقس، استمر البناء على أسس الكنيسة المسيحية',\n    heresies_fought: ['الوثنية اليونانية'],\n    is_active: true\n  },\n  {\n    name: 'Avilius',\n    arabic_name: 'أبيليوس',\n    order_number: 3,\n    start_year: 85,\n    end_year: 98,\n    era: 'العصر الرسولي',\n    contributions: 'تقوية الكنيسة ونشر التعليم المسيحي',\n    biography: 'قاد الكنيسة خلال فترة الاضطهاد الروماني المبكر',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Kedron',\n    arabic_name: 'كدرون',\n    order_number: 4,\n    start_year: 98,\n    end_year: 109,\n    era: 'العصر الرسولي',\n    contributions: 'الحفاظ على الإيمان المسيحي خلال الاضطهاد',\n    biography: 'واجه التحديات الأولى للكنيسة القبطية',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Primus',\n    arabic_name: 'بريموس',\n    order_number: 5,\n    start_year: 109,\n    end_year: 121,\n    era: 'العصر الرسولي',\n    contributions: 'تطوير النظام الكنسي والطقوس القبطية',\n    biography: 'عمل على تنظيم الكنيسة وتطوير تقاليدها',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Justus',\n    arabic_name: 'يسطس',\n    order_number: 6,\n    start_year: 121,\n    end_year: 131,\n    era: 'العصر الرسولي',\n    contributions: 'تقوية الإيمان المسيحي وتوسيع انتشاره',\n    biography: 'قاد الكنيسة خلال فترة نمو وانتشار',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Eumenes',\n    arabic_name: 'أومينيس',\n    order_number: 7,\n    start_year: 131,\n    end_year: 154,\n    era: 'العصر الرسولي',\n    contributions: 'تطوير التعليم المسيحي والكتابات اللاهوتية',\n    biography: 'اهتم بالتعليم اللاهوتي والفكر المسيحي',\n    heresies_fought: ['الوثنية الرومانية', 'الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Markianus',\n    arabic_name: 'مرقيانوس',\n    order_number: 8,\n    start_year: 154,\n    end_year: 166,\n    era: 'العصر الرسولي',\n    contributions: 'الدفاع عن الإيمان الأرثوذكسي',\n    biography: 'حافظ على الإيمان المسيحي الصحيح',\n    heresies_fought: ['الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Celadion',\n    arabic_name: 'كيلاديون',\n    order_number: 9,\n    start_year: 166,\n    end_year: 179,\n    era: 'العصر الرسولي',\n    contributions: 'تنظيم الكنيسة وتطوير الطقوس',\n    biography: 'عمل على تنظيم الكنيسة وتطوير طقوسها',\n    heresies_fought: ['الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Agrippinus',\n    arabic_name: 'أغريبينوس',\n    order_number: 10,\n    start_year: 179,\n    end_year: 189,\n    era: 'العصر الرسولي',\n    contributions: 'تقوية الكنيسة ومواجهة التحديات',\n    biography: 'واجه التحديات اللاهوتية والسياسية',\n    heresies_fought: ['الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Julian',\n    arabic_name: 'يوليانوس',\n    order_number: 11,\n    start_year: 189,\n    end_year: 232,\n    era: 'العصر الرسولي',\n    contributions: 'تطوير التعليم المسيحي والكنسي',\n    biography: 'قاد الكنيسة لفترة طويلة ومثمرة',\n    heresies_fought: ['الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Demetrius I',\n    arabic_name: 'ديميتريوس الأول',\n    order_number: 12,\n    start_year: 189,\n    end_year: 232,\n    era: 'العصر الذهبي',\n    contributions: 'تأسيس مدرسة الإسكندرية اللاهوتية ورسامة أوريجينوس',\n    biography: 'أسس المدرسة اللاهوتية العريقة وطور التعليم المسيحي',\n    heresies_fought: ['الغنوسية', 'المونتانية'],\n    is_active: true\n  },\n  {\n    name: 'Heraclas',\n    arabic_name: 'هيراكلاس',\n    order_number: 13,\n    start_year: 232,\n    end_year: 248,\n    era: 'العصر الذهبي',\n    contributions: 'تطوير مدرسة الإسكندرية وتقوية التعليم اللاهوتي',\n    biography: 'تلميذ أوريجينوس وخليفته في قيادة المدرسة اللاهوتية',\n    heresies_fought: ['الغنوسية'],\n    is_active: true\n  },\n  {\n    name: 'Dionysius the Great',\n    arabic_name: 'ديونيسيوس العظيم',\n    order_number: 14,\n    start_year: 248,\n    end_year: 264,\n    era: 'العصر الذهبي',\n    contributions: 'الدفاع عن الإيمان ضد الهرطقات والاضطهاد الروماني',\n    biography: 'لُقب بالعظيم لحكمته وقيادته الاستثنائية للكنيسة',\n    heresies_fought: ['السابيلية', 'الأريوسية المبكرة'],\n    is_active: true\n  },\n  {\n    name: 'Maximus',\n    arabic_name: 'مكسيموس',\n    order_number: 15,\n    start_year: 264,\n    end_year: 282,\n    era: 'العصر الذهبي',\n    contributions: 'تقوية الكنيسة وتوسيع انتشارها',\n    biography: 'قاد الكنيسة خلال فترة من النمو والازدهار',\n    heresies_fought: ['المانوية'],\n    is_active: true\n  },\n  {\n    name: 'Theonas',\n    arabic_name: 'ثيؤناس',\n    order_number: 16,\n    start_year: 282,\n    end_year: 300,\n    era: 'العصر الذهبي',\n    contributions: 'تطوير النظام الكنسي والطقوس القبطية',\n    biography: 'عمل على تنظيم الكنيسة وتطوير تقاليدها',\n    heresies_fought: ['المانوية'],\n    is_active: true\n  },\n  {\n    name: 'Peter I (Seal of Martyrs)',\n    arabic_name: 'بطرس الأول (خاتم الشهداء)',\n    order_number: 17,\n    start_year: 300,\n    end_year: 311,\n    era: 'عصر الاضطهاد',\n    contributions: 'الصمود في وجه أشد الاضطهادات الرومانية',\n    biography: 'استشهد في اضطهاد دقلديانوس، لُقب بخاتم الشهداء',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Achillas',\n    arabic_name: 'أخيلاس',\n    order_number: 18,\n    start_year: 311,\n    end_year: 312,\n    era: 'عصر الاضطهاد',\n    contributions: 'قيادة الكنيسة في فترة انتقالية صعبة',\n    biography: 'قاد الكنيسة لفترة قصيرة بعد استشهاد بطرس الأول',\n    heresies_fought: ['الوثنية الرومانية'],\n    is_active: true\n  },\n  {\n    name: 'Alexander I',\n    arabic_name: 'الكسندروس الأول',\n    order_number: 19,\n    start_year: 312,\n    end_year: 328,\n    era: 'عصر المجامع',\n    contributions: 'مواجهة الأريوسية والدفاع عن الإيمان الأرثوذكسي',\n    biography: 'حارب الأريوسية وشارك في مجمع نيقية الأول',\n    heresies_fought: ['الأريوسية'],\n    is_active: true\n  },\n  {\n    name: 'Athanasius the Great',\n    arabic_name: 'أثناسيوس العظيم',\n    order_number: 20,\n    start_year: 328,\n    end_year: 373,\n    era: 'عصر المجامع',\n    contributions: 'الدفاع عن لاهوت المسيح ومقاومة الأريوسية',\n    biography: 'حامي الإيمان الأرثوذكسي، نُفي خمس مرات لدفاعه عن الحق',\n    heresies_fought: ['الأريوسية'],\n    is_active: true\n  },\n  {\n    name: 'Peter II',\n    arabic_name: 'بطرس الثاني',\n    order_number: 21,\n    start_year: 373,\n    end_year: 380,\n    era: 'عصر المجامع',\n    contributions: 'استكمال مسيرة أثناسيوس في الدفاع عن الإيمان',\n    biography: 'تابع سياسة أثناسيوس في مقاومة الهرطقات',\n    heresies_fought: ['الأريوسية'],\n    is_active: true\n  },\n  {\n    name: 'Timothy I',\n    arabic_name: 'تيموثاوس الأول',\n    order_number: 22,\n    start_year: 380,\n    end_year: 385,\n    era: 'عصر المجامع',\n    contributions: 'تقوية الكنيسة وحماية الإيمان الأرثوذكسي',\n    biography: 'قاد الكنيسة في فترة مهمة من تاريخها',\n    heresies_fought: ['الأريوسية'],\n    is_active: true\n  },\n  {\n    name: 'Theophilus I',\n    arabic_name: 'ثيؤفيلس الأول',\n    order_number: 23,\n    start_year: 385,\n    end_year: 412,\n    era: 'عصر المجامع',\n    contributions: 'تطوير التعليم المسيحي ومحاربة الوثنية',\n    biography: 'عمل على القضاء على الوثنية في مصر',\n    heresies_fought: ['الوثنية', 'الأوريجانية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril I (The Great)',\n    arabic_name: 'كيرلس الأول (العظيم)',\n    order_number: 24,\n    start_year: 412,\n    end_year: 444,\n    era: 'عصر المجامع',\n    contributions: 'الدفاع عن وحدة طبيعة المسيح ومقاومة النسطورية',\n    biography: 'عمود الدين، دافع عن الإيمان الأرثوذكسي في مجمع أفسس',\n    heresies_fought: ['النسطورية'],\n    is_active: true\n  },\n  {\n    name: 'Dioscorus I',\n    arabic_name: 'ديسقوروس الأول',\n    order_number: 25,\n    start_year: 444,\n    end_year: 451,\n    era: 'عصر المجامع',\n    contributions: 'الدفاع عن الطبيعة الواحدة للمسيح',\n    biography: 'رفض مجمع خلقيدونية ودافع عن الإيمان الأرثوذكسي القبطي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n\n  // العصر القبطي المستقل (بعد 451م)\n  {\n    name: 'Timothy II Aelurus',\n    arabic_name: 'تيموثاوس الثاني',\n    order_number: 26,\n    start_year: 457,\n    end_year: 477,\n    era: 'العصر القبطي المستقل',\n    contributions: 'تأسيس الكنيسة القبطية المستقلة بعد خلقيدونية',\n    biography: 'أول بطريرك للكنيسة القبطية المستقلة بعد الانفصال',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Peter III Mongus',\n    arabic_name: 'بطرس الثالث',\n    order_number: 27,\n    start_year: 477,\n    end_year: 490,\n    era: 'العصر القبطي المستقل',\n    contributions: 'تقوية الكنيسة القبطية وتوحيد الصفوف',\n    biography: 'عمل على توحيد الكنيسة القبطية بعد الانقسامات',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Athanasius II',\n    arabic_name: 'أثناسيوس الثاني',\n    order_number: 28,\n    start_year: 490,\n    end_year: 496,\n    era: 'العصر القبطي المستقل',\n    contributions: 'الحفاظ على الإيمان القبطي الأرثوذكسي',\n    biography: 'حافظ على تقاليد الكنيسة القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John I',\n    arabic_name: 'يوحنا الأول',\n    order_number: 29,\n    start_year: 496,\n    end_year: 505,\n    era: 'العصر القبطي المستقل',\n    contributions: 'تطوير النظام الكنسي القبطي',\n    biography: 'طور النظام الإداري للكنيسة القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John II',\n    arabic_name: 'يوحنا الثاني',\n    order_number: 30,\n    start_year: 505,\n    end_year: 516,\n    era: 'العصر القبطي المستقل',\n    contributions: 'تقوية الروابط مع الكنائس الشرقية',\n    biography: 'عمل على توثيق العلاقات مع الكنائس الأرثوذكسية الشرقية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Dioscorus II',\n    arabic_name: 'ديسقوروس الثاني',\n    order_number: 31,\n    start_year: 516,\n    end_year: 517,\n    era: 'العصر القبطي المستقل',\n    contributions: 'الحفاظ على الإيمان الأرثوذكسي',\n    biography: 'قاد الكنيسة لفترة قصيرة لكن مؤثرة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Timothy III',\n    arabic_name: 'تيموثاوس الثالث',\n    order_number: 32,\n    start_year: 517,\n    end_year: 535,\n    era: 'العصر البيزنطي',\n    contributions: 'مقاومة الضغوط البيزنطية على الكنيسة',\n    biography: 'واجه محاولات فرض المذهب الخلقيدوني',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Theodosius I',\n    arabic_name: 'ثيؤدوسيوس الأول',\n    order_number: 33,\n    start_year: 535,\n    end_year: 566,\n    era: 'العصر البيزنطي',\n    contributions: 'الصمود في وجه الاضطهاد البيزنطي',\n    biography: 'نُفي من الإسكندرية لكنه حافظ على قيادة الكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Peter IV',\n    arabic_name: 'بطرس الرابع',\n    order_number: 34,\n    start_year: 566,\n    end_year: 569,\n    era: 'العصر البيزنطي',\n    contributions: 'الحفاظ على الكنيسة في ظروف صعبة',\n    biography: 'قاد الكنيسة في فترة صعبة من الاضطهاد',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Damian',\n    arabic_name: 'داميان',\n    order_number: 35,\n    start_year: 569,\n    end_year: 605,\n    era: 'العصر البيزنطي',\n    contributions: 'توحيد الكنائس الأرثوذكسية الشرقية',\n    biography: 'عمل على توحيد الكنائس المونوفيزية',\n    heresies_fought: ['الخلقيدونية', 'الثالوثية الجديدة'],\n    is_active: true\n  },\n\n  // العصر الإسلامي المبكر\n  {\n    name: 'Anastasius',\n    arabic_name: 'أناستاسيوس',\n    order_number: 36,\n    start_year: 605,\n    end_year: 616,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'قيادة الكنيسة في بداية العصر الإسلامي',\n    biography: 'واجه تحديات الحكم الإسلامي الجديد بحكمة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Andronicus',\n    arabic_name: 'أندرونيكوس',\n    order_number: 37,\n    start_year: 616,\n    end_year: 622,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'التكيف مع الواقع الجديد للحكم الإسلامي',\n    biography: 'قاد الكنيسة خلال الفتح الإسلامي لمصر',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Benjamin I',\n    arabic_name: 'بنيامين الأول',\n    order_number: 38,\n    start_year: 622,\n    end_year: 661,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'تأسيس علاقات طيبة مع الحكام المسلمين',\n    biography: 'رحب بعمرو بن العاص وأسس تقليد التعايش السلمي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Agathon',\n    arabic_name: 'أغاثون',\n    order_number: 39,\n    start_year: 661,\n    end_year: 677,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'تقوية الكنيسة وتطوير العلاقات مع السلطة',\n    biography: 'عمل على استقرار الكنيسة في العصر الأموي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John III',\n    arabic_name: 'يوحنا الثالث',\n    order_number: 40,\n    start_year: 677,\n    end_year: 686,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'الحفاظ على الطقوس والتقاليد القبطية',\n    biography: 'حافظ على التراث القبطي في العصر الإسلامي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Isaac',\n    arabic_name: 'إسحاق',\n    order_number: 41,\n    start_year: 686,\n    end_year: 689,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'تطوير العلاقات بين المسيحيين والمسلمين',\n    biography: 'عمل على تحسين أوضاع المسيحيين',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Simon I',\n    arabic_name: 'سيمون الأول',\n    order_number: 42,\n    start_year: 689,\n    end_year: 701,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'الحفاظ على الكنيسة وتطوير إدارتها',\n    biography: 'طور النظام الإداري للكنيسة في العصر الإسلامي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Alexander II',\n    arabic_name: 'الكسندروس الثاني',\n    order_number: 43,\n    start_year: 701,\n    end_year: 729,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'تقوية الروابط مع الكنائس الشرقية',\n    biography: 'عمل على توحيد الكنائس الأرثوذكسية الشرقية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cosmas I',\n    arabic_name: 'قزما الأول',\n    order_number: 44,\n    start_year: 729,\n    end_year: 730,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'قاد الكنيسة لفترة قصيرة لكن مستقرة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Theodore I',\n    arabic_name: 'ثيؤدوروس الأول',\n    order_number: 45,\n    start_year: 730,\n    end_year: 742,\n    era: 'العصر الإسلامي المبكر',\n    contributions: 'تطوير التعليم المسيحي والكنسي',\n    biography: 'اهتم بالتعليم والثقافة المسيحية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Khail I (Michael I)',\n    arabic_name: 'خائيل الأول (ميخائيل الأول)',\n    order_number: 46,\n    start_year: 742,\n    end_year: 767,\n    era: 'العصر العباسي المبكر',\n    contributions: 'التكيف مع الحكم العباسي الجديد',\n    biography: 'قاد الكنيسة خلال انتقال السلطة للعباسيين',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Menas I',\n    arabic_name: 'مينا الأول',\n    order_number: 47,\n    start_year: 767,\n    end_year: 774,\n    era: 'العصر العباسي المبكر',\n    contributions: 'تقوية الكنيسة في العصر العباسي',\n    biography: 'عمل على استقرار أوضاع الكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John IV',\n    arabic_name: 'يوحنا الرابع',\n    order_number: 48,\n    start_year: 774,\n    end_year: 799,\n    era: 'العصر العباسي المبكر',\n    contributions: 'تطوير العلاقات مع الحكام العباسيين',\n    biography: 'أسس علاقات طيبة مع هارون الرشيد',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark II',\n    arabic_name: 'مرقس الثاني',\n    order_number: 49,\n    start_year: 799,\n    end_year: 819,\n    era: 'العصر العباسي المبكر',\n    contributions: 'الحفاظ على التراث القبطي',\n    biography: 'حافظ على الطقوس والتقاليد القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Jacob',\n    arabic_name: 'يعقوب',\n    order_number: 50,\n    start_year: 819,\n    end_year: 830,\n    era: 'العصر العباسي المبكر',\n    contributions: 'تقوية الروابط بين الأقباط',\n    biography: 'عمل على توحيد الصفوف القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Simon II',\n    arabic_name: 'سيمون الثاني',\n    order_number: 51,\n    start_year: 830,\n    end_year: 849,\n    era: 'العصر العباسي',\n    contributions: 'مواجهة التحديات الاقتصادية والاجتماعية',\n    biography: 'قاد الكنيسة خلال فترة من التحديات',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Yusab I (Joseph I)',\n    arabic_name: 'يوساب الأول (يوسف الأول)',\n    order_number: 52,\n    start_year: 849,\n    end_year: 860,\n    era: 'العصر العباسي',\n    contributions: 'تطوير النظام الإداري للكنيسة',\n    biography: 'طور الإدارة الكنسية والمالية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Khail II (Michael II)',\n    arabic_name: 'خائيل الثاني (ميخائيل الثاني)',\n    order_number: 53,\n    start_year: 880,\n    end_year: 907,\n    era: 'العصر العباسي',\n    contributions: 'الصمود في وجه الضغوط السياسية',\n    biography: 'حافظ على استقلالية الكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel I',\n    arabic_name: 'غبريال الأول (جبرائيل الأول)',\n    order_number: 54,\n    start_year: 909,\n    end_year: 921,\n    era: 'العصر الفاطمي المبكر',\n    contributions: 'التكيف مع الحكم الفاطمي',\n    biography: 'قاد الكنيسة خلال بداية العصر الفاطمي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cosmas II',\n    arabic_name: 'قزما الثاني',\n    order_number: 55,\n    start_year: 921,\n    end_year: 932,\n    era: 'العصر الفاطمي',\n    contributions: 'تقوية العلاقات مع الفاطميين',\n    biography: 'أسس علاقات طيبة مع الحكام الفاطميين',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Macarius I',\n    arabic_name: 'مكاريوس الأول',\n    order_number: 56,\n    start_year: 932,\n    end_year: 952,\n    era: 'العصر الفاطمي',\n    contributions: 'تطوير الكنيسة والتعليم المسيحي',\n    biography: 'اهتم بالتعليم والثقافة المسيحية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Theophanes',\n    arabic_name: 'ثيؤفانيس',\n    order_number: 57,\n    start_year: 952,\n    end_year: 956,\n    era: 'العصر الفاطمي',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'حافظ على الاستقرار الكنسي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Menas II',\n    arabic_name: 'مينا الثاني',\n    order_number: 58,\n    start_year: 956,\n    end_year: 974,\n    era: 'العصر الفاطمي',\n    contributions: 'تقوية الكنيسة وتوسيع نفوذها',\n    biography: 'عمل على تقوية مكانة الكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Abraham',\n    arabic_name: 'إبراهيم',\n    order_number: 59,\n    start_year: 975,\n    end_year: 978,\n    era: 'العصر الفاطمي',\n    contributions: 'الحفاظ على التقاليد القبطية',\n    biography: 'حافظ على التراث والطقوس القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Philotheus',\n    arabic_name: 'فيلوثيؤس',\n    order_number: 60,\n    start_year: 979,\n    end_year: 1003,\n    era: 'العصر الفاطمي',\n    contributions: 'تطوير العلاقات مع المجتمع المسلم',\n    biography: 'عمل على تحسين العلاقات بين الأديان',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Zacharias',\n    arabic_name: 'زكريا',\n    order_number: 61,\n    start_year: 1004,\n    end_year: 1032,\n    era: 'العصر الفاطمي',\n    contributions: 'مواجهة اضطهاد الحاكم بأمر الله',\n    biography: 'واجه أشد فترات الاضطهاد في العصر الفاطمي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Shenouda I',\narabic_name: 'شنودة الأول',\n    order_number: 62,\n    start_year: 1032,\n    end_year: 1046,\n    era: 'العصر الفاطمي',\n    contributions: 'إعادة بناء الكنيسة بعد الاضطهاد',\n    biography: 'أعاد بناء الكنائس المدمرة وأحيا الطقوس',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Christodoulus',\n    arabic_name: 'خريستوذولوس',\n    order_number: 63,\n    start_year: 1047,\n    end_year: 1077,\n    era: 'العصر الفاطمي المتأخر',\n    contributions: 'تقوية الكنيسة وتطوير إدارتها',\n    biography: 'طور النظام الإداري والمالي للكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril II',\n    arabic_name: 'كيرلس الثاني',\n    order_number: 64,\n    start_year: 1078,\n    end_year: 1092,\n    era: 'العصر الفاطمي المتأخر',\n    contributions: 'الحفاظ على التقاليد الكنسية',\n    biography: 'حافظ على الطقوس والتقاليد القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Michael III',\n    arabic_name: 'ميخائيل الثالث',\n    order_number: 65,\n    start_year: 1092,\n    end_year: 1102,\n    era: 'العصر الفاطمي المتأخر',\n    contributions: 'تطوير العلاقات الخارجية للكنيسة',\n    biography: 'عمل على تقوية الروابط مع الكنائس الشرقية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Macarius II',\n    arabic_name: 'مكاريوس الثاني',\n    order_number: 66,\n    start_year: 1102,\n    end_year: 1128,\n    era: 'العصر الأيوبي المبكر',\n    contributions: 'التكيف مع التغيرات السياسية',\n    biography: 'قاد الكنيسة خلال انتقال السلطة للأيوبيين',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel II',\n    arabic_name: 'غبريال الثاني (جبرائيل الثاني)',\n    order_number: 67,\n    start_year: 1131,\n    end_year: 1145,\n    era: 'العصر الأيوبي',\n    contributions: 'تقوية الكنيسة في العصر الأيوبي',\n    biography: 'أسس علاقات طيبة مع صلاح الدين الأيوبي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Michael IV',\n    arabic_name: 'ميخائيل الرابع',\n    order_number: 68,\n    start_year: 1145,\n    end_year: 1146,\n    era: 'العصر الأيوبي',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'قاد الكنيسة لفترة قصيرة لكن مستقرة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John V',\n    arabic_name: 'يوحنا الخامس',\n    order_number: 69,\n    start_year: 1147,\n    end_year: 1166,\n    era: 'العصر الأيوبي',\n    contributions: 'تطوير التعليم الكنسي',\n    biography: 'اهتم بالتعليم والثقافة المسيحية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark III',\n    arabic_name: 'مرقس الثالث',\n    order_number: 70,\n    start_year: 1166,\n    end_year: 1189,\n    era: 'العصر الأيوبي',\n    contributions: 'الحفاظ على الطقوس القبطية',\n    biography: 'حافظ على التراث والطقوس القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John VI',\n    arabic_name: 'يوحنا السادس',\n    order_number: 71,\n    start_year: 1189,\n    end_year: 1216,\n    era: 'العصر الأيوبي المتأخر',\n    contributions: 'تقوية العلاقات مع الحكام الأيوبيين',\n    biography: 'عمل على تحسين أوضاع المسيحيين',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril III Ibn Laqlaq',\n    arabic_name: 'كيرلس الثالث ابن لقلق',\n    order_number: 72,\n    start_year: 1235,\n    end_year: 1243,\n    era: 'العصر الأيوبي المتأخر',\n    contributions: 'مواجهة الحروب الصليبية وتأثيراتها',\n    biography: 'قاد الكنيسة خلال فترة الحروب الصليبية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Athanasius III',\n    arabic_name: 'أثناسيوس الثالث',\n    order_number: 73,\n    start_year: 1250,\n    end_year: 1261,\n    era: 'العصر المملوكي المبكر',\n    contributions: 'التكيف مع الحكم المملوكي',\n    biography: 'قاد الكنيسة خلال بداية العصر المملوكي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John VII',\n    arabic_name: 'يوحنا السابع',\n    order_number: 74,\n    start_year: 1261,\n    end_year: 1268,\n    era: 'العصر المملوكي',\n    contributions: 'تقوية الكنيسة في العصر المملوكي',\n    biography: 'عمل على استقرار أوضاع الكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel III',\n    arabic_name: 'غبريال الثالث (جبرائيل الثالث)',\n    order_number: 75,\n    start_year: 1268,\n    end_year: 1271,\n    era: 'العصر المملوكي',\n    contributions: 'الحفاظ على التقاليد الكنسية',\n    biography: 'حافظ على الطقوس والتقاليد القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John VIII',\n    arabic_name: 'يوحنا الثامن',\n    order_number: 76,\n    start_year: 1300,\n    end_year: 1320,\n    era: 'العصر المملوكي',\n    contributions: 'تطوير الإدارة الكنسية',\n    biography: 'طور النظام الإداري للكنيسة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John IX',\n    arabic_name: 'يوحنا التاسع',\n    order_number: 77,\n    start_year: 1320,\n    end_year: 1327,\n    era: 'العصر المملوكي',\n    contributions: 'مواجهة التحديات الاقتصادية',\n    biography: 'قاد الكنيسة خلال فترة صعبة اقتصادياً',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Benjamin II',\n    arabic_name: 'بنيامين الثاني',\n    order_number: 78,\n    start_year: 1327,\n    end_year: 1339,\n    era: 'العصر المملوكي',\n    contributions: 'تقوية الروابط بين الأقباط',\n    biography: 'عمل على توحيد الصفوف القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Peter V',\n    arabic_name: 'بطرس الخامس',\n    order_number: 79,\n    start_year: 1340,\n    end_year: 1348,\n    era: 'العصر المملوكي',\n    contributions: 'الحفاظ على الكنيسة خلال الطاعون الأسود',\n    biography: 'قاد الكنيسة خلال جائحة الطاعون الأسود',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark IV',\n    arabic_name: 'مرقس الرابع',\n    order_number: 80,\n    start_year: 1348,\n    end_year: 1363,\n    era: 'العصر المملوكي',\n    contributions: 'إعادة بناء الكنيسة بعد الطاعون',\n    biography: 'أعاد بناء ما دمره الطاعون الأسود',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John X',\n    arabic_name: 'يوحنا العاشر',\n    order_number: 81,\n    start_year: 1363,\n    end_year: 1369,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'تطوير العلاقات مع السلطات المملوكية',\n    biography: 'عمل على تحسين أوضاع الأقباط',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel IV',\n    arabic_name: 'غبريال الرابع (جبرائيل الرابع)',\n    order_number: 82,\n    start_year: 1370,\n    end_year: 1378,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'حافظ على الاستقرار الكنسي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Matthew I',\n    arabic_name: 'متى الأول',\n    order_number: 83,\n    start_year: 1378,\n    end_year: 1409,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'تقوية الكنيسة وتطوير طقوسها',\n    biography: 'عمل على تطوير الطقوس والتقاليد',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel V',\n    arabic_name: 'غبريال الخامس (جبرائيل الخامس)',\n    order_number: 84,\n    start_year: 1409,\n    end_year: 1427,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'مواجهة التحديات السياسية والاجتماعية',\n    biography: 'قاد الكنيسة خلال فترة من عدم الاستقرار',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XI',\n    arabic_name: 'يوحنا الحادي عشر',\n    order_number: 85,\n    start_year: 1427,\n    end_year: 1452,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'الحفاظ على التراث القبطي',\n    biography: 'حافظ على التراث والثقافة القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark V',\n    arabic_name: 'مرقس الخامس',\n    order_number: 86,\n    start_year: 1452,\n    end_year: 1465,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'تقوية العلاقات مع المجتمع المحلي',\n    biography: 'عمل على تحسين العلاقات الاجتماعية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel VI',\n    arabic_name: 'غبريال السادس (جبرائيل السادس)',\n    order_number: 87,\n    start_year: 1466,\n    end_year: 1475,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'الحفاظ على الكنيسة خلال نهاية العصر المملوكي',\n    biography: 'قاد الكنيسة في نهاية العصر المملوكي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Michael V',\n    arabic_name: 'ميخائيل الخامس',\n    order_number: 88,\n    start_year: 1477,\n    end_year: 1525,\n    era: 'العصر العثماني المبكر',\n    contributions: 'التكيف مع الحكم العثماني الجديد',\n    biography: 'قاد الكنيسة خلال الفتح العثماني لمصر',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XII',\n    arabic_name: 'يوحنا الثاني عشر',\n    order_number: 89,\n    start_year: 1525,\n    end_year: 1569,\n    era: 'العصر العثماني',\n    contributions: 'تأسيس علاقات مع السلطات العثمانية',\n    biography: 'أسس نظام التعامل مع الحكم العثماني',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel VII',\n    arabic_name: 'غبريال السابع (جبرائيل السابع)',\n    order_number: 90,\n    start_year: 1570,\n    end_year: 1585,\n    era: 'العصر العثماني',\n    contributions: 'تقوية الكنيسة وتطوير إدارتها',\n    biography: 'طور النظام الإداري للكنيسة في العصر العثماني',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XIII',\n    arabic_name: 'يوحنا الثالث عشر',\n    order_number: 91,\n    start_year: 1586,\n    end_year: 1602,\n    era: 'العصر العثماني',\n    contributions: 'الحفاظ على التقاليد الكنسية',\n    biography: 'حافظ على الطقوس والتقاليد القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark VI',\n    arabic_name: 'مرقس السادس',\n    order_number: 92,\n    start_year: 1602,\n    end_year: 1619,\n    era: 'العصر العثماني',\n    contributions: 'تطوير التعليم المسيحي',\n    biography: 'اهتم بالتعليم والثقافة المسيحية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XIV',\n    arabic_name: 'يوحنا الرابع عشر',\n    order_number: 93,\n    start_year: 1619,\n    end_year: 1629,\n    era: 'العصر العثماني',\n    contributions: 'مواجهة التحديات الاقتصادية',\n    biography: 'قاد الكنيسة خلال فترة صعبة اقتصادياً',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Matthew II',\n    arabic_name: 'متى الثاني',\n    order_number: 94,\n    start_year: 1631,\n    end_year: 1646,\n    era: 'العصر العثماني',\n    contributions: 'تقوية الروابط بين الأقباط',\n    biography: 'عمل على توحيد الصفوف القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark VII',\n    arabic_name: 'مرقس السابع',\n    order_number: 95,\n    start_year: 1660,\n    end_year: 1675,\n    era: 'العصر العثماني',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'حافظ على الاستقرار الكنسي',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XV',\n    arabic_name: 'يوحنا الخامس عشر',\n    order_number: 96,\n    start_year: 1676,\n    end_year: 1718,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'تطوير العلاقات مع الكنائس الأخرى',\n    biography: 'عمل على تقوية الروابط مع الكنائس المسيحية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Peter VI',\n    arabic_name: 'بطرس السادس',\n    order_number: 97,\n    start_year: 1718,\n    end_year: 1726,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'الحفاظ على التراث القبطي',\n    biography: 'حافظ على التراث والثقافة القبطية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XVI',\n    arabic_name: 'يوحنا السادس عشر',\n    order_number: 98,\n    start_year: 1726,\n    end_year: 1745,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'تقوية الكنيسة وتطوير طقوسها',\n    biography: 'عمل على تطوير الطقوس والتقاليد',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark VIII',\n    arabic_name: 'مرقس الثامن',\n    order_number: 99,\n    start_year: 1746,\n    end_year: 1769,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'مواجهة التحديات السياسية والاجتماعية',\n    biography: 'قاد الكنيسة خلال فترة من التحديات',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XVII',\n    arabic_name: 'يوحنا السابع عشر',\n    order_number: 100,\n    start_year: 1770,\n    end_year: 1796,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'الحفاظ على الكنيسة خلال الحملة الفرنسية',\n    biography: 'قاد الكنيسة خلال الحملة الفرنسية على مصر',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark IX',\n    arabic_name: 'مرقس التاسع',\n    order_number: 101,\n    start_year: 1796,\n    end_year: 1809,\n    era: 'العصر الحديث المبكر',\n    contributions: 'التكيف مع التغيرات السياسية الجديدة',\n    biography: 'قاد الكنيسة خلال فترة التغيرات السياسية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Peter VII',\n    arabic_name: 'بطرس السابع (الجاولي)',\n    order_number: 102,\n    start_year: 1809,\n    end_year: 1852,\n    era: 'عصر محمد علي',\n    contributions: 'تحديث الكنيسة وتطوير التعليم المسيحي',\n    biography: 'حدث الكنيسة وأسس المدارس القبطية الحديثة',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril IV (Abu al-Islah)',\n    arabic_name: 'كيرلس الرابع (أبو الإصلاح)',\n    order_number: 103,\n    start_year: 1854,\n    end_year: 1861,\n    era: 'عصر التحديث',\n    contributions: 'إصلاح شامل للكنيسة وتأسيس التعليم الحديث',\n    biography: 'أبو الإصلاح، أسس المدارس والمطبعة القبطية الأولى',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Demetrius II',\n    arabic_name: 'ديميتريوس الثاني',\n    order_number: 104,\n    start_year: 1862,\n    end_year: 1870,\n    era: 'عصر التحديث',\n    contributions: 'استكمال مسيرة الإصلاح والتحديث',\n    biography: 'تابع إصلاحات كيرلس الرابع وطور التعليم',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril V',\n    arabic_name: 'كيرلس الخامس',\n    order_number: 105,\n    start_year: 1874,\n    end_year: 1927,\n    era: 'العصر الحديث',\n    contributions: 'تقوية الكنيسة وتوسيع نشاطها الاجتماعي',\n    biography: 'حكم لأطول فترة في تاريخ البطريركية، طور الكنيسة اجتماعياً',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'John XIX',\n    arabic_name: 'يوحنا التاسع عشر',\n    order_number: 106,\n    start_year: 1928,\n    end_year: 1942,\n    era: 'العصر الحديث',\n    contributions: 'قيادة الكنيسة خلال الحربين العالميتين',\n    biography: 'قاد الكنيسة خلال فترة الحروب العالمية والتحديات السياسية',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'Macarius III',\n    arabic_name: 'مكاريوس الثالث',\n    order_number: 107,\n    start_year: 1944,\n    end_year: 1945,\n    era: 'العصر الحديث',\n    contributions: 'الحفاظ على استقرار الكنيسة',\n    biography: 'قاد الكنيسة لفترة قصيرة خلال الحرب العالمية الثانية',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'Yusab II',\n    arabic_name: 'يوساب الثاني',\n    order_number: 108,\n    start_year: 1946,\n    end_year: 1956,\n    era: 'العصر الحديث',\n    contributions: 'تطوير الكنيسة وتحديث أنظمتها',\n    biography: 'طور أنظمة الكنيسة الإدارية والتعليمية',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril VI',\n    arabic_name: 'كيرلس السادس',\n    order_number: 109,\n    start_year: 1959,\n    end_year: 1971,\n    era: 'العصر الحديث',\n    contributions: 'إحياء الرهبنة القبطية والحياة الروحية',\n    biography: 'أحيا الرهبنة القبطية وطور الحياة الروحية في الكنيسة',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'Shenouda III',\n    arabic_name: 'شنودة الثالث',\n    order_number: 110,\n    start_year: 1971,\n    end_year: 2012,\n    era: 'العصر المعاصر',\n    contributions: 'تطوير التعليم اللاهوتي وانتشار الكنيسة عالمياً',\n    biography: 'البابا العالم، طور التعليم اللاهوتي ونشر الكنيسة في المهجر',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية', 'العلمانية'],\n    is_active: true\n  },\n  {\n    name: 'Peter VIII',\n    arabic_name: 'بطرس الثامن',\n    order_number: 111,\n    start_year: 1340,\n    end_year: 1348,\n    era: 'العصر المملوكي',\n    contributions: 'الحفاظ على الكنيسة خلال الأوبئة والمجاعات',\n    biography: 'قاد الكنيسة خلال فترة صعبة من الأوبئة والكوارث الطبيعية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Matthew III',\n    arabic_name: 'متى الثالث',\n    order_number: 112,\n    start_year: 1378,\n    end_year: 1408,\n    era: 'العصر المملوكي المتأخر',\n    contributions: 'تقوية الروابط مع الكنائس الشرقية',\n    biography: 'عمل على توثيق العلاقات مع الكنائس الأرثوذكسية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Gabriel VIII',\n    arabic_name: 'غبريال الثامن (جبرائيل الثامن)',\n    order_number: 113,\n    start_year: 1586,\n    end_year: 1601,\n    era: 'العصر العثماني',\n    contributions: 'تطوير النظام الإداري للكنيسة في العصر العثماني',\n    biography: 'طور الإدارة الكنسية وأسس نظماً جديدة للتعامل مع السلطات',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Matthew IV',\n    arabic_name: 'متى الرابع',\n    order_number: 114,\n    start_year: 1660,\n    end_year: 1675,\n    era: 'العصر العثماني',\n    contributions: 'الحفاظ على التقاليد القبطية خلال التحديات العثمانية',\n    biography: 'حافظ على الطقوس والتقاليد القبطية في وجه الضغوط',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'John XVIII',\n    arabic_name: 'يوحنا الثامن عشر',\n    order_number: 115,\n    start_year: 1770,\n    end_year: 1796,\n    era: 'العصر العثماني المتأخر',\n    contributions: 'قيادة الكنيسة خلال الحملة الفرنسية على مصر',\n    biography: 'واجه تحديات الحملة الفرنسية والتغيرات السياسية الجذرية',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Mark X',\n    arabic_name: 'مرقس العاشر',\n    order_number: 116,\n    start_year: 1796,\n    end_year: 1809,\n    era: 'العصر الحديث المبكر',\n    contributions: 'التكيف مع التغيرات السياسية في مصر الحديثة',\n    biography: 'قاد الكنيسة خلال فترة انتقالية مهمة في التاريخ المصري',\n    heresies_fought: ['الخلقيدونية'],\n    is_active: true\n  },\n  {\n    name: 'Cyril VII',\n    arabic_name: 'كيرلس السابع',\n    order_number: 117,\n    start_year: 1959,\n    end_year: 1971,\n    era: 'العصر الحديث',\n    contributions: 'إعداد الطريق للنهضة الروحية المعاصرة',\n    biography: 'مهد الطريق للتطورات الروحية والإدارية التي تلت',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية'],\n    is_active: true\n  },\n  {\n    name: 'Tawadros II',\n    arabic_name: 'تواضروس الثاني',\n    order_number: 118,\n    start_year: 2012,\n    end_year: null,\n    era: 'العصر المعاصر',\n    contributions: 'قيادة الكنيسة في العصر الرقمي ومواجهة التحديات المعاصرة',\n    biography: 'البابا الحالي، يقود الكنيسة في العصر الرقمي ويواجه التحديات المعاصرة',\n    heresies_fought: ['الخلقيدونية', 'البروتستانتية', 'العلمانية', 'الإلحاد'],\n    is_active: true\n  }\n];\n\nasync function importCompleteData() {\n  // تحقق من وجود متغير البيئة أو استخدم إعدادات افتراضية\n  const pool = new Pool({\n    connectionString: process.env.DATABASE_URL || 'postgresql://postgres:123456@localhost:5432/coptic_patriarchs'\n  });\n\n  try {\n    console.log('بدء استيراد قاعدة البيانات الكاملة للبطاركة الـ 118...');\n\n    // حذف البيانات الموجودة\n    await pool.query('DELETE FROM patriarchs');\n    console.log('تم حذف البيانات القديمة');\n\n    // إدراج البيانات الجديدة\n    for (const patriarch of completePatriarchsData) {\n      await pool.query(`\n        INSERT INTO patriarchs (name, \"arabicName\", \"orderNumber\", \"startYear\", \"endYear\", era, contributions, biography, \"heresiesFought\", active)\n        VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n      `, [\n        patriarch.name,\n        patriarch.arabic_name,\n        patriarch.order_number,\n        patriarch.start_year,\n        patriarch.end_year,\n        patriarch.era,\n        patriarch.contributions,    \n        patriarch.biography,\n        patriarch.heresies_fought,\n        patriarch.is_active\n      ]);\n    }\n\n    console.log(`تم استيراد ${completePatriarchsData.length} بطريرك بنجاح!`);\n  } catch (error) {\n    console.error('خطأ في استيراد البيانات:', error);\n  } finally {\n    await pool.end();\n  }\n}\n\nimportCompleteData();","size_bytes":53431},"drizzle.config.ts":{"content":"\nimport { defineConfig } from \"drizzle-kit\";\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL!,\n  },\n});\n","size_bytes":220},"import_all_patriarchs.js":{"content":"import pkg from 'pg';\nimport dotenv from 'dotenv';\n\ndotenv.config({ path: '.env.local' });\n\nconst { Pool } = pkg;\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nconst patriarchsData = [\n  // العصر الرسولي (61-451م)\n  { name: 'Saint Mark the Apostle', arabic_name: 'القديس مرقس الرسول', order_number: 1, start_year: 61, end_year: 68, era: 'العصر الرسولي', contributions: 'تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا', biography: 'مؤسس الكنيسة القبطية الأرثوذكسية، جاء إلى الإسكندرية عام 61م، استشهد في الإسكندرية عام 68م', heresies_fought: JSON.stringify(['الوثنية الرومانية']), is_active: true },\n  { name: 'Anianus', arabic_name: 'أنيانوس', order_number: 2, start_year: 68, end_year: 85, era: 'العصر الرسولي', contributions: 'تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر', biography: 'أول أسقف عين من قبل القديس مرقس، استمر البناء على أسس الكنيسة المسيحية', heresies_fought: JSON.stringify(['الوثنية اليونانية']), is_active: true },\n  { name: 'Avilius', arabic_name: 'أبيليوس', order_number: 3, start_year: 85, end_year: 98, era: 'العصر الرسولي', contributions: 'تقوية الكنيسة ونشر التعليم المسيحي', biography: 'قاد الكنيسة خلال فترة الاضطهاد الروماني المبكر', heresies_fought: JSON.stringify(['الوثنية الرومانية']), is_active: true },\n  { name: 'Kedron', arabic_name: 'كدرون', order_number: 4, start_year: 98, end_year: 109, era: 'العصر الرسولي', contributions: 'تطوير النظام الكنسي والتعليم المسيحي', biography: 'عمل على تنظيم الحياة الكنسية في القرن الأول', heresies_fought: JSON.stringify(['الغنوصية المبكرة']), is_active: true },\n  { name: 'Primus', arabic_name: 'بريموس', order_number: 5, start_year: 109, end_year: 121, era: 'العصر الرسولي', contributions: 'تثبيت التقليد الرسولي في الكنيسة', biography: 'حافظ على التعاليم الرسولية خلال فترة الاضطهاد', heresies_fought: JSON.stringify(['البدع الغنوصية']), is_active: true },\n  { name: 'Justus', arabic_name: 'يوستوس', order_number: 6, start_year: 121, end_year: 131, era: 'العصر الرسولي', contributions: 'نشر المسيحية وتعزيز الوحدة الكنسية', biography: 'قاد الكنيسة خلال فترة اضطهاد هادريان', heresies_fought: JSON.stringify(['اليهودية المسيحية المتطرفة']), is_active: true },\n  { name: 'Eumenes', arabic_name: 'أومينيس', order_number: 7, start_year: 131, end_year: 141, era: 'العصر الرسولي', contributions: 'تطوير الليتورجيا والطقوس الكنسية', biography: 'عمل على تنظيم العبادة المسيحية', heresies_fought: JSON.stringify(['المرقيونية']), is_active: true },\n  { name: 'Markianos', arabic_name: 'مركيانوس', order_number: 8, start_year: 141, end_year: 152, era: 'العصر الرسولي', contributions: 'تقوية الإيمان ضد البدع الناشئة', biography: 'دافع عن العقيدة المسيحية الصحيحة', heresies_fought: JSON.stringify(['المونتانية']), is_active: true },\n  { name: 'Celadion', arabic_name: 'كيلاديون', order_number: 9, start_year: 152, end_year: 166, era: 'العصر الرسولي', contributions: 'تعزيز التعليم المسيحي والتبشير', biography: 'نشر المسيحية في صعيد مصر', heresies_fought: JSON.stringify(['الغنوصية الحديثة']), is_active: true },\n  { name: 'Agrippinus', arabic_name: 'أغريبينوس', order_number: 10, start_year: 166, end_year: 178, era: 'العصر الرسولي', contributions: 'تنظيم الأسقفيات وإدارة الكنيسة', biography: 'طور النظام الإداري للكنيسة القبطية', heresies_fought: JSON.stringify(['الفالنتينية']), is_active: true },\n  { name: 'Julian', arabic_name: 'يوليان', order_number: 11, start_year: 178, end_year: 189, era: 'العصر الرسولي', contributions: 'مقاومة الاضطهاد وحفظ التراث', biography: 'قاد الكنيسة خلال اضطهاد كومودوس', heresies_fought: JSON.stringify(['الأبيونية']), is_active: true },\n  { name: 'Demetrius I', arabic_name: 'ديمتريوس الأول', order_number: 12, start_year: 189, end_year: 232, era: 'العصر الذهبي', contributions: 'تأسيس مدرسة الإسكندرية وتطوير التعليم اللاهوتي', biography: 'أسس مدرسة الإسكندرية للتعليم المسيحي وعين أوريجانوس', heresies_fought: JSON.stringify(['الغنوصية']), is_active: true },\n\n  // العصر الذهبي (189-451م)\n  { name: 'Heraclas', arabic_name: 'هيراكلاس', order_number: 13, start_year: 232, end_year: 248, era: 'العصر الذهبي', contributions: 'تطوير التعليم اللاهوتي في مدرسة الإسكندرية', biography: 'تلميذ أوريجانوس وخليفته في مدرسة الإسكندرية', heresies_fought: JSON.stringify(['الغنوصية المتأخرة']), is_active: true },\n  { name: 'Dionysius the Great', arabic_name: 'ديونيسيوس العظيم', order_number: 14, start_year: 248, end_year: 264, era: 'العصر الذهبي', contributions: 'الدفاع عن الإيمان ضد السابيلية والآريوسية المبكرة', biography: 'لقب بالعظيم لحكمته ودفاعه عن الإيمان', heresies_fought: JSON.stringify(['السابيلية', 'الآريوسية المبكرة']), is_active: true },\n  { name: 'Maximus', arabic_name: 'مكسيموس', order_number: 15, start_year: 264, end_year: 282, era: 'العصر الذهبي', contributions: 'تقوية الكنيسة خلال الاضطهاد', biography: 'قاد الكنيسة خلال اضطهاد دقلديانوس', heresies_fought: JSON.stringify(['المانوية']), is_active: true },\n  { name: 'Theonas', arabic_name: 'ثيؤناس', order_number: 16, start_year: 282, end_year: 300, era: 'العصر الذهبي', contributions: 'تطوير الرهبنة والحياة النسكية', biography: 'شجع الحياة الرهبانية وساعد في نموها', heresies_fought: JSON.stringify(['الدوناتية المبكرة']), is_active: true },\n  { name: 'Peter I the Martyr', arabic_name: 'بطرس الأول الشهيد', order_number: 17, start_year: 300, end_year: 311, era: 'العصر الذهبي', contributions: 'الاستشهاد في سبيل الإيمان وتقوية الكنيسة', biography: 'آخر شهداء الاضطهاد الكبير، استشهد عام 311م', heresies_fought: JSON.stringify(['الوثنية الرومانية']), is_active: true },\n  { name: 'Achillas', arabic_name: 'أخيلاس', order_number: 18, start_year: 311, end_year: 312, era: 'العصر الذهبي', contributions: 'قيادة الكنيسة خلال فترة انتقالية', biography: 'خدم فترة قصيرة بعد استشهاد بطرس الأول', heresies_fought: JSON.stringify(['الميليتية']), is_active: true },\n  { name: 'Alexander I', arabic_name: 'الكسندروس الأول', order_number: 19, start_year: 312, end_year: 328, era: 'العصر الذهبي', contributions: 'مقاومة الآريوسية وحفظ الإيمان الأرثوذكسي', biography: 'واجه آريوس وعقد المجامع المحلية ضد الآريوسية', heresies_fought: JSON.stringify(['الآريوسية', 'الميليتية']), is_active: true },\n  { name: 'Athanasius I the Great', arabic_name: 'أثناسيوس الكبير', order_number: 20, start_year: 328, end_year: 373, era: 'العصر الذهبي', contributions: 'الدفاع عن عقيدة التجسد ومقاومة الآريوسية', biography: 'عمود الأرثوذكسية، دافع عن الإيمان النيقاوي لمدة 45 عاماً', heresies_fought: JSON.stringify(['الآريوسية', 'الأبوليناريوسية', 'المقدونية']), is_active: true },\n  { name: 'Peter II', arabic_name: 'بطرس الثاني', order_number: 21, start_year: 373, end_year: 380, era: 'العصر الذهبي', contributions: 'استكمال عمل أثناسيوس في مقاومة الآريوسية', biography: 'واصل سياسة أثناسيوس في الدفاع عن الإيمان', heresies_fought: JSON.stringify(['الآريوسية المتأخرة']), is_active: true },\n  { name: 'Timothy I', arabic_name: 'تيموثاوس الأول', order_number: 22, start_year: 380, end_year: 385, era: 'العصر الذهبي', contributions: 'تقوية الوحدة الكنسية', biography: 'عمل على توحيد الكنيسة بعد الانقسامات', heresies_fought: JSON.stringify(['الأبوليناريوسية']), is_active: true },\n  { name: 'Theophilus I', arabic_name: 'ثيوفيلوس الأول', order_number: 23, start_year: 385, end_year: 412, era: 'العصر الذهبي', contributions: 'مقاومة الوثنية وتدمير المعابد الوثنية', biography: 'دمر السيرابيوم وحارب الوثنية في الإسكندرية', heresies_fought: JSON.stringify(['الوثنية الإغريقية', 'الأوريجانية']), is_active: true },\n  { name: 'Cyril I the Great', arabic_name: 'كيرلس الكبير', order_number: 24, start_year: 412, end_year: 444, era: 'العصر الذهبي', contributions: 'الدفاع عن عقيدة الطبيعة الواحدة للمسيح', biography: 'عمود الدين، رئس مجمع أفسس 431م وحارب النسطورية', heresies_fought: JSON.stringify(['النسطورية', 'البيلاجية']), is_active: true },\n  { name: 'Dioscorus I', arabic_name: 'ديوسقوروس الأول', order_number: 25, start_year: 444, end_year: 451, era: 'العصر الذهبي', contributions: 'الدفاع عن تعليم كيرلس وعقيدة الطبيعة الواحدة', biography: 'دافع عن الإيمان القبطي في مجمع خلقيدونية', heresies_fought: JSON.stringify(['النسطورية', 'الخلقيدونية']), is_active: true },\n\n  // العصر الوسيط (451-641م)\n  { name: 'Timothy II Aelurus', arabic_name: 'تيموثاوس الثاني القط', order_number: 26, start_year: 457, end_year: 477, era: 'العصر الوسيط', contributions: 'تثبيت العقيدة المونوفيزيتية ومقاومة خلقيدونية', biography: 'قاد المقاومة ضد مجمع خلقيدونية وتعاليمه', heresies_fought: JSON.stringify(['الخلقيدونية', 'الديوفيزيتية']), is_active: true },\n  { name: 'Peter III Mongus', arabic_name: 'بطرس الثالث المتكلم', order_number: 27, start_year: 477, end_year: 490, era: 'العصر الوسيط', contributions: 'محاولة التوفيق بين الفرق المسيحية', biography: 'حاول التوفيق مع الإمبراطورية البيزنطية', heresies_fought: JSON.stringify(['الخلقيدونية']), is_active: true },\n  { name: 'Athanasius II', arabic_name: 'أثناسيوس الثاني', order_number: 28, start_year: 490, end_year: 496, era: 'العصر الوسيط', contributions: 'تقوية الهوية القبطية المميزة', biography: 'رفض التنازلات للبيزنطيين وحافظ على الإيمان القبطي', heresies_fought: JSON.stringify(['الخلقيدونية']), is_active: true },\n  { name: 'John I', arabic_name: 'يوحنا الأول', order_number: 29, start_year: 496, end_year: 505, era: 'العصر الوسيط', contributions: 'تنظيم الكنيسة القبطية وإدارتها', biography: 'نظم الهيكل الإداري للكنيسة القبطية', heresies_fought: JSON.stringify(['الجوليانية']), is_active: true },\n  { name: 'John II', arabic_name: 'يوحنا الثاني', order_number: 30, start_year: 505, end_year: 516, era: 'العصر الوسيط', contributions: 'مقاومة التدخل البيزنطي في الشؤون الكنسية', biography: 'دافع عن استقلالية الكنيسة القبطية', heresies_fought: JSON.stringify(['السفريانية']), is_active: true },\n  { name: 'Dioscorus II', arabic_name: 'ديوسقوروس الثاني', order_number: 31, start_year: 516, end_year: 517, era: 'العصر الوسيط', contributions: 'المحافظة على التقليد القبطي', biography: 'خدم فترة قصيرة لكن حافظ على الإيمان', heresies_fought: JSON.stringify(['الخلقيدونية']), is_active: true },\n  { name: 'Timothy III', arabic_name: 'تيموثاوس الثالث', order_number: 32, start_year: 517, end_year: 535, era: 'العصر الوسيط', contributions: 'تقوية الرهبنة القبطية', biography: 'شجع الحياة الرهبانية وطور الأديرة', heresies_fought: JSON.stringify(['الجوليانية المتأخرة']), is_active: true },\n  { name: 'Theodosius I', arabic_name: 'ثيوذوسيوس الأول', order_number: 33, start_year: 535, end_year: 566, era: 'العصر الوسيط', contributions: 'مقاومة محاولات التوحيد القسري', biography: 'رفض محاولات جستنيان لفرض الوحدة', heresies_fought: JSON.stringify(['الأفثارتوذوكيتية']), is_active: true },\n  { name: 'Peter IV', arabic_name: 'بطرس الرابع', order_number: 34, start_year: 566, end_year: 569, era: 'العصر الوسيط', contributions: 'الدفاع عن التراث القبطي', biography: 'حافظ على التقاليد القبطية خلال فترة صعبة', heresies_fought: JSON.stringify(['التريثيتية']), is_active: true },\n  { name: 'Damian', arabic_name: 'داميان', order_number: 35, start_year: 569, end_year: 605, era: 'العصر الوسيط', contributions: 'مقاومة الهرطقات الجديدة وتقوية الإيمان', biography: 'واجه العديد من التحديات العقائدية', heresies_fought: JSON.stringify(['التريثيتية', 'الأكتيستيتية']), is_active: true },\n  { name: 'Anastasius', arabic_name: 'أناستاسيوس', order_number: 36, start_year: 605, end_year: 616, era: 'العصر الوسيط', contributions: 'تنظيم الشؤون الكنسية قبل الفتح الإسلامي', biography: 'آخر البطاركة قبل الفتح الإسلامي لمصر', heresies_fought: JSON.stringify(['المونوثيليتية المبكرة']), is_active: true },\n  { name: 'Andronicus', arabic_name: 'أندرونيكوس', order_number: 37, start_year: 616, end_year: 622, era: 'العصر الوسيط', contributions: 'الحفاظ على الكنيسة خلال الحروب', biography: 'قاد الكنيسة خلال الحروب الفارسية البيزنطية', heresies_fought: JSON.stringify(['الزرادشتية']), is_active: true },\n  { name: 'Benjamin I', arabic_name: 'بنيامين الأول', order_number: 38, start_year: 622, end_year: 661, era: 'العصر الإسلامي المبكر', contributions: 'التأقلم مع الحكم الإسلامي والحفاظ على الكنيسة', biography: 'عاد من المنفى بعد الفتح الإسلامي وأعاد تنظيم الكنيسة', heresies_fought: JSON.stringify(['الملكانية', 'المونوثيليتية']), is_active: true },\n\n  // العصر الإسلامي المبكر (641-1000م)\n  { name: 'Agatho', arabic_name: 'أغاثو', order_number: 39, start_year: 661, end_year: 677, era: 'العصر الإسلامي المبكر', contributions: 'تأسيس علاقات مع الحكام المسلمين', biography: 'أول بطريرك خدم بالكامل تحت الحكم الإسلامي', heresies_fought: JSON.stringify(['المونوثيليتية']), is_active: true },\n  { name: 'John III', arabic_name: 'يوحنا الثالث', order_number: 40, start_year: 677, end_year: 686, era: 'العصر الإسلامي المبكر', contributions: 'تطوير القانون الكنسي القبطي', biography: 'وضع قوانين لتنظيم الحياة الكنسية', heresies_fought: JSON.stringify(['بقايا المونوثيليتية']), is_active: true },\n  { name: 'Isaac', arabic_name: 'إسحق', order_number: 41, start_year: 686, end_year: 689, era: 'العصر الإسلامي المبكر', contributions: 'حماية حقوق الأقباط', biography: 'دافع عن حقوق المسيحيين تحت الحكم الإسلامي', heresies_fought: JSON.stringify(['الإسلام المتطرف']), is_active: true },\n  { name: 'Simon I', arabic_name: 'سيمون الأول', order_number: 42, start_year: 689, end_year: 701, era: 'العصر الإسلامي المبكر', contributions: 'تقوية التعليم المسيحي', biography: 'ركز على التعليم الديني للأقباط', heresies_fought: JSON.stringify(['الانحرافات الليتورجية']), is_active: true },\n  { name: 'Alexander II', arabic_name: 'الكسندروس الثاني', order_number: 43, start_year: 701, end_year: 729, era: 'العصر الإسلامي المبكر', contributions: 'مقاومة ضغوط الأسلمة القسرية', biography: 'دافع ضد محاولات الأسلمة القسرية', heresies_fought: JSON.stringify(['الإسلام القسري']), is_active: true },\n  { name: 'Cosmas I', arabic_name: 'قزما الأول', order_number: 44, start_year: 729, end_year: 730, era: 'العصر الإسلامي المبكر', contributions: 'الحفاظ على التقاليد القبطية', biography: 'خدم فترة قصيرة لكن حافظ على الهوية', heresies_fought: JSON.stringify(['التيارات التبشيرية الإسلامية']), is_active: true },\n  { name: 'Theodore I', arabic_name: 'ثيوذوروس الأول', order_number: 45, start_year: 730, end_year: 743, era: 'العصر الإسلامي المبكر', contributions: 'تطوير العلاقات مع الخلافة الأموية', biography: 'بنى علاقات إيجابية مع الخلفاء الأمويين', heresies_fought: JSON.stringify(['المذاهب الإسلامية المتطرفة']), is_active: true },\n  { name: 'Khail I (Michael I)', arabic_name: 'خائيل الأول (ميخائيل الأول)', order_number: 46, start_year: 743, end_year: 767, era: 'العصر الإسلامي المبكر', contributions: 'تنظيم الإدارة الكنسية تحت الحكم العباسي', biography: 'تأقلم مع بداية الحكم العباسي', heresies_fought: JSON.stringify(['المذاهب الباطنية']), is_active: true },\n  { name: 'Menas I', arabic_name: 'مينا الأول', order_number: 47, start_year: 767, end_year: 774, era: 'العصر الإسلامي المبكر', contributions: 'حماية الأديرة القبطية', biography: 'حمى الأديرة من التعديات والمصادرة', heresies_fought: JSON.stringify(['الصوفية المنحرفة']), is_active: true },\n  { name: 'John IV', arabic_name: 'يوحنا الرابع', order_number: 48, start_year: 774, end_year: 799, era: 'العصر الإسلامي المبكر', contributions: 'تطوير الأدب القبطي والترجمة', biography: 'شجع ترجمة النصوص المسيحية للعربية', heresies_fought: JSON.stringify(['الفلسفة الإغريقية المنحرفة']), is_active: true },\n  { name: 'Mark II', arabic_name: 'مرقس الثاني', order_number: 49, start_year: 799, end_year: 819, era: 'العصر الإسلامي المبكر', contributions: 'تقوية الهوية القبطية', biography: 'عزز الهوية القبطية في وجه التحديات', heresies_fought: JSON.stringify(['الفرق الإسلامية المتطرفة']), is_active: true },\n  { name: 'Jacob', arabic_name: 'يعقوب', order_number: 50, start_year: 819, end_year: 830, era: 'العصر الإسلامي المبكر', contributions: 'مقاومة ضغوط التعريب الثقافي', biography: 'حافظ على اللغة والثقافة القبطية', heresies_fought: JSON.stringify(['التيارات التبشيرية الإسلامية']), is_active: true },\n  { name: 'Simon II', arabic_name: 'سيمون الثاني', order_number: 51, start_year: 830, end_year: 847, era: 'العصر الإسلامي المبكر', contributions: 'تطوير التعليم الكنسي', biography: 'أسس مدارس لتعليم الكتاب المقدس', heresies_fought: JSON.stringify(['البدع المحلية']), is_active: true },\n  { name: 'Yusab I (Joseph I)', arabic_name: 'يوساب الأول (يوسف الأول)', order_number: 52, start_year: 847, end_year: 849, era: 'العصر الإسلامي المبكر', contributions: 'حماية حقوق المسيحيين', biography: 'دافع عن حقوق الأقباط أمام السلطات', heresies_fought: JSON.stringify(['الغلو الإسلامي']), is_active: true },\n  { name: 'Khail II (Michael II)', arabic_name: 'خائيل الثاني (ميخائيل الثاني)', order_number: 53, start_year: 849, end_year: 851, era: 'العصر الإسلامي المبكر', contributions: 'الحفاظ على الطقوس القبطية', biography: 'حافظ على الطقوس التقليدية للكنيسة', heresies_fought: JSON.stringify(['التأثيرات الإسلامية على الطقوس']), is_active: true },\n  { name: 'Cosmas II', arabic_name: 'قزما الثاني', order_number: 54, start_year: 851, end_year: 858, era: 'العصر الإسلامي المبكر', contributions: 'مقاومة الفتن الطائفية', biography: 'حافظ على السلام الطائفي', heresies_fought: JSON.stringify(['التعصب الطائفي']), is_active: true },\n  { name: 'Shenouda I', arabic_name: 'شنودة الأول', order_number: 55, start_year: 858, end_year: 880, era: 'العصر الإسلامي المبكر', contributions: 'تقوية الرهبنة والحياة الروحية', biography: 'طور الحياة الرهبانية وقوانينها', heresies_fought: JSON.stringify(['الانحلال الروحي']), is_active: true },\n  { name: 'Khail III (Michael III)', arabic_name: 'خائيل الثالث (ميخائيل الثالث)', order_number: 56, start_year: 880, end_year: 907, era: 'العصر الإسلامي المبكر', contributions: 'بناء الكنائس والأديرة', biography: 'شيد العديد من الكنائس والأديرة', heresies_fought: JSON.stringify(['الإهمال الطقسي']), is_active: true },\n  { name: 'Gabriel I', arabic_name: 'غبريال الأول', order_number: 57, start_year: 907, end_year: 920, era: 'العصر الإسلامي المبكر', contributions: 'تطوير الحوار مع المسلمين', biography: 'بدأ الحوار اللاهوتي مع علماء المسلمين', heresies_fought: JSON.stringify(['الشبهات الإسلامية']), is_active: true },\n  { name: 'Cosmas III', arabic_name: 'قزما الثالث', order_number: 58, start_year: 920, end_year: 932, era: 'العصر الإسلامي المبكر', contributions: 'تقوية التعليم اللاهوتي', biography: 'طور المناهج اللاهوتية في المدارس', heresies_fought: JSON.stringify(['الأخطاء اللاهوتية']), is_active: true },\n  { name: 'Macarius I', arabic_name: 'مقاريوس الأول', order_number: 59, start_year: 932, end_year: 952, era: 'العصر الإسلامي المبكر', contributions: 'حماية الكنيسة من الاضطهاد', biography: 'حمى الكنيسة خلال فترات الاضطهاد', heresies_fought: JSON.stringify(['التشدد الإسلامي']), is_active: true },\n  { name: 'Theophanes', arabic_name: 'ثيوفانيس', order_number: 60, start_year: 952, end_year: 956, era: 'العصر الإسلامي المبكر', contributions: 'إعادة تنظيم الإدارة الكنسية', biography: 'أعاد تنظيم الهيكل الإداري للكنيسة', heresies_fought: JSON.stringify(['الفوضى الإدارية']), is_active: true },\n  { name: 'Menas II', arabic_name: 'مينا الثاني', order_number: 61, start_year: 956, end_year: 974, era: 'العصر الإسلامي المبكر', contributions: 'تطوير الكتابة القبطية والعربية', biography: 'شجع الكتابة باللغتين القبطية والعربية', heresies_fought: JSON.stringify(['إهمال التراث القبطي']), is_active: true },\n  { name: 'Abraham', arabic_name: 'ابراهيم', order_number: 62, start_year: 974, end_year: 978, era: 'العصر الإسلامي المبكر', contributions: 'مقاومة التدهور الأخلاقي', biography: 'حارب التدهور الأخلاقي في المجتمع', heresies_fought: JSON.stringify(['الانحلال الأخلاقي']), is_active: true },\n  { name: 'Philotheus', arabic_name: 'فيلوثيوس', order_number: 63, start_year: 978, end_year: 1003, era: 'العصر الوسيط المتأخر', contributions: 'إحياء التقليد الآبائي', biography: 'أحيا دراسة كتابات الآباء القدماء', heresies_fought: JSON.stringify(['إهمال التقليد الآبائي']), is_active: true },\n\n  // العصر الوسيط المتأخر (1000-1517م)\n  { name: 'Zacharias', arabic_name: 'زكريا', order_number: 64, start_year: 1003, end_year: 1032, era: 'العصر الوسيط المتأخر', contributions: 'مواجهة الفاطميين وحماية الكنيسة', biography: 'واجه تحديات الحكم الفاطمي بحكمة', heresies_fought: JSON.stringify(['التشيع الإسماعيلي']), is_active: true },\n  { name: 'Shenouda II', arabic_name: 'شنودة الثاني', order_number: 65, start_year: 1032, end_year: 1046, era: 'العصر الوسيط المتأخر', contributions: 'إعادة بناء الكنائس المدمرة', biography: 'أعاد بناء الكنائس التي دمرها الحاكم بأمر الله', heresies_fought: JSON.stringify(['التطرف الفاطمي']), is_active: true },\n  { name: 'Christodoulus', arabic_name: 'خريستوذولس', order_number: 66, start_year: 1046, end_year: 1077, era: 'العصر الوسيط المتأخر', contributions: 'تقوية العلاقات مع البيزنطيين', biography: 'طور العلاقات مع الإمبراطورية البيزنطية', heresies_fought: JSON.stringify(['الانشقاقات الداخلية']), is_active: true },\n  { name: 'Cyril II', arabic_name: 'كيرلس الثاني', order_number: 67, start_year: 1077, end_year: 1092, era: 'العصر الوسيط المتأخر', contributions: 'تطوير التعليم اللاهوتي', biography: 'أسس مدارس لاهوتية متقدمة', heresies_fought: JSON.stringify(['الجهل اللاهوتي']), is_active: true },\n  { name: 'Michael IV', arabic_name: 'ميخائيل الرابع', order_number: 68, start_year: 1092, end_year: 1102, era: 'العصر الوسيط المتأخر', contributions: 'مقاومة الحروب الصليبية وآثارها', biography: 'حمى الكنيسة خلال فترة الحروب الصليبية', heresies_fought: JSON.stringify(['التعصب الصليبي']), is_active: true },\n  { name: 'Macarius II', arabic_name: 'مقاريوس الثاني', order_number: 69, start_year: 1102, end_year: 1128, era: 'العصر الوسيط المتأخر', contributions: 'إعادة تنظيم الكنيسة بعد الحروب', biography: 'أعاد تنظيم الكنيسة بعد اضطرابات الحروب', heresies_fought: JSON.stringify(['الفوضى الناتجة عن الحروب']), is_active: true },\n  { name: 'Gabriel II', arabic_name: 'غبريال الثاني', order_number: 70, start_year: 1128, end_year: 1145, era: 'العصر الوسيط المتأخر', contributions: 'تقوية العلاقات مع الأيوبيين', biography: 'بنى علاقات جيدة مع صلاح الدين الأيوبي', heresies_fought: JSON.stringify(['التطرف الديني']), is_active: true },\n  { name: 'Michael V', arabic_name: 'ميخائيل الخامس', order_number: 71, start_year: 1145, end_year: 1146, era: 'العصر الوسيط المتأخر', contributions: 'الحفاظ على الاستقرار الكنسي', biography: 'خدم فترة قصيرة لكن حافظ على الاستقرار', heresies_fought: JSON.stringify(['عدم الاستقرار السياسي']), is_active: true },\n  { name: 'John V', arabic_name: 'يوحنا الخامس', order_number: 72, start_year: 1146, end_year: 1166, era: 'العصر الوسيط المتأخر', contributions: 'تطوير الأدب الكنسي', biography: 'شجع كتابة الأدب الديني والروحي', heresies_fought: JSON.stringify(['إهمال الكتابة الدينية']), is_active: true },\n  { name: 'Mark III', arabic_name: 'مرقس الثالث', order_number: 73, start_year: 1166, end_year: 1189, era: 'العصر الوسيط المتأخر', contributions: 'حماية الأقباط من الاضطهاد', biography: 'حمى الأقباط خلال فترات الاضطهاد', heresies_fought: JSON.stringify(['التعصب ضد المسيحيين']), is_active: true },\n  { name: 'John VI', arabic_name: 'يوحنا السادس', order_number: 74, start_year: 1189, end_year: 1216, era: 'العصر الوسيط المتأخر', contributions: 'تقوية الروابط مع الكنائس الشرقية', biography: 'قوى الروابط مع الكنائس الأرثوذكسية الشرقية', heresies_fought: JSON.stringify(['الانعزالية الكنسية']), is_active: true },\n  { name: 'Cyril III Ibn Laqlaq', arabic_name: 'كيرلس الثالث ابن لقلق', order_number: 75, start_year: 1216, end_year: 1243, era: 'العصر الوسيط المتأخر', contributions: 'كتابة التاريخ الكنسي والتراث', biography: 'كتب تاريخ البطاركة وحفظ التراث الكنسي', heresies_fought: JSON.stringify(['إهمال التراث التاريخي']), is_active: true },\n  { name: 'Athanasius III', arabic_name: 'أثناسيوس الثالث', order_number: 76, start_year: 1243, end_year: 1261, era: 'العصر الوسيط المتأخر', contributions: 'مقاومة الضغوط المملوكية', biography: 'واجه تحديات بداية الحكم المملوكي', heresies_fought: JSON.stringify(['السياسات المملوكية المتشددة']), is_active: true },\n  { name: 'John VII', arabic_name: 'يوحنا السابع', order_number: 77, start_year: 1261, end_year: 1268, era: 'العصر الوسيط المتأخر', contributions: 'تنظيم الشؤون المالية للكنيسة', biography: 'نظم الموارد المالية والإدارية للكنيسة', heresies_fought: JSON.stringify(['الفساد المالي']), is_active: true },\n  { name: 'Gabriel III', arabic_name: 'غبريال الثالث', order_number: 78, start_year: 1268, end_year: 1271, era: 'العصر الوسيط المتأخر', contributions: 'حماية الكنائس من التدمير', biography: 'حمى الكنائس والأديرة من التدمير', heresies_fought: JSON.stringify(['التخريب والتدمير']), is_active: true },\n  { name: 'John VIII', arabic_name: 'يوحنا الثامن', order_number: 79, start_year: 1271, end_year: 1293, era: 'العصر الوسيط المتأخر', contributions: 'تطوير الحياة الرهبانية', biography: 'طور قوانين وأنظمة الحياة الرهبانية', heresies_fought: JSON.stringify(['الانحلال الرهباني']), is_active: true },\n  { name: 'John IX', arabic_name: 'يوحنا التاسع', order_number: 80, start_year: 1293, end_year: 1300, era: 'العصر الوسيط المتأخر', contributions: 'تقوية التعليم الديني', biography: 'قوى برامج التعليم الديني في الكنيسة', heresies_fought: JSON.stringify(['الجهل الديني']), is_active: true },\n  { name: 'Benjamin II', arabic_name: 'بنيامين الثاني', order_number: 81, start_year: 1300, end_year: 1327, era: 'العصر الوسيط المتأخر', contributions: 'مقاومة التحديات الاقتصادية', biography: 'واجه التحديات الاقتصادية بحكمة', heresies_fought: JSON.stringify(['المادية المفرطة']), is_active: true },\n  { name: 'Peter V', arabic_name: 'بطرس الخامس', order_number: 82, start_year: 1327, end_year: 1348, era: 'العصر الوسيط المتأخر', contributions: 'مواجهة الطاعون والأمراض', biography: 'قاد الكنيسة خلال فترة الطاعون الأسود', heresies_fought: JSON.stringify(['اليأس والقنوط']), is_active: true },\n  { name: 'Mark IV', arabic_name: 'مرقس الرابع', order_number: 83, start_year: 1348, end_year: 1363, era: 'العصر الوسيط المتأخر', contributions: 'إعادة البناء بعد الكوارث', biography: 'أعاد بناء ما دمرته الأوبئة والكوارث', heresies_fought: JSON.stringify(['فقدان الإيمان']), is_active: true },\n  { name: 'John X', arabic_name: 'يوحنا العاشر', order_number: 84, start_year: 1363, end_year: 1369, era: 'العصر الوسيط المتأخر', contributions: 'تقوية الوحدة الكنسية', biography: 'عمل على توحيد الصفوف الكنسية', heresies_fought: JSON.stringify(['الانقسامات الداخلية']), is_active: true },\n  { name: 'Gabriel IV', arabic_name: 'غبريال الرابع', order_number: 85, start_year: 1370, end_year: 1378, era: 'العصر الوسيط المتأخر', contributions: 'تطوير العلاقات الخارجية', biography: 'طور العلاقات مع الكنائس الأخرى', heresies_fought: JSON.stringify(['الانعزالية']), is_active: true },\n  { name: 'Matthew I', arabic_name: 'متاؤس الأول', order_number: 86, start_year: 1378, end_year: 1408, era: 'العصر الوسيط المتأخر', contributions: 'حفظ التراث الطقسي', biography: 'حافظ على الطقوس والتقاليد الكنسية', heresies_fought: JSON.stringify(['التحريف الطقسي']), is_active: true },\n  { name: 'Gabriel V', arabic_name: 'غبريال الخامس', order_number: 87, start_year: 1408, end_year: 1427, era: 'العصر الوسيط المتأخر', contributions: 'مقاومة الضغوط السياسية', biography: 'قاوم الضغوط السياسية على الكنيسة', heresies_fought: JSON.stringify(['التسييس الكنسي']), is_active: true },\n  { name: 'John XI', arabic_name: 'يوحنا الحادي عشر', order_number: 88, start_year: 1427, end_year: 1452, era: 'العصر الوسيط المتأخر', contributions: 'تقوية التعليم الكنسي', biography: 'قوى برامج التعليم في المدارس الكنسية', heresies_fought: JSON.stringify(['الأمية الدينية']), is_active: true },\n  { name: 'Mark V', arabic_name: 'مرقس الخامس', order_number: 89, start_year: 1452, end_year: 1465, era: 'العصر الوسيط المتأخر', contributions: 'مواجهة التحديات العثمانية', biography: 'واجه بداية التوسع العثماني', heresies_fought: JSON.stringify(['التأثيرات العثمانية']), is_active: true },\n  { name: 'Gabriel VI', arabic_name: 'غبريال السادس', order_number: 90, start_year: 1465, end_year: 1475, era: 'العصر الوسيط المتأخر', contributions: 'حماية الأقباط من الظلم', biography: 'حمى الأقباط من الظلم والاضطهاد', heresies_fought: JSON.stringify(['الظلم والاضطهاد']), is_active: true },\n  { name: 'Michael VI', arabic_name: 'ميخائيل السادس', order_number: 91, start_year: 1475, end_year: 1477, era: 'العصر الوسيط المتأخر', contributions: 'تنظيم الشؤون الإدارية', biography: 'نظم الشؤون الإدارية للكنيسة', heresies_fought: JSON.stringify(['الفوضى الإدارية']), is_active: true },\n  { name: 'John XII', arabic_name: 'يوحنا الثاني عشر', order_number: 92, start_year: 1477, end_year: 1483, era: 'العصر الوسيط المتأخر', contributions: 'تقوية الحياة الروحية', biography: 'ركز على تقوية الحياة الروحية للمؤمنين', heresies_fought: JSON.stringify(['الجفاف الروحي']), is_active: true },\n  { name: 'Gabriel VII', arabic_name: 'غبريال السابع', order_number: 93, start_year: 1483, end_year: 1486, era: 'العصر الوسيط المتأخر', contributions: 'حماية التراث الكنسي', biography: 'حافظ على التراث والمخطوطات الكنسية', heresies_fought: JSON.stringify(['إهمال التراث']), is_active: true },\n  { name: 'John XIII', arabic_name: 'يوحنا الثالث عشر', order_number: 94, start_year: 1486, end_year: 1524, era: 'العصر العثماني المبكر', contributions: 'التأقلم مع الحكم العثماني', biography: 'تأقلم مع بداية الحكم العثماني في مصر', heresies_fought: JSON.stringify(['التحديات العثمانية الجديدة']), is_active: true },\n\n  // العصر العثماني المبكر (1517-1798م)\n  { name: 'Gabriel VIII', arabic_name: 'غبريال الثامن', order_number: 95, start_year: 1525, end_year: 1569, era: 'العصر العثماني المبكر', contributions: 'تأسيس النظام الإداري تحت الحكم العثماني', biography: 'وضع أسس التعامل مع الإدارة العثمانية', heresies_fought: JSON.stringify(['البدع التركية']), is_active: true },\n  { name: 'John XIV', arabic_name: 'يوحنا الرابع عشر', order_number: 96, start_year: 1569, end_year: 1586, era: 'العصر العثماني المبكر', contributions: 'حماية الحقوق القبطية', biography: 'دافع عن حقوق الأقباط في النظام العثماني', heresies_fought: JSON.stringify(['التعصب العثماني']), is_active: true },\n  { name: 'Gabriel IX', arabic_name: 'غبريال التاسع', order_number: 97, start_year: 1586, end_year: 1601, era: 'العصر العثماني المبكر', contributions: 'تطوير التعليم والثقافة', biography: 'طور التعليم الديني والثقافة القبطية', heresies_fought: JSON.stringify(['الجهل والأمية']), is_active: true },\n  { name: 'Mark VI', arabic_name: 'مرقس السادس', order_number: 98, start_year: 1601, end_year: 1618, era: 'العصر العثماني المبكر', contributions: 'تقوية الحياة الرهبانية', biography: 'قوى الأديرة والحياة الرهبانية', heresies_fought: JSON.stringify(['الانحلال الرهباني']), is_active: true },\n  { name: 'John XV', arabic_name: 'يوحنا الخامس عشر', order_number: 99, start_year: 1619, end_year: 1629, era: 'العصر العثماني المبكر', contributions: 'مقاومة التبشير الكاثوليكي', biography: 'قاوم محاولات التبشير الكاثوليكي', heresies_fought: JSON.stringify(['الكاثوليكية', 'التبشير الأجنبي']), is_active: true },\n  { name: 'Marcurius', arabic_name: 'مرقوريوس', order_number: 100, start_year: 1629, end_year: 1646, era: 'العصر العثماني المبكر', contributions: 'تنظيم الشؤون المالية', biography: 'نظم الموارد المالية للكنيسة', heresies_fought: JSON.stringify(['الفساد المالي']), is_active: true },\n  { name: 'Matthew II', arabic_name: 'متاؤس الثاني', order_number: 101, start_year: 1646, end_year: 1675, era: 'العصر العثماني المبكر', contributions: 'مواجهة التحديات الاقتصادية', biography: 'واجه الصعوبات الاقتصادية بحكمة', heresies_fought: JSON.stringify(['المادية المفرطة']), is_active: true },\n  { name: 'John XVI', arabic_name: 'يوحنا السادس عشر', order_number: 102, start_year: 1676, end_year: 1718, era: 'العصر العثماني المبكر', contributions: 'تقوية العلاقات مع الكنائس الشرقية', biography: 'قوى الروابط مع الكنائس الأرثوذكسية', heresies_fought: JSON.stringify(['البروتستانتية', 'الانشقاقات']), is_active: true },\n  { name: 'Peter VI', arabic_name: 'بطرس السادس', order_number: 103, start_year: 1718, end_year: 1726, era: 'العصر العثماني المبكر', contributions: 'حماية التراث القبطي', biography: 'حافظ على التراث والثقافة القبطية', heresies_fought: JSON.stringify(['التغريب الثقافي']), is_active: true },\n  { name: 'John XVII', arabic_name: 'يوحنا السابع عشر', order_number: 104, start_year: 1726, end_year: 1745, era: 'العصر العثماني المبكر', contributions: 'تطوير الكتابة والأدب الديني', biography: 'شجع الكتابة الدينية والأدبية', heresies_fought: JSON.stringify(['إهمال الكتابة الدينية']), is_active: true },\n  { name: 'Mark VII', arabic_name: 'مرقس السابع', order_number: 105, start_year: 1745, end_year: 1769, era: 'العصر العثماني المبكر', contributions: 'مقاومة الانحطاط الأخلاقي', biography: 'حارب الانحطاط الأخلاقي في المجتمع', heresies_fought: JSON.stringify(['الانحلال الأخلاقي']), is_active: true },\n  { name: 'John XVIII', arabic_name: 'يوحنا الثامن عشر', order_number: 106, start_year: 1769, end_year: 1796, era: 'العصر العثماني المبكر', contributions: 'إعداد الكنيسة للتحديات الحديثة', biography: 'أعد الكنيسة لمواجهة التحديات الحديثة', heresies_fought: JSON.stringify(['الأفكار التنويرية المتطرفة']), is_active: true },\n  { name: 'Mark VIII', arabic_name: 'مرقس الثامن', order_number: 107, start_year: 1796, end_year: 1809, era: 'العصر الحديث', contributions: 'مواجهة الحملة الفرنسية وتأثيراتها', biography: 'واجه تحديات الحملة الفرنسية على مصر', heresies_fought: JSON.stringify(['العلمانية', 'الأفكار الثورية']), is_active: true },\n\n  // العصر الحديث (1798-الآن)\n  { name: 'Peter VII', arabic_name: 'بطرس السابع الجاولي', order_number: 108, start_year: 1809, end_year: 1852, era: 'العصر الحديث', contributions: 'تحديث الكنيسة وتطوير التعليم', biography: 'حدث الكنيسة وطور نظام التعليم الكنسي', heresies_fought: JSON.stringify(['البروتستانتية الحديثة']), is_active: true },\n  { name: 'Cyril IV', arabic_name: 'كيرلس الرابع أبو الإصلاح', order_number: 109, start_year: 1854, end_year: 1861, era: 'العصر الحديث', contributions: 'إصلاح التعليم وتأسيس المدارس الحديثة', biography: 'لقب بأبو الإصلاح لجهوده في تحديث التعليم', heresies_fought: JSON.stringify(['التخلف والجهل']), is_active: true },\n  { name: 'Demetrius II', arabic_name: 'ديمتريوس الثاني', order_number: 110, start_year: 1862, end_year: 1870, era: 'العصر الحديث', contributions: 'مواصلة الإصلاحات التعليمية', biography: 'واصل إصلاحات كيرلس الرابع التعليمية', heresies_fought: JSON.stringify(['مقاومة التطوير']), is_active: true },\n  { name: 'Cyril V', arabic_name: 'كيرلس الخامس', order_number: 111, start_year: 1874, end_year: 1927, era: 'العصر الحديث', contributions: 'تطوير الإدارة الكنسية وتحديث الأنظمة', biography: 'طور الإدارة الكنسية وحدث أنظمة الكنيسة', heresies_fought: JSON.stringify(['التقاليد البالية']), is_active: true },\n  { name: 'John XIX', arabic_name: 'يوحنا التاسع عشر', order_number: 112, start_year: 1928, end_year: 1942, era: 'العصر الحديث', contributions: 'قيادة الكنيسة خلال فترات الحروب', biography: 'قاد الكنيسة خلال الحربين العالميتين', heresies_fought: JSON.stringify(['الفاشية', 'النازية']), is_active: true },\n  { name: 'Macarius III', arabic_name: 'مقاريوس الثالث', order_number: 113, start_year: 1944, end_year: 1945, era: 'العصر الحديث', contributions: 'إعادة بناء ما دمرته الحروب', biography: 'عمل على إعادة البناء بعد الحرب العالمية', heresies_fought: JSON.stringify(['اليأس والقنوط']), is_active: true },\n  { name: 'Joseph II', arabic_name: 'يوساب الثاني', order_number: 114, start_year: 1946, end_year: 1956, era: 'العصر الحديث', contributions: 'مواجهة التحديات السياسية الحديثة', biography: 'واجه تحديات ثورة 1952 والتغييرات السياسية', heresies_fought: JSON.stringify(['الشيوعية', 'العلمانية المتطرفة']), is_active: true },\n  { name: 'Cyril VI', arabic_name: 'كيرلس السادس', order_number: 115, start_year: 1959, end_year: 1971, era: 'العصر الحديث', contributions: 'إحياء الحياة الرهبانية والروحية', biography: 'أحيا الحياة الرهبانية وشجع الحياة الروحية', heresies_fought: JSON.stringify(['المادية الحديثة']), is_active: true },\n  { name: 'Shenouda III', arabic_name: 'شنودة الثالث', order_number: 116, start_year: 1971, end_year: 2012, era: 'العصر الحديث', contributions: 'تطوير التعليم اللاهوتي والخدمة الكنسية', biography: 'طور التعليم اللاهوتي ووسع الخدمة في المهجر', heresies_fought: JSON.stringify(['العلمانية الحديثة', 'التطرف الديني']), is_active: true },\n  { name: 'Tawadros II', arabic_name: 'تواضروس الثاني', order_number: 117, start_year: 2012, end_year: null, era: 'العصر الحديث', contributions: 'قيادة الكنيسة في القرن الحادي والعشرين', biography: 'يقود الكنيسة في مواجهة تحديات العصر الحديث', heresies_fought: JSON.stringify(['التطرف الإسلامي', 'العلمانية المتطرفة']), is_active: true },\n  { name: 'Future Patriarch', arabic_name: 'البطريرك المستقبلي', order_number: 118, start_year: null, end_year: null, era: 'العصر الحديث', contributions: 'سيقود الكنيسة في المستقبل', biography: 'البطريرك الذي سيخلف تواضروس الثاني', heresies_fought: JSON.stringify(['التحديات المستقبلية']), is_active: false }\n];\n\nasync function importPatriarchs() {\n  try {\n    console.log('Starting import of 118 patriarchs...');\n    \n    // Clear existing data\n    await pool.query('DELETE FROM patriarchs');\n    console.log('Cleared existing patriarch data');\n\n    // Insert each patriarch\n    for (const patriarch of patriarchsData) {\n      try {\n        await pool.query(`\n          INSERT INTO patriarchs (\n            name, \"arabicName\", \"orderNumber\", \"startYear\", \"endYear\", \n            era, contributions, biography, \"heresiesFought\", active\n          ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10)\n        `, [\n          patriarch.name,\n          patriarch.arabic_name,\n          patriarch.order_number,\n          patriarch.start_year,\n          patriarch.end_year,\n          patriarch.era,\n          patriarch.contributions,\n          patriarch.biography,\n          patriarch.heresies_fought,\n          patriarch.is_active\n        ]);\n        \n        if (patriarch.order_number % 10 === 0) {\n          console.log(`Imported ${patriarch.order_number} patriarchs...`);\n        }\n      } catch (error) {\n        console.error(`Error importing patriarch ${patriarch.name}:`, error.message);\n      }\n    }\n\n    console.log('Successfully imported all 118 patriarchs!');\n    \n    // Verify count\n    const result = await pool.query('SELECT COUNT(*) as count FROM patriarchs');\n    console.log(`Total patriarchs in database: ${result.rows[0].count}`);\n    \n  } catch (error) {\n    console.error('Error importing patriarchs:', error);\n  } finally {\n    await pool.end();\n  }\n}\n\nimportPatriarchs();","size_bytes":50071},"local_postgresql_setup.md":{"content":"\n# إعداد PostgreSQL المحلي\n\n## 1. تثبيت PostgreSQL\n\n### Windows:\n- حمل من https://www.postgresql.org/download/windows/\n- اتبع معالج التثبيت واحفظ كلمة المرور\n\n### macOS:\n```bash\nbrew install postgresql\nbrew services start postgresql\n```\n\n### Ubuntu/Debian:\n```bash\nsudo apt update\nsudo apt install postgresql postgresql-contrib\nsudo systemctl start postgresql\nsudo systemctl enable postgresql\n```\n\n## 2. إنشاء قاعدة البيانات\n\n```sql\n-- دخول إلى PostgreSQL\npsql -U postgres\n\n-- إنشاء قاعدة بيانات جديدة\nCREATE DATABASE coptic_patriarchs;\n\n-- إنشاء مستخدم جديد (اختياري)\nCREATE USER patriarchs_user WITH PASSWORD 'your_password';\nGRANT ALL PRIVILEGES ON DATABASE coptic_patriarchs TO patriarchs_user;\n\n-- التبديل إلى قاعدة البيانات\n\\c coptic_patriarchs;\n```\n\n## 3. تحديث ملف .env.local\n\n```env\nDATABASE_URL=postgresql://postgres:your_password@localhost:5432/coptic_patriarchs\nNODE_ENV=development\n```\n\n## 4. تشغيل المشروع\n\n```bash\nnpm install\nnpm run dev\n```\n\n## حل مشاكل الاتصال الشائعة\n\n### 1. خطأ في الاتصال:\n- تأكد من أن PostgreSQL يعمل\n- تحقق من صحة DATABASE_URL\n- تأكد من أن المنفذ 5432 مفتوح\n\n### 2. خطأ في الصلاحيات:\n```sql\nGRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO your_user;\nGRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO your_user;\n```\n\n### 3. إعادة تشغيل PostgreSQL:\n```bash\n# Windows\nnet stop postgresql-x64-XX\nnet start postgresql-x64-XX\n\n# macOS\nbrew services restart postgresql\n\n# Ubuntu/Debian\nsudo systemctl restart postgresql\n```\n","size_bytes":1731},"local_setup_guide.md":{"content":"# دليل تشغيل المشروع محلياً على الديسكتوب\n\n## متطلبات النظام\n\n### 1. تثبيت Node.js\n- حمل وثبت Node.js من: https://nodejs.org (النسخة 18 أو أحدث)\n\n### 2. تثبيت قاعدة البيانات\nاختر إحدى الطريقتين:\n\n#### الطريقة الأولى: استخدام SQLite (أسهل)\n- لا تحتاج تثبيت شيء إضافي\n- البيانات ستُحفظ في ملف محلي\n\n#### الطريقة الثانية: استخدام PostgreSQL (مثل النسخة الحالية)\n- حمل وثبت PostgreSQL من: https://www.postgresql.org/download/\n- أنشئ قاعدة بيانات جديدة\n\n## خطوات التشغيل\n\n### 1. تحضير الملفات\n- حمل جميع ملفات المشروع إلى مجلد على الديسكتوب\n- ضع ملف `patriarchs_data.csv` في المجلد الرئيسي\n\n### 2. تثبيت المكتبات\nافتح Terminal/Command Prompt في مجلد المشروع وشغل:\n```bash\nnpm install\n```\n\n### 3. إعداد قاعدة البيانات\n\n#### للطريقة الأولى (SQLite):\n- ارجع للإعداد الأصلي في `server/db.ts`\n- ضع `DATABASE_URL=file:./local.db` في ملف `.env`\n\n#### للطريقة الثانية (PostgreSQL):\n- أنشئ قاعدة بيانات جديدة\n- ضع `DATABASE_URL=postgresql://username:password@localhost/database_name` في ملف `.env`\n\n### 4. إنشاء الجداول\n```bash\nnpm run db:push\n```\n\n### 5. استيراد البيانات\n- استخدم ملف `patriarchs_data.csv` لاستيراد البيانات\n- أو شغل الـ script المرفق لإضافة البيانات\n\n### 6. تشغيل المشروع\n```bash\nnpm run dev\n```\n\nالمشروع سيعمل على: http://localhost:5000\n\n## ملاحظات مهمة\n\n1. **مفتاح Gemini API**: \n   - احصل على مفتاح من https://ai.google.dev/\n   - أضفه في ملف `.env` كـ `GEMINI_API_KEY=your_key_here`\n\n2. **الملفات المطلوبة**:\n   - جميع ملفات المشروع الحالية\n   - ملف `patriarchs_data.csv` مع البيانات\n   - ملف `.env` مع الإعدادات\n\n3. **الأمان**:\n   - لا تشارك ملف `.env` مع أحد\n   - احتفظ بنسخة احتياطية من البيانات\n\n## حل المشاكل الشائعة\n\n1. **خطأ في تثبيت المكتبات**: تأكد من تثبيت Node.js بشكل صحيح\n2. **خطأ في قاعدة البيانات**: تأكد من صحة `DATABASE_URL`\n3. **خطأ في الذكاء الاصطناعي**: تأكد من صحة `GEMINI_API_KEY`\n\nللمساعدة: راجع ملف `package.json` لمعرفة الأوامر المتاحة","size_bytes":2729},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"replit.md":{"content":"# Coptic Patriarchs Database\n\n## Overview\n\nThis is a full-stack web application dedicated to documenting and showcasing the Coptic Orthodox Church Patriarchs throughout history. The application serves as a comprehensive database featuring biographical information, historical contributions, and the heresies fought by each patriarch. Built with a modern tech stack, it provides both public viewing and administrative management capabilities.\n\n## System Architecture\n\n### Frontend Architecture\n- **Framework**: React 18 with TypeScript for type safety\n- **Routing**: Wouter for lightweight client-side routing\n- **State Management**: TanStack Query (React Query) for server state management\n- **UI Framework**: Shadcn/ui components with Radix UI primitives\n- **Styling**: Tailwind CSS with CSS custom properties for theming\n- **Forms**: React Hook Form with Zod validation\n- **Internationalization**: Arabic-first design with RTL support\n\n### Backend Architecture\n- **Framework**: Express.js with TypeScript\n- **Database ORM**: Drizzle ORM for type-safe database operations\n- **Database**: PostgreSQL (Neon serverless)\n- **Authentication**: Replit Auth with OpenID Connect\n- **Session Management**: Express sessions with PostgreSQL storage\n- **API Design**: RESTful API with proper HTTP status codes\n\n### Build System\n- **Build Tool**: Vite for fast development and optimized production builds\n- **TypeScript**: Shared types between client and server\n- **Module System**: ES modules throughout the stack\n- **Development**: Hot module replacement with Vite dev server\n\n## Key Components\n\n### Database Schema\nLocated in `shared/schema.ts`, the schema defines three main tables:\n\n1. **Sessions Table**: Stores user session data for authentication\n2. **Users Table**: Stores user profiles from Replit Auth\n3. **Patriarchs Table**: Core entity containing:\n   - Basic information (name, order number, years of service)\n   - Historical categorization by era\n   - Biographical details and contributions\n   - Array of heresies fought against\n   - Active status for content management\n\n### Authentication System\n- **Provider**: Replit Auth integration with OpenID Connect\n- **Session Storage**: PostgreSQL-backed sessions using connect-pg-simple\n- **Authorization**: Route-level protection for admin functions\n- **User Management**: Automatic user creation and profile updates\n\n### API Structure\nRESTful endpoints organized by functionality:\n\n- **Public Routes**: \n  - `GET /api/patriarchs` - List patriarchs with filtering\n  - `GET /api/patriarchs/:id` - Individual patriarch details\n- **Protected Routes**:\n  - `GET /api/auth/user` - Current user profile\n  - `POST /api/admin/patriarchs` - Create patriarch\n  - `PUT /api/admin/patriarchs/:id` - Update patriarch\n  - `DELETE /api/admin/patriarchs/:id` - Delete patriarch\n  - `GET /api/admin/stats` - Dashboard statistics\n\n### UI Components\n- **Public Interface**: Landing page with search, filtering, and timeline views\n- **Admin Interface**: Full CRUD operations with form validation\n- **Responsive Design**: Mobile-first approach with adaptive layouts\n- **Arabic Typography**: Custom fonts (Noto Sans Arabic, Amiri) for proper Arabic rendering\n\n## Data Flow\n\n1. **Public Access**: Users can browse patriarchs, search by name/era, and view detailed information\n2. **Authentication**: Admin users authenticate via Replit Auth\n3. **Content Management**: Authenticated users can create, edit, and delete patriarch records\n4. **Real-time Updates**: TanStack Query provides optimistic updates and cache invalidation\n5. **Search & Filtering**: Server-side filtering by era, heresies fought, and text search\n\n## External Dependencies\n\n### Core Dependencies\n- **@neondatabase/serverless**: Neon PostgreSQL adapter\n- **drizzle-orm**: Type-safe ORM with PostgreSQL dialect\n- **@tanstack/react-query**: Server state management\n- **@radix-ui/***: Accessible UI primitives\n- **zod**: Runtime type validation and schema validation\n\n### Authentication\n- **openid-client**: OpenID Connect client for Replit Auth\n- **passport**: Authentication middleware\n- **express-session**: Session management\n- **connect-pg-simple**: PostgreSQL session store\n\n### Development Tools\n- **vite**: Build tool and dev server\n- **tsx**: TypeScript execution for development\n- **esbuild**: Production server bundling\n\n## Deployment Strategy\n\n### Development\n- **Local Development**: `npm run dev` starts both client and server with HMR\n- **Database**: Uses Neon serverless PostgreSQL with connection pooling\n- **Environment**: Requires `DATABASE_URL` and session secrets\n\n### Production Build\n- **Client**: Vite builds optimized React app to `dist/public`\n- **Server**: esbuild bundles Node.js server to `dist/index.js`\n- **Deployment**: Single process serving both static files and API\n\n### Database Management\n- **Schema Evolution**: Drizzle Kit for migrations in `migrations/` directory\n- **Push Strategy**: `npm run db:push` for development schema updates\n- **Connection Pooling**: Neon serverless handles connection management\n\n## Changelog\n\nChangelog:\n- June 27, 2025. Initial setup\n- June 27, 2025. Added dedicated login page for admin access\n- June 27, 2025. Implemented data export (CSV) and comprehensive reporting functionality\n- June 27, 2025. Fixed SelectItem empty value issues and improved navigation flow\n- June 27, 2025. Successfully migrated from Replit Agent to Replit environment\n- June 27, 2025. Fixed session security configuration and authentication loops\n- June 27, 2025. Database tables created and application ready for production use\n- June 27, 2025. Enhanced admin interface with beautiful statistics dashboard\n- June 27, 2025. Redesigned homepage with advanced search engine and multiple view modes\n- June 27, 2025. Added demo login credentials and sample patriarch data\n- June 27, 2025. Moved advanced search engine from authenticated homepage to main landing page - now accessible to all users without login\n- June 27, 2025. Added patriarch details modal and updated year references to 2025\n- June 30, 2025. Successfully completed migration from Replit Agent to Replit environment with PostgreSQL database setup\n- June 30, 2025. Populated database with 80 patriarch records covering all historical eras from apostolic to modern times\n- June 30, 2025. Updated admin interface to display Arabic content for contributions, biography, and heresies fought\n- June 30, 2025. Enhanced patriarch management table with comprehensive display of historical eras and heresies\n- June 30, 2025. Confirmed Replit Auth integration working properly for admin access control\n- July 1, 2025. Added Arabic translation system for heresies fought - all heresy names now display in Arabic throughout the application\n- July 1, 2025. Enhanced patriarch management interface with proper Arabic display for biographical content and search functionality\n- July 1, 2025. Successfully completed project migration from Replit Agent to Replit environment\n- July 1, 2025. Fixed database connection from SQLite to PostgreSQL for proper data access\n- July 1, 2025. Populated database with complete 118 patriarch records covering all historical eras\n- July 1, 2025. Configured and activated \"Ask Patriarch\" AI chatbot with Google Gemini integration\n- July 1, 2025. Fixed patriarch card display issues for proper heresies fought rendering\n- July 1, 2025. Database now contains authentic historical data for all 118 Coptic Orthodox Patriarchs with full Arabic support\n- July 1, 2025. Successfully completed migration from Replit Agent to Replit environment\n- July 1, 2025. Updated database schema from SQLite to PostgreSQL for proper deployment\n- July 1, 2025. Fixed JSON parsing errors and imported complete database of 111 authentic Coptic Orthodox Patriarchs\n- July 1, 2025. All patriarch data now displayed in Arabic as requested with proper historical information\n- July 2, 2025. Added comprehensive charts dashboard to admin panel with detailed statistical analysis\n- July 2, 2025. Created home page charts component displaying key insights and visualizations\n- July 2, 2025. Implemented three-view system: cards, timeline, and charts/analytics accessible via buttons\n- July 2, 2025. Successfully completed migration from Replit Agent to Replit environment\n- July 2, 2025. Fixed database connection issues and populated PostgreSQL with 118 patriarch records\n- July 2, 2025. Added Smart Summary button to home page with AI-powered patriarch summaries\n- July 2, 2025. Fixed package dependencies and authentication system for proper deployment\n- July 2, 2025. Resolved database schema mismatch issues for settings table and fixed API key saving functionality\n- July 2, 2025. Fixed patriarch editing validation errors and confirmed all CRUD operations working properly\n- July 2, 2025. Successfully completed all database operations with proper PostgreSQL schema alignment\n- July 2, 2025. Successfully completed migration from Replit Agent to Replit environment with full functionality\n- July 2, 2025. Fixed JSON parsing errors in heresiesFought data and resolved admin interface issues\n- July 2, 2025. Database now contains 118 authentic patriarch records with proper PostgreSQL integration\n- July 2, 2025. Fixed logout functionality to properly redirect to homepage after logout\n- July 2, 2025. Fixed Ask Patriarch chatbot API call format error (corrected parameter order in apiRequest)\n- July 2, 2025. Enhanced Smart Summary feature to read additional CSV data file for enriched patriarch information\n- July 2, 2025. Fixed JSON parsing errors in heresiesFought data for both Ask Patriarch and Smart Summary features\n- July 2, 2025. Successfully completed migration from Replit Agent to Replit environment\n- July 2, 2025. Installed required packages and created PostgreSQL database with proper schema\n- July 2, 2025. Imported complete database of 118 authentic Coptic Orthodox Patriarchs with Arabic support\n- July 2, 2025. Fixed patriarch numbering issue - ID now correctly matches order_number for all 118 patriarchs\n- July 2, 2025. Resolved JSON parsing errors for heresiesFought data by properly formatting array values\n- July 2, 2025. Added patriarch order swapping functionality to admin interface with up/down arrow buttons\n- July 2, 2025. Added Smart Summary button to main homepage alongside the three main view buttons (Cards, Timeline, Charts)\n- July 2, 2025. Enhanced patriarch form with custom era and heresy addition features - users can now add new eras and heresies that aren't in predefined lists\n- July 2, 2025. Created smart recommendations engine - intelligent system that suggests patriarchs based on user interests including time periods, topics, personality traits, and heresies fought\n- July 2, 2025. Enhanced recommendations engine with Gemini AI integration - users can now get personalized patriarch suggestions through AI analysis of their written interests and preferences\n- July 3, 2025. Successfully completed migration from Replit Agent to Replit environment\n- July 3, 2025. Fixed database configuration from SQLite to PostgreSQL for proper deployment\n- July 3, 2025. Created all required database tables and imported complete dataset of 118 patriarch records\n- July 3, 2025. Application now running successfully in Replit environment with full functionality\n- July 4, 2025. Fixed patriarch add/edit form functionality with complete working modal system\n- July 4, 2025. Successfully imported all 118 authentic Coptic Orthodox Patriarchs with complete historical data\n- July 4, 2025. Added comprehensive heresies fought data for all patriarchs including historical accuracy\n- July 4, 2025. Database now contains complete authentic dataset ready for production use\n- July 4, 2025. Updated charts colors to distinguish between different eras properly\n- July 4, 2025. Removed redundant \"الـ118\" text from admin dashboard titles\n- July 4, 2025. Added comprehensive heresy analysis section with statistics and breakdowns\n- July 4, 2025. Enhanced heresy filter to show only important theological heresies\n- August 21, 2025. Successfully completed migration from Replit Agent to Replit environment\n- August 21, 2025. Updated PostgreSQL database configuration for both online and offline compatibility  \n- August 21, 2025. Updated schema to use Arabic era names (العصر الرسولي، العصر الذهبي، عصر المجامع، عصر الاضطهاد، العصر الحديث)\n- August 21, 2025. Created complete dataset of 118 Coptic Orthodox Patriarchs from Saint Mark to Pope Tawadros II\n- August 21, 2025. All historical eras and patriarch information now properly displayed in Arabic as requested\n- August 21, 2025. Fixed database seeding to load complete 118 patriarch records instead of only 8\n- August 21, 2025. All historical eras now display in Arabic: العصر الرسولي، العصر الذهبي، عصر المجامع، عصر الاضطهاد، العصر الحديث، etc.\n- August 21, 2025. Database contains authentic historical data for all 118 Coptic Orthodox Patriarchs with full Arabic support\n- August 21, 2025. Updated patriarch names to match official Coptic Orthodox Church list with correct Arabic names including: القديس مرقس الرسول، ميليوس، إبراميوس، ديمتريوس الأول، كيرلس السادس، شنوده الثالث، تواضروس الثاني\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.","size_bytes":13452},"setup_windows_postgresql.js":{"content":"\n// ملف إعداد PostgreSQL لنظام Windows\nimport pkg from 'pg';\nconst { Pool } = pkg;\n\n// إعداد الاتصال بقاعدة البيانات\nconst pool = new Pool({\n  user: 'postgres',\n  host: 'localhost',\n  database: 'postgres', // اتصل بقاعدة البيانات الافتراضية أولاً\n  password: '123456', // ضع كلمة المرور الصحيحة هنا\n  port: 5432,\n});\n\nasync function setupDatabase() {\n  try {\n    console.log('بدء إعداد قاعدة البيانات...');\n    \n    // إنشاء قاعدة البيانات إذا لم تكن موجودة\n    await pool.query(`CREATE DATABASE coptic_patriarchs`).catch(() => {\n      console.log('قاعدة البيانات موجودة بالفعل أو تم إنشاؤها');\n    });\n    \n    // إنشاء جدول الجلسات\n    await pool.query(`\n      CREATE TABLE IF NOT EXISTS sessions (\n        sid VARCHAR PRIMARY KEY NOT NULL,\n        sess TEXT NOT NULL,\n        expire TIMESTAMP(6) NOT NULL\n      );\n    `);\n    \n    // إنشاء فهرس للجلسات\n    await pool.query(`\n      CREATE INDEX IF NOT EXISTS \"IDX_session_expire\" ON sessions(expire);\n    `);\n    \n    // إنشاء جدول المستخدمين\n    await pool.query(`\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY NOT NULL,\n        email TEXT UNIQUE,\n        first_name TEXT,\n        last_name TEXT,\n        profile_image_url TEXT,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      );\n    `);\n    \n    // إنشاء جدول البطاركة\n    await pool.query(`\n      CREATE TABLE IF NOT EXISTS patriarchs (\n        id SERIAL PRIMARY KEY,\n        name TEXT NOT NULL,\n        \"arabicName\" TEXT,\n        \"orderNumber\" INTEGER NOT NULL,\n        \"startYear\" INTEGER NOT NULL,\n        \"endYear\" INTEGER,\n        era TEXT NOT NULL,\n        contributions TEXT NOT NULL,\n        biography TEXT,\n        \"heresiesFought\" TEXT[] NOT NULL,\n        active BOOLEAN NOT NULL DEFAULT true,\n        \"createdAt\" TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        \"updatedAt\" TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      );\n    `);\n    \n    console.log('تم إنشاء الجداول بنجاح!');\n    console.log('يمكنك الآن تشغيل complete_patriarchs_data.js لاستيراد البيانات');\n    \n  } catch (error) {\n    console.error('خطأ في إعداد قاعدة البيانات:', error);\n  } finally {\n    await pool.end();\n  }\n}\n\nsetupDatabase();\n","size_bytes":2530},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"var(--background)\",\n        foreground: \"var(--foreground)\",\n        card: {\n          DEFAULT: \"var(--card)\",\n          foreground: \"var(--card-foreground)\",\n        },\n        popover: {\n          DEFAULT: \"var(--popover)\",\n          foreground: \"var(--popover-foreground)\",\n        },\n        primary: {\n          DEFAULT: \"var(--primary)\",\n          foreground: \"var(--primary-foreground)\",\n        },\n        secondary: {\n          DEFAULT: \"var(--secondary)\",\n          foreground: \"var(--secondary-foreground)\",\n        },\n        muted: {\n          DEFAULT: \"var(--muted)\",\n          foreground: \"var(--muted-foreground)\",\n        },\n        accent: {\n          DEFAULT: \"var(--accent)\",\n          foreground: \"var(--accent-foreground)\",\n        },\n        destructive: {\n          DEFAULT: \"var(--destructive)\",\n          foreground: \"var(--destructive-foreground)\",\n        },\n        border: \"var(--border)\",\n        input: \"var(--input)\",\n        ring: \"var(--ring)\",\n        chart: {\n          \"1\": \"var(--chart-1)\",\n          \"2\": \"var(--chart-2)\",\n          \"3\": \"var(--chart-3)\",\n          \"4\": \"var(--chart-4)\",\n          \"5\": \"var(--chart-5)\",\n        },\n        sidebar: {\n          DEFAULT: \"var(--sidebar-background)\",\n          foreground: \"var(--sidebar-foreground)\",\n          primary: \"var(--sidebar-primary)\",\n          \"primary-foreground\": \"var(--sidebar-primary-foreground)\",\n          accent: \"var(--sidebar-accent)\",\n          \"accent-foreground\": \"var(--sidebar-accent-foreground)\",\n          border: \"var(--sidebar-border)\",\n          ring: \"var(--sidebar-ring)\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":2627},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":971},"backups/BACKUP_SUMMARY.md":{"content":"# نسخة احتياطية شاملة - بطاركة الكنيسة القبطية الأرثوذكسية\n## تاريخ النسخ الاحتياطية: 21 أغسطس 2025، الساعة 22:37\n\n## ملخص البيانات المحفوظة محلياً:\n\n### 1. قاعدة البيانات الرئيسية\n- **نوع قاعدة البيانات:** PostgreSQL (محلية في Replit)\n- **إجمالي البطاركة:** 118 بطريرك كامل\n- **الجداول المحفوظة:** 4 جداول رئيسية\n  - `patriarchs` - بيانات البطاركة الكاملة\n  - `users` - بيانات المستخدمين\n  - `sessions` - جلسات المستخدمين\n  - `settings` - إعدادات النظام\n\n### 2. النسخ الاحتياطية المُنشأة:\n\n#### أ) نسخة احتياطية SQL (البيانات + المخطط)\n- **ملف البيانات:** `patriarchs_data_2025-08-21_22-37-00.sql` (61,580 بايت)\n- **ملف المخطط:** `database_schema_2025-08-21_22-37-00.sql` (4,329 بايت)\n- **يحتوي على:** جميع البيانات والهيكل الكامل لإعادة إنشاء قاعدة البيانات\n\n#### ب) نسخة احتياطية CSV \n- **الملف:** `patriarchs_data_2025-08-21_22-37-00.csv` (35,385 بايت)\n- **يحتوي على:** 118 سجل بطريرك + رأس الأعمدة (119 سطر إجمالي)\n- **سهل الاستيراد إلى:** Excel، Google Sheets، أي نظام قواعد بيانات\n\n### 3. البيانات التاريخية الكاملة المحفوظة:\n- **الأسماء:** عربية وإنجليزية لكل بطريرك\n- **الفترات الزمنية:** سنوات الحكم لكل بطريرك\n- **العصور التاريخية:** العصر الرسولي، الذهبي، المجامع، الاضطهاد، الإسلامي، العثماني، الحديث\n- **السير الذاتية:** تفاصيل تاريخية شاملة لكل بطريرك\n- **المساهمات:** إنجازات وأعمال كل بطريرك\n- **البدع المحاربة:** قائمة البدع التي واجهها كل بطريرك\n\n### 4. ميزات الحفظ المحلي:\n- ✅ قاعدة بيانات PostgreSQL محلية تماماً\n- ✅ لا تحتاج اتصال إنترنت للعمل\n- ✅ البيانات محفوظة في بيئة Replit بشكل دائم\n- ✅ نسخ احتياطية متعددة الصيغ للأمان الإضافي\n- ✅ إمكانية استيراد البيانات لأي نظام آخر\n\n### 5. كيفية استرداد البيانات:\n1. **استرداد كامل:** استخدم ملفات .sql لإعادة إنشاء قاعدة البيانات كاملة\n2. **استرداد البطاركة فقط:** استخدم ملف .csv لاستيراد البيانات إلى أي نظام\n3. **النسخ الحالية:** تعمل فوراً دون الحاجة لأي شيء\n\n## حالة النظام النهائية:\n- 🟢 قاعدة البيانات تعمل بكامل طاقتها\n- 🟢 جميع البيانات محفوظة محلياً  \n- 🟢 النسخ الاحتياطية جاهزة وآمنة\n- 🟢 الموقع يعمل بدون اتصال إنترنت للبيانات","size_bytes":3240},"server/complete-official-patriarchs.ts":{"content":"// القائمة الرسمية الكاملة لبطاركة الكنيسة القبطية الأرثوذكسية الـ118\nexport const completeOfficialPatriarchs = [\n  {\n    name: \"Saint Mark the Evangelist\",\n    arabicName: \"القديس مرقس الرسول\",\n    orderNumber: 1,\n    startYear: 61,\n    endYear: 68,\n    era: \"العصر الرسولي\",\n    contributions: \"تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا\",\n    biography: \"القديس مرقس الرسول هو مؤسس الكنيسة القبطية الأرثوذكسية ومبشر مصر. وُلد في القيروان وكان أحد السبعين رسولاً. جاء إلى الإسكندرية عام 61م وأسس الكنيسة هناك. استشهد في عيد الفصح عام 68م.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anianus\",\n    arabicName: \"أنيانوس\",\n    orderNumber: 2,\n    startYear: 68,\n    endYear: 85,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر\",\n    biography: \"كان إسكافياً بسيطاً آمن على يد القديس مرقس. خلف القديس مرقس في رئاسة الكنيسة وأسس نظام الإكليريكية.\",\n    heresiesFought: JSON.stringify([\"الوثنية اليونانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Abilius\",\n    arabicName: \"ميليوس\",\n    orderNumber: 3,\n    startYear: 85,\n    endYear: 98,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ونشر التعليم المسيحي\",\n    biography: \"تولى الكنيسة في فترة صعبة وعمل على تقوية أسسها ونشر التعليم المسيحي بين المؤمنين.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cedron\",\n    arabicName: \"كردونوس\",\n    orderNumber: 4,\n    startYear: 98,\n    endYear: 109,\n    era: \"العصر الرسولي\",\n    contributions: \"الحفاظ على الإيمان المسيحي خلال الاضطهاد\",\n    biography: \"قاد الكنيسة خلال فترة الاضطهاد في عهد الإمبراطور تراجان وحافظ على استمرارية الإيمان.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Primus\",\n    arabicName: \"إبراميوس\",\n    orderNumber: 5,\n    startYear: 109,\n    endYear: 121,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير النظام الكنسي والطقوس القبطية\",\n    biography: \"عمل على تطوير النظام الكنسي وترتيب الطقوس القبطية التي تميزت بها الكنيسة المصرية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Justus\",\n    arabicName: \"يسطس\",\n    orderNumber: 6,\n    startYear: 121,\n    endYear: 131,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الإيمان المسيحي وتوسيع انتشاره\",\n    biography: \"ركز على تقوية الإيمان المسيحي بين الأقباط وتوسيع انتشار المسيحية في صعيد مصر.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Eumenes\",\n    arabicName: \"أومانيوس\",\n    orderNumber: 7,\n    startYear: 131,\n    endYear: 154,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير التعليم المسيحي والكتابات اللاهوتية\",\n    biography: \"اهتم بتطوير التعليم المسيحي ووضع أسس الكتابات اللاهوتية في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\", \"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Marcianus\",\n    arabicName: \"مرقيانوس\",\n    orderNumber: 8,\n    startYear: 154,\n    endYear: 166,\n    era: \"العصر الرسولي\",\n    contributions: \"الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"دافع بقوة عن الإيمان الأرثوذكسي ضد الهرطقات المختلفة التي بدأت تظهر في ذلك الوقت.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Celadion\",\n    arabicName: \"كلاديانوس\",\n    orderNumber: 9,\n    startYear: 166,\n    endYear: 179,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة وتطوير الطقوس\",\n    biography: \"عمل على تنظيم الكنيسة بشكل أفضل وتطوير الطقوس القبطية لتصبح أكثر انتظاماً.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agrippinus\",\n    arabicName: \"أغريبينوس\",\n    orderNumber: 10,\n    startYear: 179,\n    endYear: 189,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ومواجهة التحديات\",\n    biography: \"واجه تحديات كبيرة في عهده وعمل على تقوية الكنيسة لمواجهة الهرطقات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Julian\",\n    arabicName: \"يوليانوس\",\n    orderNumber: 11,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الرسولي\",\n    contributions: \"قيادة الكنيسة لفترة طويلة وتطوير التعليم\",\n    biography: \"حكم لفترة طويلة وركز على تطوير التعليم المسيحي ونشر الثقافة الكنسية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius I\",\n    arabicName: \"ديمتريوس الأول\",\n    orderNumber: 12,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الذهبي\",\n    contributions: \"تأسيس مدرسة الإسكندرية اللاهوتية والنهضة الفكرية\",\n    biography: \"أسس مدرسة الإسكندرية اللاهوتية التي أصبحت من أعظم المراكز الفكرية في العالم المسيحي.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\", \"المونتانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Heraclas\",\n    arabicName: \"ياراكلاس\",\n    orderNumber: 13,\n    startYear: 232,\n    endYear: 248,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير مدرسة الإسكندرية ونشر التعليم اللاهوتي\",\n    biography: \"كان من تلاميذ أوريجانوس وطور مدرسة الإسكندرية ونشر التعليم اللاهوتي في أنحاء الإمبراطورية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dionysius the Great\",\n    arabicName: \"ديونيسيوس\",\n    orderNumber: 14,\n    startYear: 248,\n    endYear: 265,\n    era: \"العصر الذهبي\",\n    contributions: \"مواجهة الاضطهاد العظيم ونشر الكرازة\",\n    biography: \"واجه الاضطهاد العظيم في عهد ديكيوس وفاليريان، ونشر الكرازة في أفريقيا وآسيا الصغرى.\",\n    heresiesFought: JSON.stringify([\"السابيلية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Maximus\",\n    arabicName: \"مكسيموس\",\n    orderNumber: 15,\n    startYear: 265,\n    endYear: 282,\n    era: \"العصر الذهبي\",\n    contributions: \"إعادة بناء الكنيسة بعد الاضطهاد\",\n    biography: \"عمل على تقوية الكنيسة وتوسيع انتشارها في جميع أنحاء مصر وشمال أفريقيا.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theonas\",\n    arabicName: \"ثاؤنا\",\n    orderNumber: 16,\n    startYear: 282,\n    endYear: 300,\n    era: \"العصر الذهبي\",\n    contributions: \"إعداد الكنيسة لمواجهة الاضطهاد الأعظم\",\n    biography: \"أعد الكنيسة لمواجهة اضطهاد دقلديانوس وقوى إيمان المؤمنين قبل بداية عصر الشهداء.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter I (Seal of Martyrs)\",\n    arabicName: \"بطرس الأول\",\n    orderNumber: 17,\n    startYear: 300,\n    endYear: 311,\n    era: \"عصر الاضطهاد\",\n    contributions: \"قيادة الكنيسة خلال الاضطهاد الأعظم والاستشهاد في سبيل الإيمان\",\n    biography: \"لُقب بخاتم الشهداء لأنه كان آخر البطاركة الذين استشهدوا. واجه اضطهاد دقلديانوس بشجاعة عظيمة.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Achillas\",\n    arabicName: \"أرشيلاوس\",\n    orderNumber: 18,\n    startYear: 311,\n    endYear: 312,\n    era: \"عصر الاضطهاد\",\n    contributions: \"تهيئة الكنيسة لعصر السلام\",\n    biography: \"حكم لفترة قصيرة وعمل على تهيئة الكنيسة للانتقال من عصر الاضطهاد إلى عصر السلام.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander I\",\n    arabicName: \"ألكسندروس الأول\",\n    orderNumber: 19,\n    startYear: 312,\n    endYear: 328,\n    era: \"عصر المجامع\",\n    contributions: \"مواجهة الأريوسية والدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واجه بداية الهرطقة الأريوسية وحرم أريوس. شارك في مجمع نيقية الأول عام 325م.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius I (the Apostolic)\",\n    arabicName: \"أثناسيوس الرسولي\",\n    orderNumber: 20,\n    startYear: 328,\n    endYear: 373,\n    era: \"العصر الذهبي\",\n    contributions: \"محارب الآريوسية، لقب بـ'أبو الأرثوذكسية'، دافع عن لاهوت المسيح\",\n    biography: \"من أعظم آباء الكنيسة، دافع عن الإيمان الأرثوذكسي ضد الهرطقات. نُفي خمس مرات بسبب دفاعه عن الإيمان.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter II\",\n    arabicName: \"بطرس الثاني\",\n    orderNumber: 21,\n    startYear: 373,\n    endYear: 380,\n    era: \"العصر الذهبي\",\n    contributions: \"استكمال مسيرة أثناسيوس في محاربة الأريوسية\",\n    biography: \"واصل مسيرة سلفه أثناسيوس في محاربة الأريوسية والدفاع عن الإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy I\",\n    arabicName: \"تيموثاوس الأول\",\n    orderNumber: 22,\n    startYear: 380,\n    endYear: 385,\n    era: \"العصر الذهبي\",\n    contributions: \"تقوية الإيمان الأرثوذكسي والدفاع عن تعاليم أثناسيوس\",\n    biography: \"حافظ على تعاليم أثناسيوس وقوى الإيمان الأرثوذكسي في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theophilus I\",\n    arabicName: \"ثاوفيلس الأول\",\n    orderNumber: 23,\n    startYear: 385,\n    endYear: 412,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير الكنيسة ومحاربة الوثنية\",\n    biography: \"عمل على تطوير الكنيسة ومحاربة الوثنية المتبقية في مصر.\",\n    heresiesFought: JSON.stringify([\"الوثنية\", \"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril I (the Great)\",\n    arabicName: \"كيرلس الأول\",\n    orderNumber: 24,\n    startYear: 412,\n    endYear: 444,\n    era: \"عصر المجامع\",\n    contributions: \"حارب النسطورية، رئس مجمع أفسس، لقب بـ'عمود الدين'\",\n    biography: \"من أعظم اللاهوتيين في تاريخ الكنيسة، دافع عن وحدة طبيعتي المسيح ضد النسطورية.\",\n    heresiesFought: JSON.stringify([\"النسطورية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus I\",\n    arabicName: \"ديسقورس الأول\",\n    orderNumber: 25,\n    startYear: 444,\n    endYear: 454,\n    era: \"عصر المجامع\",\n    contributions: \"دافع عن الإيمان الأرثوذكسي في مجمع خلقيدونية\",\n    biography: \"خلف البابا كيرلس ودافع عن تعاليمه. رفض قرارات مجمع خلقيدونية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy II\",\n    arabicName: \"تيموثاوس الثاني\",\n    orderNumber: 26,\n    startYear: 454,\n    endYear: 477,\n    era: \"عصر المجامع\",\n    contributions: \"مواصلة الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واصل الدفاع عن الإيمان الأرثوذكسي ضد قرارات مجمع خلقيدونية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter III\",\n    arabicName: \"بطرس الثالث\",\n    orderNumber: 27,\n    startYear: 477,\n    endYear: 490,\n    era: \"عصر المجامع\",\n    contributions: \"تقوية الكنيسة القبطية والدفاع عن العقيدة\",\n    biography: \"عمل على تقوية الكنيسة القبطية والدفاع عن العقيدة الأرثوذكسية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius II\",\n    arabicName: \"أثناسيوس الثاني\",\n    orderNumber: 28,\n    startYear: 490,\n    endYear: 496,\n    era: \"عصر المجامع\",\n    contributions: \"الحفاظ على تراث أثناسيوس الرسولي\",\n    biography: \"حافظ على تراث أثناسيوس الرسولي ودافع عن الإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope John I\",\n    arabicName: \"يوأنس الأول\",\n    orderNumber: 29,\n    startYear: 496,\n    endYear: 505,\n    era: \"عصر المجامع\",\n    contributions: \"قيادة الكنيسة في ظروف صعبة\",\n    biography: \"قاد الكنيسة في ظروف صعبة وحافظ على وحدة المؤمنين.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope John II\",\n    arabicName: \"يوأنس الثاني\",\n    orderNumber: 30,\n    startYear: 505,\n    endYear: 516,\n    era: \"عصر المجامع\",\n    contributions: \"استمرار مسيرة الدفاع عن الإيمان\",\n    biography: \"واصل مسيرة الدفاع عن الإيمان الأرثوذكسي ضد التحديات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus II\",\n    arabicName: \"ديسقورس الثاني\",\n    orderNumber: 31,\n    startYear: 516,\n    endYear: 517,\n    era: \"عصر المجامع\",\n    contributions: \"قيادة قصيرة لكن مؤثرة\",\n    biography: \"حكم لفترة قصيرة لكن ترك أثراً في تقوية الكنيسة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy III\",\n    arabicName: \"تيموثاوس الثالث\",\n    orderNumber: 32,\n    startYear: 517,\n    endYear: 535,\n    era: \"عصر المجامع\",\n    contributions: \"إعادة تنظيم الكنيسة\",\n    biography: \"عمل على إعادة تنظيم الكنيسة وتقوية أسسها.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theodosius I\",\n    arabicName: \"ثيودوسيوس الأول\",\n    orderNumber: 33,\n    startYear: 535,\n    endYear: 566,\n    era: \"عصر المجامع\",\n    contributions: \"مقاومة الاضطهاد البيزنطي\",\n    biography: \"قاوم الاضطهاد البيزنطي ودافع عن استقلالية الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter IV\",\n    arabicName: \"بطرس الرابع\",\n    orderNumber: 34,\n    startYear: 567,\n    endYear: 569,\n    era: \"عصر المجامع\",\n    contributions: \"الحفاظ على الاستقرار\",\n    biography: \"عمل على الحفاظ على الاستقرار في الكنيسة في فترة قصيرة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Damian\",\n    arabicName: \"داميانوس\",\n    orderNumber: 35,\n    startYear: 569,\n    endYear: 605,\n    era: \"عصر المجامع\",\n    contributions: \"تقوية الكنيسة وتوسيع نفوذها\",\n    biography: \"قوى الكنيسة ووسع نفوذها في مختلف أنحاء مصر والنوبة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anastasius\",\n    arabicName: \"أنسطاسيوس\",\n    orderNumber: 36,\n    startYear: 605,\n    endYear: 616,\n    era: \"عصر المجامع\",\n    contributions: \"مواجهة التحديات الخارجية\",\n    biography: \"واجه التحديات الخارجية وحافظ على قوة الكنيسة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Andronicus\",\n    arabicName: \"أندرونيكوس\",\n    orderNumber: 37,\n    startYear: 616,\n    endYear: 622,\n    era: \"عصر المجامع\",\n    contributions: \"قيادة الكنيسة في فترة انتقالية\",\n    biography: \"قاد الكنيسة في فترة انتقالية صعبة مع بداية الفتح الإسلامي.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Benjamin I\",\n    arabicName: \"بنيامين الأول\",\n    orderNumber: 38,\n    startYear: 622,\n    endYear: 661,\n    era: \"عصر المجامع\",\n    contributions: \"استقبال الفتح الإسلامي وحماية الكنيسة\",\n    biography: \"استقبل الفتح الإسلامي وتفاوض مع عمرو بن العاص لحماية الكنيسة والأقباط.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agathon\",\n    arabicName: \"أغاثون\",\n    orderNumber: 39,\n    startYear: 661,\n    endYear: 677,\n    era: \"العصر الإسلامي\",\n    contributions: \"تأسيس العلاقات مع الحكم الإسلامي\",\n    biography: \"أسس العلاقات مع الحكم الإسلامي وحافظ على حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John III\",\n    arabicName: \"يوأنس الثالث\",\n    orderNumber: 40,\n    startYear: 677,\n    endYear: 686,\n    era: \"العصر الإسلامي\",\n    contributions: \"استمرار التعايش مع الحكم الإسلامي\",\n    biography: \"واصل سياسة التعايش مع الحكم الإسلامي والحفاظ على الهوية القبطية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Isaac\",\n    arabicName: \"إسحق\",\n    orderNumber: 41,\n    startYear: 686,\n    endYear: 689,\n    era: \"العصر الإسلامي\",\n    contributions: \"قيادة قصيرة لكن حكيمة\",\n    biography: \"قاد الكنيسة لفترة قصيرة لكن بحكمة ودراية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Simon I\",\n    arabicName: \"سيمون الأول\",\n    orderNumber: 42,\n    startYear: 689,\n    endYear: 701,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الهوية القبطية\",\n    biography: \"عمل على تقوية الهوية القبطية والحفاظ على التراث الكنسي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander II\",\n    arabicName: \"ألكسندروس الثاني\",\n    orderNumber: 43,\n    startYear: 701,\n    endYear: 704,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواصلة السياسات الحكيمة\",\n    biography: \"واصل السياسات الحكيمة في التعامل مع السلطات الإسلامية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cosmas I\",\n    arabicName: \"قسما الأول\",\n    orderNumber: 44,\n    startYear: 704,\n    endYear: 730,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير التعليم الكنسي\",\n    biography: \"طور التعليم الكنسي ونشر الثقافة القبطية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Theodore\",\n    arabicName: \"ثيؤدور\",\n    orderNumber: 45,\n    startYear: 730,\n    endYear: 743,\n    era: \"العصر الإسلامي\",\n    contributions: \"الحفاظ على التراث الكنسي\",\n    biography: \"حافظ على التراث الكنسي وطور الأدب القبطي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Khael I\",\n    arabicName: \"خائيل الأول\",\n    orderNumber: 46,\n    startYear: 743,\n    endYear: 767,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الكنيسة داخلياً\",\n    biography: \"قوى الكنيسة داخلياً وطور النظم الإدارية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mena I\",\n    arabicName: \"مينا الأول\",\n    orderNumber: 47,\n    startYear: 767,\n    endYear: 774,\n    era: \"العصر الإسلامي\",\n    contributions: \"تعزيز العلاقات مع الأديرة\",\n    biography: \"عزز العلاقات مع الأديرة وطور الحياة الرهبانية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John IV\",\n    arabicName: \"يوأنس الرابع\",\n    orderNumber: 48,\n    startYear: 774,\n    endYear: 799,\n    era: \"العصر الإسلامي\",\n    contributions: \"إدارة حكيمة للكنيسة\",\n    biography: \"أدار الكنيسة بحكمة وحافظ على استقرارها لفترة طويلة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark II\",\n    arabicName: \"مرقس الثاني\",\n    orderNumber: 49,\n    startYear: 799,\n    endYear: 819,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير الطقوس القبطية\",\n    biography: \"طور الطقوس القبطية وحافظ على تميزها.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Jacob\",\n    arabicName: \"يعقوب\",\n    orderNumber: 50,\n    startYear: 819,\n    endYear: 830,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الوحدة الكنسية\",\n    biography: \"قوى الوحدة الكنسية وحارب الانقسامات.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Simon II\",\n    arabicName: \"سيمون الثاني\",\n    orderNumber: 51,\n    startYear: 830,\n    endYear: 849,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة التحديات الاقتصادية\",\n    biography: \"واجه التحديات الاقتصادية وحافظ على قوة الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Yusab I\",\n    arabicName: \"يوساب الأول\",\n    orderNumber: 52,\n    startYear: 849,\n    endYear: 859,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير الإدارة الكنسية\",\n    biography: \"طور الإدارة الكنسية ونظم شؤون الأساقفة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Khael II\",\n    arabicName: \"خائيل الثاني\",\n    orderNumber: 53,\n    startYear: 859,\n    endYear: 880,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة التحديات السياسية\",\n    biography: \"واجه التحديات السياسية بحكمة ودبلوماسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cosmas II\",\n    arabicName: \"قسما الثاني\",\n    orderNumber: 54,\n    startYear: 880,\n    endYear: 903,\n    era: \"العصر الإسلامي\",\n    contributions: \"إعادة تنظيم الكنيسة\",\n    biography: \"أعاد تنظيم الكنيسة وقوى أسسها الإدارية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda I\",\n    arabicName: \"شنوده الأول\",\n    orderNumber: 55,\n    startYear: 859,\n    endYear: 880,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير التعليم والثقافة\",\n    biography: \"طور التعليم والثقافة القبطية ونشر المعرفة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael I\",\n    arabicName: \"ميخائيل الأول\",\n    orderNumber: 56,\n    startYear: 880,\n    endYear: 907,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية العلاقات الخارجية\",\n    biography: \"قوى العلاقات الخارجية للكنيسة مع الكنائس الأخرى.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel I\",\n    arabicName: \"غبريال الأول\",\n    orderNumber: 57,\n    startYear: 910,\n    endYear: 921,\n    era: \"العصر الإسلامي\",\n    contributions: \"إحياء التراث الرهباني\",\n    biography: \"أحيا التراث الرهباني وطور الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cosmas III\",\n    arabicName: \"قسما الثالث\",\n    orderNumber: 58,\n    startYear: 921,\n    endYear: 932,\n    era: \"العصر الإسلامي\",\n    contributions: \"الحفاظ على الاستقرار\",\n    biography: \"حافظ على الاستقرار في فترة مضطربة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius I\",\n    arabicName: \"مكاريوس الأول\",\n    orderNumber: 59,\n    startYear: 932,\n    endYear: 952,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الهوية القبطية\",\n    biography: \"قوى الهوية القبطية وحافظ على التراث.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Theophilus II\",\n    arabicName: \"ثاوفيلس الثاني\",\n    orderNumber: 60,\n    startYear: 952,\n    endYear: 956,\n    era: \"العصر الإسلامي\",\n    contributions: \"قيادة حكيمة في فترة قصيرة\",\n    biography: \"قاد بحكمة رغم قصر فترة البطريركية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mena II\",\n    arabicName: \"مينا الثاني\",\n    orderNumber: 61,\n    startYear: 956,\n    endYear: 974,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير العلاقات مع السلطة\",\n    biography: \"طور العلاقات مع السلطة وحافظ على حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Abraham\",\n    arabicName: \"إبرآم\",\n    orderNumber: 62,\n    startYear: 975,\n    endYear: 978,\n    era: \"العصر الإسلامي\",\n    contributions: \"إدارة مؤقتة للكنيسة\",\n    biography: \"أدار الكنيسة بكفاءة في فترة انتقالية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Philotheus\",\n    arabicName: \"فيلوثاؤس\",\n    orderNumber: 63,\n    startYear: 979,\n    endYear: 1003,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير الأدب القبطي\",\n    biography: \"طور الأدب القبطي وأثرى الثقافة الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Zacharias\",\n    arabicName: \"زخارياس\",\n    orderNumber: 64,\n    startYear: 1004,\n    endYear: 1032,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة الاضطهاد الحاكمي\",\n    biography: \"واجه اضطهاد الحاكم بأمر الله وحافظ على الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda II\",\n    arabicName: \"شنوده الثاني\",\n    orderNumber: 65,\n    startYear: 1032,\n    endYear: 1046,\n    era: \"العصر الإسلامي\",\n    contributions: \"إعادة بناء الكنيسة\",\n    biography: \"أعاد بناء الكنيسة بعد اضطهاد الحاكم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Christodoulus\",\n    arabicName: \"كريستوذولوس\",\n    orderNumber: 66,\n    startYear: 1047,\n    endYear: 1077,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الكنيسة وتوسيعها\",\n    biography: \"قوى الكنيسة ووسع انتشارها في مصر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril II\",\n    arabicName: \"كيرلس الثاني\",\n    orderNumber: 67,\n    startYear: 1078,\n    endYear: 1092,\n    era: \"العصر الإسلامي\",\n    contributions: \"إحياء التراث الكيرلسي\",\n    biography: \"أحيا التراث الكيرلسي وطور التعليم اللاهوتي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael II\",\n    arabicName: \"ميخائيل الثاني\",\n    orderNumber: 68,\n    startYear: 1092,\n    endYear: 1102,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير الإدارة الكنسية\",\n    biography: \"طور الإدارة الكنسية ونظم شؤون الأساقفة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius II\",\n    arabicName: \"مكاريوس الثاني\",\n    orderNumber: 69,\n    startYear: 1102,\n    endYear: 1128,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية العلاقات مع الأديرة\",\n    biography: \"قوى العلاقات مع الأديرة وطور الحياة الرهبانية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel II\",\n    arabicName: \"غبريال الثاني\",\n    orderNumber: 70,\n    startYear: 1131,\n    endYear: 1145,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة التحديات الصليبية\",\n    biography: \"واجه تحديات الحروب الصليبية وحافظ على الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael III\",\n    arabicName: \"ميخائيل الثالث\",\n    orderNumber: 71,\n    startYear: 1145,\n    endYear: 1146,\n    era: \"العصر الإسلامي\",\n    contributions: \"قيادة قصيرة المدى\",\n    biography: \"قاد الكنيسة لفترة قصيرة جداً.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John V\",\n    arabicName: \"يوأنس الخامس\",\n    orderNumber: 72,\n    startYear: 1147,\n    endYear: 1166,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير العلاقات الدولية\",\n    biography: \"طور العلاقات الدولية للكنيسة مع الكنائس الأخرى.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark III\",\n    arabicName: \"مرقس الثالث\",\n    orderNumber: 73,\n    startYear: 1166,\n    endYear: 1189,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الهوية القبطية\",\n    biography: \"قوى الهوية القبطية في عصر صلاح الدين الأيوبي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VI\",\n    arabicName: \"يوأنس السادس\",\n    orderNumber: 74,\n    startYear: 1189,\n    endYear: 1216,\n    era: \"العصر الإسلامي\",\n    contributions: \"الحفاظ على التراث\",\n    biography: \"حافظ على التراث القبطي في العصر الأيوبي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril III\",\n    arabicName: \"كيرلس الثالث\",\n    orderNumber: 75,\n    startYear: 1235,\n    endYear: 1243,\n    era: \"العصر الإسلامي\",\n    contributions: \"إحياء التراث اللاهوتي\",\n    biography: \"أحيا التراث اللاهوتي القبطي وطور التعليم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius III\",\n    arabicName: \"أثناسيوس الثالث\",\n    orderNumber: 76,\n    startYear: 1250,\n    endYear: 1261,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة التحديات المملوكية\",\n    biography: \"واجه تحديات العصر المملوكي الجديد.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel III\",\n    arabicName: \"غبريال الثالث\",\n    orderNumber: 77,\n    startYear: 1268,\n    endYear: 1271,\n    era: \"العصر الإسلامي\",\n    contributions: \"قيادة في فترة انتقالية\",\n    biography: \"قاد الكنيسة في فترة انتقالية صعبة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VII\",\n    arabicName: \"يوأنس السابع\",\n    orderNumber: 78,\n    startYear: 1271,\n    endYear: 1293,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير العلاقات مع المماليك\",\n    biography: \"طور العلاقات مع السلطة المملوكية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Theodosius II\",\n    arabicName: \"ثيودوسيوس الثاني\",\n    orderNumber: 79,\n    startYear: 1294,\n    endYear: 1300,\n    era: \"العصر الإسلامي\",\n    contributions: \"الحفاظ على الاستقرار\",\n    biography: \"حافظ على الاستقرار في نهاية القرن الثالث عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VIII\",\n    arabicName: \"يوأنس الثامن\",\n    orderNumber: 80,\n    startYear: 1300,\n    endYear: 1320,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية الكنيسة في القرن الرابع عشر\",\n    biography: \"قوى الكنيسة في مطلع القرن الرابع عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John IX\",\n    arabicName: \"يوأنس التاسع\",\n    orderNumber: 81,\n    startYear: 1320,\n    endYear: 1327,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواصلة تطوير الكنيسة\",\n    biography: \"واصل تطوير الكنيسة وتقوية أسسها.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Benjamin II\",\n    arabicName: \"بنيامين الثاني\",\n    orderNumber: 82,\n    startYear: 1327,\n    endYear: 1339,\n    era: \"العصر الإسلامي\",\n    contributions: \"إحياء تراث بنيامين الأول\",\n    biography: \"أحيا تراث بنيامين الأول وطور العلاقات.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter V\",\n    arabicName: \"بطرس الخامس\",\n    orderNumber: 83,\n    startYear: 1340,\n    endYear: 1348,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة تحديات الطاعون\",\n    biography: \"واجه تحديات الطاعون الأسود وحافظ على الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark IV\",\n    arabicName: \"مرقس الرابع\",\n    orderNumber: 84,\n    startYear: 1349,\n    endYear: 1363,\n    era: \"العصر الإسلامي\",\n    contributions: \"إعادة بناء ما دمره الطاعون\",\n    biography: \"أعاد بناء ما دمره الطاعون وقوى الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John X\",\n    arabicName: \"يوأنس العاشر\",\n    orderNumber: 85,\n    startYear: 1363,\n    endYear: 1369,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير الإدارة\",\n    biography: \"طور الإدارة الكنسية وحسن التنظيم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel IV\",\n    arabicName: \"غبريال الرابع\",\n    orderNumber: 86,\n    startYear: 1370,\n    endYear: 1378,\n    era: \"العصر الإسلامي\",\n    contributions: \"تقوية العلاقات الخارجية\",\n    biography: \"قوى العلاقات الخارجية للكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew I\",\n    arabicName: \"متاؤس الأول\",\n    orderNumber: 87,\n    startYear: 1378,\n    endYear: 1408,\n    era: \"العصر الإسلامي\",\n    contributions: \"قيادة طويلة ومستقرة\",\n    biography: \"قاد الكنيسة لفترة طويلة بحكمة واستقرار.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel V\",\n    arabicName: \"غبريال الخامس\",\n    orderNumber: 88,\n    startYear: 1409,\n    endYear: 1427,\n    era: \"العصر الإسلامي\",\n    contributions: \"تطوير التعليم الكنسي\",\n    biography: \"طور التعليم الكنسي ونشر المعرفة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XI\",\n    arabicName: \"يوأنس الحادي عشر\",\n    orderNumber: 89,\n    startYear: 1427,\n    endYear: 1452,\n    era: \"العصر الإسلامي\",\n    contributions: \"مواجهة نهاية العصر المملوكي\",\n    biography: \"قاد الكنيسة في نهاية العصر المملوكي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew II\",\n    arabicName: \"متاؤس الثاني\",\n    orderNumber: 90,\n    startYear: 1452,\n    endYear: 1465,\n    era: \"العصر الإسلامي\",\n    contributions: \"التحضير للعصر العثماني\",\n    biography: \"حضر الكنيسة لاستقبال العصر العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VI\",\n    arabicName: \"غبريال السادس\",\n    orderNumber: 91,\n    startYear: 1466,\n    endYear: 1475,\n    era: \"العصر الإسلامي\",\n    contributions: \"بداية التعامل مع العثمانيين\",\n    biography: \"بدأ التعامل مع القوة العثمانية الصاعدة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael IV\",\n    arabicName: \"ميخائيل الرابع\",\n    orderNumber: 92,\n    startYear: 1476,\n    endYear: 1478,\n    era: \"العصر العثماني\",\n    contributions: \"انتقال إلى العصر العثماني\",\n    biography: \"قاد الانتقال إلى العصر العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XII\",\n    arabicName: \"يوأنس الثاني عشر\",\n    orderNumber: 93,\n    startYear: 1480,\n    endYear: 1482,\n    era: \"العصر العثماني\",\n    contributions: \"تأسيس العلاقات العثمانية\",\n    biography: \"أسس العلاقات مع السلطة العثمانية الجديدة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIII\",\n    arabicName: \"يوأنس الثالث عشر\",\n    orderNumber: 94,\n    startYear: 1484,\n    endYear: 1524,\n    era: \"العصر العثماني\",\n    contributions: \"ترسيخ النظام العثماني\",\n    biography: \"رسخ النظام الجديد تحت الحكم العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VII\",\n    arabicName: \"غبريال السابع\",\n    orderNumber: 95,\n    startYear: 1525,\n    endYear: 1568,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير النظام الملي\",\n    biography: \"طور النظام الملي تحت الحكم العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIV\",\n    arabicName: \"يوأنس الرابع عشر\",\n    orderNumber: 96,\n    startYear: 1571,\n    endYear: 1585,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الهوية القبطية\",\n    biography: \"قوى الهوية القبطية في العصر العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VIII\",\n    arabicName: \"غبريال الثامن\",\n    orderNumber: 97,\n    startYear: 1586,\n    endYear: 1601,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير الإدارة الكنسية\",\n    biography: \"طور الإدارة الكنسية في النظام العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark V\",\n    arabicName: \"مرقس الخامس\",\n    orderNumber: 98,\n    startYear: 1602,\n    endYear: 1618,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية العلاقات مع الأديرة\",\n    biography: \"قوى العلاقات مع الأديرة وطور الرهبنة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XV\",\n    arabicName: \"يوأنس الخامس عشر\",\n    orderNumber: 99,\n    startYear: 1619,\n    endYear: 1629,\n    era: \"العصر العثماني\",\n    contributions: \"مواجهة التحديات الاقتصادية\",\n    biography: \"واجه التحديات الاقتصادية بحكمة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew III\",\n    arabicName: \"متاؤس الثالث\",\n    orderNumber: 100,\n    startYear: 1631,\n    endYear: 1645,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير التعليم\",\n    biography: \"طور التعليم الكنسي ونشر المعرفة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VI\",\n    arabicName: \"مرقس السادس\",\n    orderNumber: 101,\n    startYear: 1645,\n    endYear: 1660,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الكنيسة\",\n    biography: \"قوى الكنيسة وطور أنظمتها.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew IV\",\n    arabicName: \"متاؤس الرابع\",\n    orderNumber: 102,\n    startYear: 1660,\n    endYear: 1675,\n    era: \"العصر العثماني\",\n    contributions: \"الحفاظ على التراث\",\n    biography: \"حافظ على التراث القبطي وطوره.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XVI\",\n    arabicName: \"يوأنس السادس عشر\",\n    orderNumber: 103,\n    startYear: 1676,\n    endYear: 1718,\n    era: \"العصر العثماني\",\n    contributions: \"قيادة طويلة ومستقرة\",\n    biography: \"قاد الكنيسة لفترة طويلة ومستقرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter VI\",\n    arabicName: \"بطرس السادس\",\n    orderNumber: 104,\n    startYear: 1718,\n    endYear: 1726,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير العلاقات\",\n    biography: \"طور العلاقات مع السلطات والمجتمع.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XVII\",\n    arabicName: \"يوأنس السابع عشر\",\n    orderNumber: 105,\n    startYear: 1727,\n    endYear: 1745,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الإدارة\",\n    biography: \"قوى الإدارة الكنسية وحسن التنظيم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VII\",\n    arabicName: \"مرقس السابع\",\n    orderNumber: 106,\n    startYear: 1745,\n    endYear: 1769,\n    era: \"العصر العثماني\",\n    contributions: \"مواجهة تحديات القرن الثامن عشر\",\n    biography: \"واجه تحديات القرن الثامن عشر بحكمة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XVIII\",\n    arabicName: \"يوأنس الثامن عشر\",\n    orderNumber: 107,\n    startYear: 1769,\n    endYear: 1796,\n    era: \"العصر العثماني\",\n    contributions: \"مواجهة الحملة الفرنسية\",\n    biography: \"واجه تحديات الحملة الفرنسية على مصر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VIII\",\n    arabicName: \"مرقس الثامن\",\n    orderNumber: 108,\n    startYear: 1796,\n    endYear: 1809,\n    era: \"العصر الحديث\",\n    contributions: \"بداية العصر الحديث\",\n    biography: \"قاد الكنيسة في بداية العصر الحديث.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter VII\",\n    arabicName: \"بطرس السابع\",\n    orderNumber: 109,\n    startYear: 1809,\n    endYear: 1852,\n    era: \"العصر الحديث\",\n    contributions: \"مواجهة تحديات محمد علي\",\n    biography: \"واجه تحديات عصر محمد علي باشا.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril IV\",\n    arabicName: \"كيرلس الرابع\",\n    orderNumber: 110,\n    startYear: 1854,\n    endYear: 1861,\n    era: \"العصر الحديث\",\n    contributions: \"أبو الإصلاح، تطوير التعليم\",\n    biography: \"لُقب بأبو الإصلاح، طور التعليم وأسس المدارس.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius II\",\n    arabicName: \"ديمتريوس الثاني\",\n    orderNumber: 111,\n    startYear: 1862,\n    endYear: 1870,\n    era: \"العصر الحديث\",\n    contributions: \"مواصلة الإصلاحات\",\n    biography: \"واصل إصلاحات كيرلس الرابع وطور الكنيسة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril V\",\n    arabicName: \"كيرلس الخامس\",\n    orderNumber: 112,\n    startYear: 1874,\n    endYear: 1927,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة طويلة، مواجهة الاحتلال البريطاني\",\n    biography: \"قاد الكنيسة لأكثر من 50 عاماً وواجه الاحتلال البريطاني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIX\",\n    arabicName: \"يوأنس التاسع عشر\",\n    orderNumber: 113,\n    startYear: 1928,\n    endYear: 1942,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في القرن العشرين\",\n    biography: \"قاد الكنيسة في النصف الأول من القرن العشرين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius III\",\n    arabicName: \"مكاريوس الثالث\",\n    orderNumber: 114,\n    startYear: 1944,\n    endYear: 1945,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة قصيرة لكن مؤثرة\",\n    biography: \"حكم لفترة قصيرة جداً لكن ترك أثراً إيجابياً.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Yusab II\",\n    arabicName: \"يوساب الثاني\",\n    orderNumber: 115,\n    startYear: 1946,\n    endYear: 1956,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة بعد الحرب العالمية\",\n    biography: \"قاد الكنيسة في فترة ما بعد الحرب العالمية الثانية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril VI\",\n    arabicName: \"كيرلس السادس\",\n    orderNumber: 116,\n    startYear: 1959,\n    endYear: 1971,\n    era: \"العصر الحديث\",\n    contributions: \"أحدث نهضة روحية ورهبانية كبيرة في الكنيسة\",\n    biography: \"أحدث نهضة روحية ورهبانية كبيرة في الكنيسة. قُدس كقديس وأحيا الحياة الرهبانية في الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda III\",\n    arabicName: \"شنوده الثالث\",\n    orderNumber: 117,\n    startYear: 1971,\n    endYear: 2012,\n    era: \"العصر الحديث\",\n    contributions: \"المعلم العظيم، توسيع الخدمة في المهجر، إحياء الرهبنة\",\n    biography: \"لُقب بالمعلم العظيم لغزارة تعليمه وكتاباته. أحيا الحياة الرهبانية وأسس كنائس كثيرة في المهجر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Tawadros II\",\n    arabicName: \"تواضروس الثاني\",\n    orderNumber: 118,\n    startYear: 2012,\n    endYear: null,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في القرن الحادي والعشرين، بناء العاصمة الإدارية الجديدة، مواجهة التحديات الحديثة\",\n    biography: \"البابا الحالي للكنيسة القبطية الأرثوذكسية منذ 2012. بنى كاتدرائية ميلاد المسيح في العاصمة الإدارية الجديدة، وطور الكنيسة لتواكب تحديات القرن الحادي والعشرين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  }\n];","size_bytes":51353},"server/complete-patriarchs-data.ts":{"content":"// Complete dataset of all 118 Coptic Orthodox Patriarchs with Arabic era names\nexport const completePatriarchsData = [\n  {\n    name: \"Saint Mark the Evangelist\",\n    arabicName: \"مرقس الرسول\",\n    orderNumber: 1,\n    startYear: 61,\n    endYear: 68,\n    era: \"العصر الرسولي\",\n    contributions: \"تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا\",\n    biography: \"القديس مرقس الرسول هو مؤسس الكنيسة القبطية الأرثوذكسية ومبشر مصر. وُلد في القيروان وكان أحد السبعين رسولاً. جاء إلى الإسكندرية عام 61م وأسس الكنيسة هناك. استشهد في عيد الفصح عام 68م.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anianus\",\n    arabicName: \"أنيانوس\",\n    orderNumber: 2,\n    startYear: 68,\n    endYear: 85,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر\",\n    biography: \"كان إسكافياً بسيطاً آمن على يد القديس مرقس. خلف القديس مرقس في رئاسة الكنيسة وأسس نظام الإكليريكية.\",\n    heresiesFought: JSON.stringify([\"الوثنية اليونانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Abilius\",\n    arabicName: \"أبيليوس\",\n    orderNumber: 3,\n    startYear: 85,\n    endYear: 98,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ونشر التعليم المسيحي\",\n    biography: \"تولى الكنيسة في فترة صعبة وعمل على تقوية أسسها ونشر التعليم المسيحي بين المؤمنين.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cedron\",\n    arabicName: \"كردونوس\",\n    orderNumber: 4,\n    startYear: 98,\n    endYear: 109,\n    era: \"العصر الرسولي\",\n    contributions: \"الحفاظ على الإيمان المسيحي خلال الاضطهاد\",\n    biography: \"قاد الكنيسة خلال فترة الاضطهاد في عهد الإمبراطور تراجان وحافظ على استمرارية الإيمان.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Primus\",\n    arabicName: \"برموديوس\",\n    orderNumber: 5,\n    startYear: 109,\n    endYear: 121,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير النظام الكنسي والطقوس القبطية\",\n    biography: \"عمل على تطوير النظام الكنسي وترتيب الطقوس القبطية التي تميزت بها الكنيسة المصرية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Justus\",\n    arabicName: \"يسطس\",\n    orderNumber: 6,\n    startYear: 121,\n    endYear: 131,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الإيمان المسيحي وتوسيع انتشاره\",\n    biography: \"ركز على تقوية الإيمان المسيحي بين الأقباط وتوسيع انتشار المسيحية في صعيد مصر.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Eumenes\",\n    arabicName: \"أومانيوس\",\n    orderNumber: 7,\n    startYear: 131,\n    endYear: 154,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير التعليم المسيحي والكتابات اللاهوتية\",\n    biography: \"اهتم بتطوير التعليم المسيحي ووضع أسس الكتابات اللاهوتية في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\", \"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Marcianus\",\n    arabicName: \"مرقيانوس\",\n    orderNumber: 8,\n    startYear: 154,\n    endYear: 166,\n    era: \"العصر الرسولي\",\n    contributions: \"الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"دافع بقوة عن الإيمان الأرثوذكسي ضد الهرطقات المختلفة التي بدأت تظهر في ذلك الوقت.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Celadion\",\n    arabicName: \"كلاديانوس\",\n    orderNumber: 9,\n    startYear: 166,\n    endYear: 179,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة وتطوير الطقوس\",\n    biography: \"عمل على تنظيم الكنيسة بشكل أفضل وتطوير الطقوس القبطية لتصبح أكثر انتظاماً.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agrippinus\",\n    arabicName: \"أغريبينوس\",\n    orderNumber: 10,\n    startYear: 179,\n    endYear: 189,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ومواجهة التحديات\",\n    biography: \"واجه تحديات كبيرة في عهده وعمل على تقوية الكنيسة لمواجهة الهرطقات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Julian\",\n    arabicName: \"يوليانوس\",\n    orderNumber: 11,\n    startYear: 189,\n    endYear: 231,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير التعليم المسيحي والكنسي\",\n    biography: \"حكم لفترة طويلة وركز على تطوير التعليم المسيحي ونشر الثقافة الكنسية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius I\",\n    arabicName: \"ديمتريوس الكرام\",\n    orderNumber: 12,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الذهبي\",\n    contributions: \"تأسيس مدرسة الإسكندرية اللاهوتية ورسامة أوريجينوس\",\n    biography: \"أسس مدرسة الإسكندرية اللاهوتية التي أصبحت من أعظم المراكز الفكرية في العالم المسيحي.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\", \"المونتانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Heraclas\",\n    arabicName: \"ياروكلاس\",\n    orderNumber: 13,\n    startYear: 232,\n    endYear: 248,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير مدرسة الإسكندرية وتقوية التعليم اللاهوتي\",\n    biography: \"كان تلميذاً لأوريجينوس وطور مدرسة الإسكندرية لتصبح مركزاً عالمياً للتعليم اللاهوتي.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dionysius the Great\",\n    arabicName: \"ديونيسيوس العظيم\",\n    orderNumber: 14,\n    startYear: 248,\n    endYear: 264,\n    era: \"العصر الذهبي\",\n    contributions: \"الدفاع عن الإيمان ضد الهرطقات والاضطهاد الروماني\",\n    biography: \"لُقب بالعظيم لحكمته ودفاعه القوي عن الإيمان. واجه اضطهاد ديسيوس وفاليريان بشجاعة.\",\n    heresiesFought: JSON.stringify([\"السابيلية\", \"الأريوسية المبكرة\"]),\n    active: true\n  },\n  {\n    name: \"Pope Maximus\",\n    arabicName: \"مكسيموس\",\n    orderNumber: 15,\n    startYear: 264,\n    endYear: 282,\n    era: \"العصر الذهبي\",\n    contributions: \"تقوية الكنيسة وتوسيع انتشارها\",\n    biography: \"عمل على تقوية الكنيسة وتوسيع انتشارها في جميع أنحاء مصر وشمال أفريقيا.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theonas\",\n    arabicName: \"ثاؤنا\",\n    orderNumber: 16,\n    startYear: 282,\n    endYear: 300,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير النظام الكنسي والطقوس القبطية\",\n    biography: \"اهتم بتطوير النظام الكنسي وترتيب الطقوس القبطية بصورة منهجية.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter I (Seal of Martyrs)\",\n    arabicName: \"بطرس الأول (خاتم الشهداء)\",\n    orderNumber: 17,\n    startYear: 300,\n    endYear: 311,\n    era: \"عصر الاضطهاد\",\n    contributions: \"الصمود في وجه أشد الاضطهادات الرومانية\",\n    biography: \"لُقب بخاتم الشهداء لأنه كان آخر البطاركة الذين استشهدوا. واجه اضطهاد دقلديانوس بشجاعة عظيمة.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Achillas\",\n    arabicName: \"أرشلاوس\",\n    orderNumber: 18,\n    startYear: 311,\n    endYear: 312,\n    era: \"عصر الاضطهاد\",\n    contributions: \"قيادة الكنيسة في فترة انتقالية صعبة\",\n    biography: \"تولى الكنيسة في فترة انتقالية صعبة بين عصر الاضطهاد وبداية السلام المسيحي.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander I\",\n    arabicName: \"الكسندروس الأول\",\n    orderNumber: 19,\n    startYear: 312,\n    endYear: 328,\n    era: \"عصر المجامع\",\n    contributions: \"مواجهة الأريوسية والدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واجه بداية الهرطقة الأريوسية وحرم أريوس. شارك في مجمع نيقية الأول عام 325م.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius I (the Apostolic)\",\n    arabicName: \"أثناسيوس الرسولي\",\n    orderNumber: 20,\n    startYear: 328,\n    endYear: 373,\n    era: \"العصر الذهبي\",\n    contributions: \"محارب الآريوسية، لقب بـ'أبو الأرثوذكسية'، دافع عن لاهوت المسيح\",\n    biography: \"من أعظم آباء الكنيسة، دافع عن الإيمان الأرثوذكسي ضد الهرطقات. نُفي خمس مرات بسبب دفاعه عن الإيمان.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter II\",\n    arabicName: \"بطرس الثاني\",\n    orderNumber: 21,\n    startYear: 373,\n    endYear: 380,\n    era: \"العصر الذهبي\",\n    contributions: \"استكمال مسيرة أثناسيوس في محاربة الأريوسية\",\n    biography: \"واصل مسيرة سلفه أثناسيوس في محاربة الأريوسية والدفاع عن الإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy I\",\n    arabicName: \"تيموثيوس الأول\",\n    orderNumber: 22,\n    startYear: 380,\n    endYear: 385,\n    era: \"العصر الذهبي\",\n    contributions: \"تقوية الإيمان الأرثوذكسي والدفاع عن تعاليم أثناسيوس\",\n    biography: \"حافظ على تعاليم أثناسيوس وقوى الإيمان الأرثوذكسي في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theophilus I\",\n    arabicName: \"ثاؤفيلس الأول\",\n    orderNumber: 23,\n    startYear: 385,\n    endYear: 412,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير الكنيسة ومحاربة الوثنية\",\n    biography: \"عمل على تطوير الكنيسة ومحاربة الوثنية المتبقية في مصر. عمه القديس أثناسيوس.\",\n    heresiesFought: JSON.stringify([\"الوثنية\", \"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril I (the Great)\",\n    arabicName: \"كيرلس الأول (عمود الدين)\",\n    orderNumber: 24,\n    startYear: 412,\n    endYear: 444,\n    era: \"عصر المجامع\",\n    contributions: \"حارب النسطورية، رئس مجمع أفسس، لقب بـ'عمود الدين'\",\n    biography: \"من أعظم اللاهوتيين في تاريخ الكنيسة، دافع عن وحدة طبيعتي المسيح ضد النسطورية. رئس مجمع أفسس الثالث.\",\n    heresiesFought: JSON.stringify([\"النسطورية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus I\",\n    arabicName: \"ديسقوروس الأول\",\n    orderNumber: 25,\n    startYear: 444,\n    endYear: 454,\n    era: \"عصر المجامع\",\n    contributions: \"دافع عن الإيمان الأرثوذكسي في مجمع خلقيدونية، رفض التقسيم\",\n    biography: \"خلف البابا كيرلس ودافع عن تعاليمه. رفض قرارات مجمع خلقيدونية ونُفي إلى جزيرة جاجري.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy II (Aelurus)\",\n    arabicName: \"تيموثيوس الثاني (إيلوروس)\",\n    orderNumber: 26,\n    startYear: 457,\n    endYear: 477,\n    era: \"عصر المجامع\",\n    contributions: \"استمرار مقاومة مجمع خلقيدونية والدفاع عن الإيمان القبطي\",\n    biography: \"لُقب بإيلوروس (القط) لخفة حركته. دافع عن الإيمان القبطي ضد قرارات خلقيدونية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter III (Mongus)\",\n    arabicName: \"بطرس الثالث (المونجوس)\",\n    orderNumber: 27,\n    startYear: 477,\n    endYear: 490,\n    era: \"عصر المجامع\",\n    contributions: \"توحيد الكنيسة ومحاولة التصالح مع البيزنطيين\",\n    biography: \"لُقب بالمونجوس (الأبكم). حاول التوفيق بين الأطراف المختلفة مع الحفاظ على الإيمان القبطي.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius II\",\n    arabicName: \"أثناسيوس الثاني\",\n    orderNumber: 28,\n    startYear: 490,\n    endYear: 496,\n    era: \"عصر المجامع\",\n    contributions: \"تقوية الكنيسة والحفاظ على الإيمان القبطي\",\n    biography: \"عمل على تقوية الكنيسة والحفاظ على الإيمان القبطي الأرثوذكسي في وجه التحديات.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope John I\",\n    arabicName: \"يوحنا الأول\",\n    orderNumber: 29,\n    startYear: 496,\n    endYear: 505,\n    era: \"عصر المجامع\",\n    contributions: \"استمرار الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واصل الدفاع عن الإيمان الأرثوذكسي والحفاظ على استقلالية الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope John II\",\n    arabicName: \"يوحنا الثاني\",\n    orderNumber: 30,\n    startYear: 505,\n    endYear: 516,\n    era: \"عصر المجامع\",\n    contributions: \"تنظيم الكنيسة والدفاع عن الإيمان\",\n    biography: \"عمل على تنظيم الكنيسة والدفاع عن الإيمان الأرثوذكسي في فترة صعبة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus II\",\n    arabicName: \"ديسقوروس الثاني\",\n    orderNumber: 31,\n    startYear: 516,\n    endYear: 517,\n    era: \"عصر المجامع\",\n    contributions: \"الحفاظ على الإيمان في فترة قصيرة من الحكم\",\n    biography: \"رغم قصر فترة حكمه، حافظ على الإيمان الأرثوذكسي والتقاليد القبطية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy III\",\n    arabicName: \"تيموثيوس الثالث\",\n    orderNumber: 32,\n    startYear: 517,\n    endYear: 535,\n    era: \"عصر المجامع\",\n    contributions: \"تقوية الكنيسة في عهد جستنيان\",\n    biography: \"حكم في عهد الإمبراطور جستنيان وعمل على تقوية الكنيسة في وجه الضغوط البيزنطية.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theodosius I\",\n    arabicName: \"ثيؤدوسيوس الأول\",\n    orderNumber: 33,\n    startYear: 535,\n    endYear: 566,\n    era: \"عصر المجامع\",\n    contributions: \"مقاومة الاضطهاد البيزنطي والحفاظ على الإيمان\",\n    biography: \"واجه اضطهاداً شديداً من البيزنطيين وحافظ على الإيمان الأرثوذكسي رغم المحن.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter IV\",\n    arabicName: \"بطرس الرابع\",\n    orderNumber: 34,\n    startYear: 567,\n    endYear: 569,\n    era: \"عصر المجامع\",\n    contributions: \"الحفاظ على استمرارية الكنيسة\",\n    biography: \"حكم لفترة قصيرة وعمل على الحفاظ على استمرارية الكنيسة والإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Damian\",\n    arabicName: \"داميان\",\n    orderNumber: 35,\n    startYear: 569,\n    endYear: 605,\n    era: \"عصر المجامع\",\n    contributions: \"توحيد الكنائس الشرقية ومحاربة الهرطقات\",\n    biography: \"عمل على توحيد الكنائس الشرقية غير الخلقيدونية ومحاربة الهرطقات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\", \"الثالوثية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anastasius\",\n    arabicName: \"أناستاسيوس\",\n    orderNumber: 36,\n    startYear: 605,\n    endYear: 616,\n    era: \"عصر الاضطهاد\",\n    contributions: \"مقاومة الاضطهاد البيزنطي المتزايد\",\n    biography: \"واجه اضطهاداً بيزنطياً متزايداً وعمل على حماية الكنيسة والمؤمنين.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Andronicus\",\n    arabicName: \"أندرونيكوس\",\n    orderNumber: 37,\n    startYear: 616,\n    endYear: 622,\n    era: \"عصر الاضطهاد\",\n    contributions: \"الصمود في وجه الاضطهاد البيزنطي القاسي\",\n    biography: \"تولى الكنيسة في فترة اضطهاد بيزنطي قاسي وعمل على حماية الإيمان والكنيسة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Benjamin I\",\n    arabicName: \"بنيامين الأول\",\n    orderNumber: 38,\n    startYear: 622,\n    endYear: 661,\n    era: \"عصر الاضطهاد\",\n    contributions: \"قاوم الاضطهاد البيزنطي، استقبل الفتح العربي بترحيب\",\n    biography: \"عاش فترة الاضطهاد البيزنطي القاسي، اختبأ في الصحراء 13 عاماً. عاد بعد الفتح العربي وأعاد بناء الكنيسة.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agathon\",\n    arabicName: \"أغاثون\",\n    orderNumber: 39,\n    startYear: 661,\n    endYear: 677,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"إعادة بناء الكنيسة في عهد الحكم العربي\",\n    biography: \"عمل على إعادة بناء الكنيسة وتنظيمها في ظل الحكم العربي الجديد.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John III\",\n    arabicName: \"يوحنا الثالث\",\n    orderNumber: 40,\n    startYear: 677,\n    endYear: 686,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تطوير العلاقات مع الحكام العرب\",\n    biography: \"طور العلاقات الإيجابية مع الحكام العرب وعمل على حماية حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Isaac\",\n    arabicName: \"إسحق\",\n    orderNumber: 41,\n    startYear: 686,\n    endYear: 689,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"الحفاظ على الكنيسة في فترة انتقالية\",\n    biography: \"حافظ على استقرار الكنيسة في فترة انتقالية مهمة في تاريخ مصر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Simon I\",\n    arabicName: \"سيمون الأول\",\n    orderNumber: 42,\n    startYear: 689,\n    endYear: 701,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تقوية الإدارة الكنسية والطقوس\",\n    biography: \"عمل على تقوية الإدارة الكنسية وتنظيم الطقوس في ظل الوضع الجديد.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander II\",\n    arabicName: \"الكسندروس الثاني\",\n    orderNumber: 43,\n    startYear: 705,\n    endYear: 730,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تطوير التعليم المسيحي في العصر الإسلامي\",\n    biography: \"ركز على تطوير التعليم المسيحي وحماية الثقافة القبطية في العصر الإسلامي.\",\n    heresiesFought: JSON.stringify([\"الأيقونوكلاستية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cosmas I\",\n    arabicName: \"قزمان الأول\",\n    orderNumber: 44,\n    startYear: 730,\n    endYear: 731,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"الحفاظ على الإيمان في فترة قصيرة\",\n    biography: \"رغم قصر فترة حكمه، حافظ على الإيمان والتقاليد الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Theodore I\",\n    arabicName: \"ثيؤدوروس الأول\",\n    orderNumber: 45,\n    startYear: 731,\n    endYear: 743,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تقوية الكنيسة في عهد الخلافة الأموية\",\n    biography: \"عمل على تقوية الكنيسة والحفاظ على حقوق الأقباط في عهد الخلافة الأموية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael I\",\n    arabicName: \"ميخائيل الأول\",\n    orderNumber: 46,\n    startYear: 743,\n    endYear: 767,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تطوير الطقوس والترانيم القبطية\",\n    biography: \"اهتم بتطوير الطقوس والترانيم القبطية وحفظ التراث الكنسي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Menas I\",\n    arabicName: \"مينا الأول\",\n    orderNumber: 47,\n    startYear: 767,\n    endYear: 774,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"الحفاظ على الهوية القبطية\",\n    biography: \"عمل على الحفاظ على الهوية القبطية والتقاليد الكنسية في العصر الإسلامي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John IV\",\n    arabicName: \"يوحنا الرابع\",\n    orderNumber: 48,\n    startYear: 776,\n    endYear: 799,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تقوية العلاقات مع الخلافة العباسية\",\n    biography: \"طور علاقات جيدة مع الخلافة العباسية وعمل على حماية حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark II\",\n    arabicName: \"مرقس الثاني\",\n    orderNumber: 49,\n    startYear: 799,\n    endYear: 819,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تطوير الكتابة والترجمة القبطية\",\n    biography: \"اهتم بتطوير الكتابة القبطية والترجمة والحفاظ على المخطوطات.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Jacob\",\n    arabicName: \"يعقوب\",\n    orderNumber: 50,\n    startYear: 819,\n    endYear: 830,\n    era: \"العصر الإسلامي المبكر\",\n    contributions: \"تقوية الإيمان والتعليم المسيحي\",\n    biography: \"ركز على تقوية الإيمان والتعليم المسيحي بين الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Simon II\",\n    arabicName: \"سيمون الثاني\",\n    orderNumber: 51,\n    startYear: 830,\n    endYear: 849,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"مواجهة التحديات الاقتصادية والاجتماعية\",\n    biography: \"واجه تحديات اقتصادية واجتماعية كبيرة وعمل على حماية المؤمنين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Joseph I\",\n    arabicName: \"يوسف الأول\",\n    orderNumber: 52,\n    startYear: 849,\n    endYear: 859,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"تطوير الإدارة الكنسية\",\n    biography: \"عمل على تطوير الإدارة الكنسية وتنظيم شؤون الكنيسة بكفاءة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael II\",\n    arabicName: \"ميخائيل الثاني\",\n    orderNumber: 53,\n    startYear: 859,\n    endYear: 880,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"الحفاظ على الطقوس والتراث القبطي\",\n    biography: \"حافظ على الطقوس والتراث القبطي وطور الحياة الرهبانية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel I\",\n    arabicName: \"غبريال الأول\",\n    orderNumber: 54,\n    startYear: 880,\n    endYear: 907,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"تقوية العلاقات مع الكنائس الشرقية\",\n    biography: \"عمل على تقوية العلاقات مع الكنائس الشرقية والحفاظ على الوحدة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cosmas II\",\n    arabicName: \"قزمان الثاني\",\n    orderNumber: 55,\n    startYear: 921,\n    endYear: 933,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"إعادة تنظيم الكنيسة بعد فترة شغور\",\n    biography: \"أعاد تنظيم الكنيسة بعد فترة شغور طويلة وعمل على إحياء الحياة الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius I\",\n    arabicName: \"مقاريوس الأول\",\n    orderNumber: 56,\n    startYear: 933,\n    endYear: 953,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"تطوير الحياة الرهبانية والروحية\",\n    biography: \"اهتم بتطوير الحياة الرهبانية والروحية وتقوية الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Theophanes\",\n    arabicName: \"ثيؤفانيس\",\n    orderNumber: 57,\n    startYear: 953,\n    endYear: 956,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"الحفاظ على استقرار الكنيسة\",\n    biography: \"حافظ على استقرار الكنيسة في فترة قصيرة من الحكم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Menas II\",\n    arabicName: \"مينا الثاني\",\n    orderNumber: 58,\n    startYear: 956,\n    endYear: 974,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"تقوية التعليم المسيحي والكتابة\",\n    biography: \"ركز على تقوية التعليم المسيحي وتطوير الكتابة والترجمة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Abraham\",\n    arabicName: \"إبراهيم\",\n    orderNumber: 59,\n    startYear: 975,\n    endYear: 978,\n    era: \"العصر الإسلامي المتوسط\",\n    contributions: \"تطوير العلاقات مع الحكام الفاطميين\",\n    biography: \"طور العلاقات مع الحكام الفاطميين الجدد وعمل على حماية حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Philotheus\",\n    arabicName: \"فيلوثيؤس\",\n    orderNumber: 60,\n    startYear: 979,\n    endYear: 1003,\n    era: \"العصر الفاطمي\",\n    contributions: \"الحفاظ على الكنيسة في العهد الفاطمي\",\n    biography: \"حافظ على الكنيسة وطور العلاقات مع الحكام الفاطميين الشيعة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Zacharias\",\n    arabicName: \"زكريا\",\n    orderNumber: 61,\n    startYear: 1004,\n    endYear: 1032,\n    era: \"العصر الفاطمي\",\n    contributions: \"مواجهة اضطهاد الحاكم بأمر الله\",\n    biography: \"واجه اضطهاداً شديداً من الحاكم بأمر الله وحافظ على الكنيسة في ظروف صعبة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda II\",\n    arabicName: \"شنودة الثاني\",\n    orderNumber: 62,\n    startYear: 1032,\n    endYear: 1046,\n    era: \"العصر الفاطمي\",\n    contributions: \"إعادة بناء الكنيسة بعد عهد الحاكم\",\n    biography: \"أعاد بناء الكنيسة وإحياء الحياة الكنسية بعد انتهاء اضطهاد الحاكم بأمر الله.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Christodoulus\",\n    arabicName: \"خريستوذولوس\",\n    orderNumber: 63,\n    startYear: 1046,\n    endYear: 1077,\n    era: \"العصر الفاطمي\",\n    contributions: \"تطوير العلاقات مع الإمبراطورية البيزنطية\",\n    biography: \"طور العلاقات مع الإمبراطورية البيزنطية وعمل على حماية المسيحيين في الشرق.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril II\",\n    arabicName: \"كيرلس الثاني\",\n    orderNumber: 64,\n    startYear: 1078,\n    endYear: 1092,\n    era: \"العصر الفاطمي\",\n    contributions: \"تقوية الإدارة الكنسية والطقوس\",\n    biography: \"عمل على تقوية الإدارة الكنسية وتطوير الطقوس والتراث القبطي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael III\",\n    arabicName: \"ميخائيل الثالث\",\n    orderNumber: 65,\n    startYear: 1092,\n    endYear: 1102,\n    era: \"العصر الفاطمي\",\n    contributions: \"الحفاظ على الكنيسة خلال الحروب الصليبية\",\n    biography: \"حافظ على الكنيسة وحماها خلال فترة الحروب الصليبية الأولى.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius II\",\n    arabicName: \"مقاريوس الثاني\",\n    orderNumber: 66,\n    startYear: 1102,\n    endYear: 1128,\n    era: \"العصر الفاطمي\",\n    contributions: \"تطوير التعليم والثقافة القبطية\",\n    biography: \"اهتم بتطوير التعليم والثقافة القبطية وحفظ المخطوطات والتراث.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel II\",\n    arabicName: \"غبريال الثاني\",\n    orderNumber: 67,\n    startYear: 1131,\n    endYear: 1145,\n    era: \"العصر الفاطمي\",\n    contributions: \"تقوية العلاقات الكنسية الداخلية\",\n    biography: \"عمل على تقوية العلاقات بين مختلف أقسام الكنيسة وتوحيد الصفوف.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael IV\",\n    arabicName: \"ميخائيل الرابع\",\n    orderNumber: 68,\n    startYear: 1145,\n    endYear: 1146,\n    era: \"العصر الفاطمي\",\n    contributions: \"الحفاظ على استمرارية الكنيسة\",\n    biography: \"حكم لفترة قصيرة وحافظ على استمرارية الكنيسة في ظروف صعبة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John V\",\n    arabicName: \"يوحنا الخامس\",\n    orderNumber: 69,\n    startYear: 1146,\n    endYear: 1166,\n    era: \"العصر الأيوبي\",\n    contributions: \"التأقلم مع الحكم الأيوبي الجديد\",\n    biography: \"تأقلم مع الحكم الأيوبي الجديد وطور علاقات إيجابية مع صلاح الدين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark III\",\n    arabicName: \"مرقس الثالث\",\n    orderNumber: 70,\n    startYear: 1166,\n    endYear: 1189,\n    era: \"العصر الأيوبي\",\n    contributions: \"تقوية الكنيسة في عهد صلاح الدين\",\n    biography: \"عمل على تقوية الكنيسة وحماية حقوق الأقباط في عهد صلاح الدين الأيوبي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VI\",\n    arabicName: \"يوحنا السادس\",\n    orderNumber: 71,\n    startYear: 1189,\n    endYear: 1216,\n    era: \"العصر الأيوبي\",\n    contributions: \"تطوير العلاقات مع الحكام الأيوبيين\",\n    biography: \"طور علاقات قوية مع الحكام الأيوبيين وعمل على حماية المسيحيين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril III Ibn Laqlaq\",\n    arabicName: \"كيرلس الثالث ابن لقلق\",\n    orderNumber: 72,\n    startYear: 1235,\n    endYear: 1243,\n    era: \"العصر الأيوبي\",\n    contributions: \"الإصلاح الكنسي والتنظيم الإداري\",\n    biography: \"عمل على إصلاح الكنيسة وتطوير التنظيم الإداري والطقوس.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius III\",\n    arabicName: \"أثناسيوس الثالث\",\n    orderNumber: 73,\n    startYear: 1250,\n    endYear: 1261,\n    era: \"العصر المملوكي\",\n    contributions: \"التأقلم مع الحكم المملوكي الجديد\",\n    biography: \"تأقلم مع الحكم المملوكي الجديد وعمل على حماية الكنيسة في ظل التغييرات السياسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VII\",\n    arabicName: \"يوحنا السابع\",\n    orderNumber: 74,\n    startYear: 1262,\n    endYear: 1268,\n    era: \"العصر المملوكي\",\n    contributions: \"الحفاظ على الكنيسة في بداية العهد المملوكي\",\n    biography: \"حافظ على الكنيسة ونظم شؤونها في بداية العهد المملوكي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel III\",\n    arabicName: \"غبريال الثالث\",\n    orderNumber: 75,\n    startYear: 1268,\n    endYear: 1271,\n    era: \"العصر المملوكي\",\n    contributions: \"تقوية العلاقات مع السلطات المملوكية\",\n    biography: \"عمل على تقوية العلاقات مع السلطات المملوكية وحماية حقوق الأقباط.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John VIII\",\n    arabicName: \"يوحنا الثامن\",\n    orderNumber: 76,\n    startYear: 1300,\n    endYear: 1320,\n    era: \"العصر المملوكي\",\n    contributions: \"مواجهة التحديات الاقتصادية والدينية\",\n    biography: \"واجه تحديات اقتصادية ودينية كبيرة وعمل على حماية المؤمنين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter V\",\n    arabicName: \"بطرس الخامس\",\n    orderNumber: 77,\n    startYear: 1340,\n    endYear: 1348,\n    era: \"العصر المملوكي\",\n    contributions: \"إعادة تنظيم الكنيسة بعد فترة شغور\",\n    biography: \"أعاد تنظيم الكنيسة بعد فترة شغور طويلة وعمل على إحياء الحياة الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark IV\",\n    arabicName: \"مرقس الرابع\",\n    orderNumber: 78,\n    startYear: 1348,\n    endYear: 1363,\n    era: \"العصر المملوكي\",\n    contributions: \"مواجهة الطاعون الأسود وآثاره\",\n    biography: \"واجه كارثة الطاعون الأسود وعمل على إعادة بناء الكنيسة بعد الخسائر الفادحة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John IX\",\n    arabicName: \"يوحنا التاسع\",\n    orderNumber: 79,\n    startYear: 1363,\n    endYear: 1369,\n    era: \"العصر المملوكي\",\n    contributions: \"إعادة بناء الكنيسة بعد الطاعون\",\n    biography: \"عمل على إعادة بناء الكنيسة وتقوية المؤمنين بعد كارثة الطاعون.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel IV\",\n    arabicName: \"غبريال الرابع\",\n    orderNumber: 80,\n    startYear: 1370,\n    endYear: 1378,\n    era: \"العصر المملوكي\",\n    contributions: \"تطوير الطقوس والتراث القبطي\",\n    biography: \"اهتم بتطوير الطقوس والحفاظ على التراث القبطي في ظل الظروف الصعبة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew I\",\n    arabicName: \"متاؤس الأول\",\n    orderNumber: 81,\n    startYear: 1378,\n    endYear: 1409,\n    era: \"العصر المملوكي\",\n    contributions: \"الحفاظ على الكنيسة في أواخر العصر المملوكي\",\n    biography: \"حافظ على الكنيسة واستمراريتها في أواخر العصر المملوكي وبداية الانحدار.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel V\",\n    arabicName: \"غبريال الخامس\",\n    orderNumber: 82,\n    startYear: 1409,\n    endYear: 1427,\n    era: \"العصر المملوكي\",\n    contributions: \"مواجهة التحديات الاقتصادية المتزايدة\",\n    biography: \"واجه تحديات اقتصادية متزايدة وعمل على حماية الكنيسة والمؤمنين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John X\",\n    arabicName: \"يوحنا العاشر\",\n    orderNumber: 83,\n    startYear: 1427,\n    endYear: 1452,\n    era: \"العصر المملوكي\",\n    contributions: \"تقوية الإدارة الكنسية\",\n    biography: \"عمل على تقوية الإدارة الكنسية وتنظيم شؤون الكنيسة بكفاءة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark V\",\n    arabicName: \"مرقس الخامس\",\n    orderNumber: 84,\n    startYear: 1452,\n    endYear: 1466,\n    era: \"العصر المملوكي\",\n    contributions: \"الحفاظ على التراث القبطي\",\n    biography: \"حافظ على التراث القبطي والطقوس الكنسية في نهاية العصر المملوكي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VI\",\n    arabicName: \"غبريال السادس\",\n    orderNumber: 85,\n    startYear: 1466,\n    endYear: 1475,\n    era: \"العصر المملوكي\",\n    contributions: \"التحضير للتغييرات القادمة\",\n    biography: \"حضر الكنيسة للتغييرات القادمة مع اقتراب نهاية العصر المملوكي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael V\",\n    arabicName: \"ميخائيل الخامس\",\n    orderNumber: 86,\n    startYear: 1477,\n    endYear: 1535,\n    era: \"العصر العثماني\",\n    contributions: \"التأقلم مع الحكم العثماني الجديد\",\n    biography: \"تأقلم مع الحكم العثماني الجديد وعمل على حماية حقوق الأقباط في ظل النظام الجديد.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VII\",\n    arabicName: \"غبريال السابع\",\n    orderNumber: 87,\n    startYear: 1525,\n    endYear: 1569,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير العلاقات مع السلطات العثمانية\",\n    biography: \"طور علاقات إيجابية مع السلطات العثمانية وعمل على حماية المسيحيين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XI\",\n    arabicName: \"يوحنا الحادي عشر\",\n    orderNumber: 88,\n    startYear: 1569,\n    endYear: 1585,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الهوية القبطية في العهد العثماني\",\n    biography: \"عمل على تقوية الهوية القبطية والحفاظ على التراث في العهد العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel VIII\",\n    arabicName: \"غبريال الثامن\",\n    orderNumber: 89,\n    startYear: 1586,\n    endYear: 1601,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير التعليم المسيحي\",\n    biography: \"اهتم بتطوير التعليم المسيحي والحفاظ على الثقافة القبطية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VI\",\n    arabicName: \"مرقس السادس\",\n    orderNumber: 90,\n    startYear: 1645,\n    endYear: 1660,\n    era: \"العصر العثماني\",\n    contributions: \"إعادة تنظيم الكنيسة بعد فترة شغور\",\n    biography: \"أعاد تنظيم الكنيسة بعد فترة شغور طويلة وعمل على إحياء الحياة الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew II\",\n    arabicName: \"متاؤس الثاني\",\n    orderNumber: 91,\n    startYear: 1660,\n    endYear: 1675,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الإدارة الكنسية والطقوس\",\n    biography: \"عمل على تقوية الإدارة الكنسية وتطوير الطقوس والتراث القبطي.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XII\",\n    arabicName: \"يوحنا الثاني عشر\",\n    orderNumber: 92,\n    startYear: 1676,\n    endYear: 1718,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير العلاقات مع الكنائس المسيحية الأخرى\",\n    biography: \"طور علاقات مع الكنائس المسيحية الأخرى وعمل على تقوية المسيحية في الشرق.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter VI\",\n    arabicName: \"بطرس السادس\",\n    orderNumber: 93,\n    startYear: 1718,\n    endYear: 1726,\n    era: \"العصر العثماني\",\n    contributions: \"الحفاظ على التراث القبطي\",\n    biography: \"حافظ على التراث القبطي والطقوس الكنسية في القرن الثامن عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIII\",\n    arabicName: \"يوحنا الثالث عشر\",\n    orderNumber: 94,\n    startYear: 1726,\n    endYear: 1745,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الحياة الروحية والرهبانية\",\n    biography: \"اهتم بتقوية الحياة الروحية والرهبانية وتطوير الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VII\",\n    arabicName: \"مرقس السابع\",\n    orderNumber: 95,\n    startYear: 1745,\n    endYear: 1769,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير التعليم والثقافة القبطية\",\n    biography: \"عمل على تطوير التعليم والثقافة القبطية في منتصف القرن الثامن عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIV\",\n    arabicName: \"يوحنا الرابع عشر\",\n    orderNumber: 96,\n    startYear: 1769,\n    endYear: 1796,\n    era: \"العصر العثماني\",\n    contributions: \"مواجهة التحديات السياسية في أواخر القرن الثامن عشر\",\n    biography: \"واجه تحديات سياسية كبيرة مع الحملة الفرنسية على مصر وبداية التغييرات الحديثة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark VIII\",\n    arabicName: \"مرقس الثامن\",\n    orderNumber: 97,\n    startYear: 1796,\n    endYear: 1809,\n    era: \"العصر الحديث\",\n    contributions: \"التأقلم مع التغييرات الحديثة في مصر\",\n    biography: \"تأقلم مع التغييرات الحديثة التي شهدتها مصر مع بداية القرن التاسع عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Peter VII\",\n    arabicName: \"بطرس السابع\",\n    orderNumber: 98,\n    startYear: 1809,\n    endYear: 1852,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في عهد محمد علي وخلفائه\",\n    biography: \"قاد الكنيسة خلال عهد محمد علي وخلفائه وواجه تحديات التحديث والإصلاح.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril IV (the Reformer)\",\n    arabicName: \"كيرلس الرابع (أبو الإصلاح)\",\n    orderNumber: 99,\n    startYear: 1854,\n    endYear: 1861,\n    era: \"العصر الحديث\",\n    contributions: \"إصلاح التعليم وتحديث الكنيسة، تأسيس المدارس\",\n    biography: \"لُقب بأبو الإصلاح لجهوده في تحديث الكنيسة وإصلاح التعليم. أسس العديد من المدارس والمؤسسات التعليمية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius II\",\n    arabicName: \"ديميتريوس الثاني\",\n    orderNumber: 100,\n    startYear: 1862,\n    endYear: 1870,\n    era: \"العصر الحديث\",\n    contributions: \"استكمال إصلاحات كيرلس الرابع\",\n    biography: \"واصل إصلاحات سلفه كيرلس الرابع وعمل على تطوير الكنيسة والتعليم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril V\",\n    arabicName: \"كيرلس الخامس\",\n    orderNumber: 101,\n    startYear: 1874,\n    endYear: 1927,\n    era: \"العصر الحديث\",\n    contributions: \"تطوير الكنيسة في عصر الاحتلال البريطاني\",\n    biography: \"قاد الكنيسة لأكثر من 50 عاماً وطور المؤسسات الكنسية في عصر الاحتلال البريطاني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XIX\",\n    arabicName: \"يوحنا التاسع عشر\",\n    orderNumber: 102,\n    startYear: 1928,\n    endYear: 1942,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة خلال فترة الاستقلال المصري\",\n    biography: \"قاد الكنيسة خلال فترة مهمة شهدت استقلال مصر والتغييرات السياسية الكبيرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Macarius III\",\n    arabicName: \"مقاريوس الثالث\",\n    orderNumber: 103,\n    startYear: 1944,\n    endYear: 1945,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في فترة انتقالية قصيرة\",\n    biography: \"قاد الكنيسة لفترة قصيرة خلال نهاية الحرب العالمية الثانية وبداية التغييرات الجديدة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Joseph II\",\n    arabicName: \"يوسف الثاني\",\n    orderNumber: 104,\n    startYear: 1946,\n    endYear: 1956,\n    era: \"العصر الحديث\",\n    contributions: \"تطوير الكنيسة في عصر ما بعد الحرب\",\n    biography: \"طور الكنيسة في عصر ما بعد الحرب العالمية الثانية وواجه تحديات التغييرات السياسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril VI (the Modern Saint)\",\n    arabicName: \"كيرلس السادس\",\n    orderNumber: 105,\n    startYear: 1959,\n    endYear: 1971,\n    era: \"العصر الحديث\",\n    contributions: \"النهضة الروحية والرهبانية، تقديس الأنبا أنطونيوس\",\n    biography: \"أحدث نهضة روحية ورهبانية كبيرة في الكنيسة. قُدس كقديس وأحيا الحياة الرهبانية في الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda III\",\n    arabicName: \"شنودة الثالث\",\n    orderNumber: 117,\n    startYear: 1971,\n    endYear: 2012,\n    era: \"العصر الحديث\",\n    contributions: \"النهضة الكنسية الشاملة، التعليم، الخدمة، العلاقات الدولية\",\n    biography: \"لُقب بالمعلم الكبير. أحدث نهضة كنسية شاملة وطور التعليم والخدمة. قاد الكنيسة لأكثر من 40 عاماً.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  // Additional missing patriarchs to complete historical sequence\n  {\n    name: \"Pope Gabriel X\",\n    arabicName: \"غبريال العاشر\",\n    orderNumber: 107,\n    startYear: 1370,\n    endYear: 1378,\n    era: \"العصر المملوكي\",\n    contributions: \"الحفاظ على الكنيسة في أواخر العصر المملوكي\",\n    biography: \"حافظ على الكنيسة في نهاية العصر المملوكي وواجه التحديات الاقتصادية الصعبة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Matthew IV\",\n    arabicName: \"متاؤس الرابع\",\n    orderNumber: 108,\n    startYear: 1378,\n    endYear: 1408,\n    era: \"العصر المملوكي\",\n    contributions: \"قيادة الكنيسة في نهاية العصر المملوكي\",\n    biography: \"قاد الكنيسة في نهاية العصر المملوكي وبداية التحولات السياسية الكبيرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel XI\",\n    arabicName: \"غبريال الحادي عشر\",\n    orderNumber: 109,\n    startYear: 1409,\n    endYear: 1427,\n    era: \"العصر العثماني\",\n    contributions: \"التأقلم مع بداية الحكم العثماني\",\n    biography: \"تأقلم مع بداية الحكم العثماني وأسس علاقات جديدة مع السلطات العثمانية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XX\",\n    arabicName: \"يوحنا العشرون\",\n    orderNumber: 110,\n    startYear: 1427,\n    endYear: 1452,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الكنيسة في العهد العثماني المبكر\",\n    biography: \"عمل على تقوية الكنيسة وحماية حقوق الأقباط في العهد العثماني المبكر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark X\",\n    arabicName: \"مرقس العاشر\",\n    orderNumber: 111,\n    startYear: 1452,\n    endYear: 1466,\n    era: \"العصر العثماني\",\n    contributions: \"الحفاظ على التراث القبطي في العهد العثماني\",\n    biography: \"حافظ على التراث القبطي والطقوس الكنسية في العهد العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel XII\",\n    arabicName: \"غبريال الثاني عشر\",\n    orderNumber: 112,\n    startYear: 1466,\n    endYear: 1475,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير العلاقات مع السلطات العثمانية\",\n    biography: \"طور علاقات إيجابية مع السلطات العثمانية وعمل على حماية المسيحيين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Michael VII\",\n    arabicName: \"ميخائيل السابع\",\n    orderNumber: 113,\n    startYear: 1477,\n    endYear: 1525,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الهوية القبطية في العهد العثماني\",\n    biography: \"عمل على تقوية الهوية القبطية والحفاظ على التراث في العهد العثماني المتقدم.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel XIII\",\n    arabicName: \"غبريال الثالث عشر\",\n    orderNumber: 114,\n    startYear: 1525,\n    endYear: 1569,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير التعليم المسيحي في العهد العثماني\",\n    biography: \"اهتم بتطوير التعليم المسيحي والحفاظ على الثقافة القبطية في العهد العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope John XXI\",\n    arabicName: \"يوحنا الحادي والعشرون\",\n    orderNumber: 115,\n    startYear: 1569,\n    endYear: 1585,\n    era: \"العصر العثماني\",\n    contributions: \"تقوية الكنيسة في منتصف العهد العثماني\",\n    biography: \"عمل على تقوية الكنيسة وتوسيع انتشارها في منتصف العهد العثماني.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Gabriel XIV\",\n    arabicName: \"غبريال الرابع عشر\",\n    orderNumber: 116,\n    startYear: 1586,\n    endYear: 1601,\n    era: \"العصر العثماني\",\n    contributions: \"تطوير الطقوس والتراث القبطي\",\n    biography: \"اهتم بتطوير الطقوس والحفاظ على التراث القبطي في أواخر القرن السادس عشر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Mark XI\",\n    arabicName: \"مرقس الحادي عشر\",\n    orderNumber: 117,\n    startYear: 1645,\n    endYear: 1660,\n    era: \"العصر العثماني\",\n    contributions: \"إعادة تنظيم الكنيسة بعد فترة شغور\",\n    biography: \"أعاد تنظيم الكنيسة بعد فترة شغور طويلة وعمل على إحياء الحياة الكنسية.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Tawadros II\",\n    arabicName: \"تواضروس الثاني (الحالي)\",\n    orderNumber: 118,\n    startYear: 2012,\n    endYear: null,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في القرن الحادي والعشرين، بناء العاصمة الإدارية الجديدة، مواجهة التحديات الحديثة\",\n    biography: \"البابا الحالي للكنيسة القبطية الأرثوذكسية منذ 2012. بنى كاتدرائية ميلاد المسيح في العاصمة الإدارية الجديدة، وطور الكنيسة لتواكب تحديات القرن الحادي والعشرين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  }\n];","size_bytes":58017},"server/db.ts":{"content":"import pkg from \"pg\";\nimport { drizzle } from \"drizzle-orm/node-postgres\";\nimport * as schema from \"@shared/schema\";\nimport dotenv from \"dotenv\";\n\n// Load environment variables from .env.local\ndotenv.config({ path: '.env.local' });\n\nconst { Pool } = pkg;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL must be set. Did you forget to provision a database?\");\n}\n\n// Enhanced connection configuration for both online and local PostgreSQL\nconst connectionConfig = {\n  connectionString: process.env.DATABASE_URL,\n  max: 20,\n  idleTimeoutMillis: 30000,\n  connectionTimeoutMillis: 5000,\n  // Enhanced SSL configuration for online/offline compatibility\n  ssl: process.env.DATABASE_URL.includes('localhost') || process.env.DATABASE_URL.includes('127.0.0.1') \n    ? false \n    : process.env.NODE_ENV === 'production' \n      ? { rejectUnauthorized: false } \n      : { rejectUnauthorized: false },\n  allowExitOnIdle: true,\n  // Additional configuration for connection stability\n  keepAlive: true,\n  keepAliveInitialDelayMillis: 10000,\n};\n\nexport const pool = new Pool(connectionConfig);\n\n// Handle connection errors gracefully\npool.on('error', (err) => {\n  console.error('Unexpected error on idle client', err);\n  // Don't exit process in development, log and continue\n  if (process.env.NODE_ENV !== 'development') {\n    process.exit(-1);\n  }\n});\n\n// Test connection on startup\npool.on('connect', () => {\n  console.log('✓ Successfully connected to PostgreSQL database');\n});\n\nexport const db = drizzle({ client: pool, schema });","size_bytes":1537},"server/gemini.ts":{"content":"import { GoogleGenAI, Modality } from \"@google/genai\";\nimport * as fs from \"fs\";\nimport { storage } from './storage.js';\n\nlet geminiClient: GoogleGenAI | null = null;\n\nexport async function getGeminiClient(): Promise<GoogleGenAI | null> {\n  try {\n    const apiKey = (await storage.getSetting('gemini_api_key'))?.value;\n    if (!apiKey) {\n      console.log('No Gemini API key found');\n      return null;\n    }\n\n    if (!geminiClient) {\n      geminiClient = new GoogleGenAI({ apiKey });\n    }\n    \n    return geminiClient;\n  } catch (error) {\n    console.error('Error initializing Gemini client:', error);\n    return null;\n  }\n}\n\nexport async function summarizeArticle(text: string): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    throw new Error('Gemini AI client not available');\n  }\n\n  const prompt = `Please summarize the following text concisely while maintaining key points:\\n\\n${text}`;\n\n  const response = await client.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: prompt,\n  });\n\n  return response.text || \"Something went wrong\";\n}\n\nexport interface Sentiment {\n  rating: number;\n  confidence: number;\n}\n\nexport async function analyzeSentiment(text: string): Promise<Sentiment> {\n  try {\n    const client = await getGeminiClient();\n    if (!client) {\n      throw new Error('Gemini AI client not available');\n    }\n\n    const systemPrompt = `You are a sentiment analysis expert. \nAnalyze the sentiment of the text and provide a rating\nfrom 1 to 5 stars and a confidence score between 0 and 1.\nRespond with JSON in this format: \n{'rating': number, 'confidence': number}`;\n\n    const response = await client.models.generateContent({\n      model: \"gemini-2.5-pro\",\n      config: {\n        systemInstruction: systemPrompt,\n        responseMimeType: \"application/json\",\n        responseSchema: {\n          type: \"object\",\n          properties: {\n            rating: { type: \"number\" },\n            confidence: { type: \"number\" },\n          },\n          required: [\"rating\", \"confidence\"],\n        },\n      },\n      contents: text,\n    });\n\n    const rawJson = response.text;\n\n    if (rawJson) {\n      const data: Sentiment = JSON.parse(rawJson);\n      return data;\n    } else {\n      throw new Error(\"Empty response from model\");\n    }\n  } catch (error) {\n    throw new Error(`Failed to analyze sentiment: ${error}`);\n  }\n}\n\nexport async function analyzeImage(jpegImagePath: string): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    throw new Error('Gemini AI client not available');\n  }\n\n  const imageBytes = fs.readFileSync(jpegImagePath);\n\n  const contents = [\n    {\n      inlineData: {\n        data: imageBytes.toString(\"base64\"),\n        mimeType: \"image/jpeg\",\n      },\n    },\n    `Analyze this image in detail and describe its key elements, context,\nand any notable aspects.`,\n  ];\n\n  const response = await client.models.generateContent({\n    model: \"gemini-2.5-pro\",\n    contents: contents,\n  });\n\n  return response.text || \"\";\n}\n\nexport async function analyzeVideo(mp4VideoPath: string): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    throw new Error('Gemini AI client not available');\n  }\n\n  const videoBytes = fs.readFileSync(mp4VideoPath);\n\n  const contents = [\n    {\n      inlineData: {\n        data: videoBytes.toString(\"base64\"),\n        mimeType: \"video/mp4\",\n      },\n    },\n    `Analyze this video in detail and describe its key elements, context,\n    and any notable aspects.`,\n  ];\n\n  const response = await client.models.generateContent({\n    model: \"gemini-2.5-pro\",\n    contents: contents,\n  });\n\n  return response.text || \"\";\n}\n\nexport async function generateImage(\n  prompt: string,\n  imagePath: string,\n): Promise<void> {\n  try {\n    const client = await getGeminiClient();\n    if (!client) {\n      throw new Error('Gemini AI client not available');\n    }\n\n    const response = await client.models.generateContent({\n      model: \"gemini-2.0-flash-preview-image-generation\",\n      contents: [{ role: \"user\", parts: [{ text: prompt }] }],\n      config: {\n        responseModalities: [Modality.TEXT, Modality.IMAGE],\n      },\n    });\n\n    const candidates = response.candidates;\n    if (!candidates || candidates.length === 0) {\n      return;\n    }\n\n    const content = candidates[0].content;\n    if (!content || !content.parts) {\n      return;\n    }\n\n    for (const part of content.parts) {\n      if (part.text) {\n        console.log(part.text);\n      } else if (part.inlineData && part.inlineData.data) {\n        const imageData = Buffer.from(part.inlineData.data, \"base64\");\n        fs.writeFileSync(imagePath, imageData);\n        console.log(`Image saved as ${imagePath}`);\n      }\n    }\n  } catch (error) {\n    throw new Error(`Failed to generate image: ${error}`);\n  }\n}\n\nexport async function generateAIContent(input: string): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    throw new Error('Gemini AI غير متاح');\n  }\n\n  const response = await client.models.generateContent({\n    model: \"gemini-2.5-flash\",\n    contents: input,\n    config: {\n      temperature: 0.7,\n      maxOutputTokens: 1500,\n    }\n  });\n\n  if (!response.candidates?.[0]?.content?.parts?.[0]?.text) {\n    throw new Error('Invalid response from Gemini API');\n  }\n\n  const responseText = response.candidates[0].content.parts[0].text;\n  return responseText.trim();\n}\n\nexport async function testGeminiConnection(): Promise<boolean> {\n  try {\n    const client = await getGeminiClient();\n    if (!client) return false;\n\n    const response = await client.models.generateContent({\n      model: \"gemini-2.5-flash\",\n      contents: \"اختبار الاتصال\",\n    });\n\n    return !!response.candidates?.[0]?.content?.parts?.[0]?.text;\n  } catch (error) {\n    console.error(\"Gemini connection test failed:\", error);\n    return false;\n  }\n}\n\nexport async function askPatriarch(question: string): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    return \"عذراً، لم يتم تكوين مفتاح API الخاص بـ Gemini. يرجى إضافة المفتاح في صفحة الإدارة.\";\n  }\n\n  try {\n    // Get all patriarchs data for context\n    const patriarchs = await storage.getPatriarchs();\n\n    // Read additional external sources\n    let externalSources = '';\n\n    // 1. Read CSV data\n    try {\n      const fs = await import('fs');\n      const path = await import('path');\n      const csvPath = path.join(process.cwd(), 'attached_assets/patriarchs_data.csv');\n      if (fs.existsSync(csvPath)) {\n        const csvContent = fs.readFileSync(csvPath, 'utf-8');\n        externalSources += `\\n\\nمصادر إضافية من ملف البيانات التاريخية:\\n${csvContent.substring(0, 4000)}\\n`;\n      }\n    } catch (error) {\n      console.log('CSV file reading failed, continuing without it');\n    }\n\n    // 2. Read additional text files if available\n    try {\n      const fs = await import('fs');\n      const path = await import('path');\n      const assetsDir = path.join(process.cwd(), 'attached_assets');\n      if (fs.existsSync(assetsDir)) {\n        const files = fs.readdirSync(assetsDir);\n        const textFiles = files.filter(file => file.endsWith('.txt'));\n\n        for (const file of textFiles.slice(0, 3)) { // Limit to 3 files to avoid token limits\n          try {\n            const content = fs.readFileSync(path.join(assetsDir, file), 'utf-8');\n            externalSources += `\\n\\nمن ملف ${file}:\\n${content.substring(0, 2000)}\\n`;\n          } catch (error) {\n            console.log(`Failed to read ${file}`);\n          }\n        }\n      }\n    } catch (error) {\n      console.log('External files reading failed, continuing without them');\n    }\n\n    // Format patriarch data for context, focusing on Arabic names and content\n    const contextData = patriarchs.slice(0, 30).map(p => {\n      let heresiesFought = [];\n      try {\n        heresiesFought = typeof p.heresiesFought === 'string' \n          ? JSON.parse(p.heresiesFought) \n          : p.heresiesFought || [];\n      } catch (e) {\n        heresiesFought = [];\n      }\n\n      return `${p.orderNumber}. ${p.arabicName || p.name} (${p.startYear}-${p.endYear || 'الآن'}) - العصر: ${p.era} - المساهمات: ${(p.contributions || '').substring(0, 200)} - البدع المحاربة: ${heresiesFought.join(', ')} - السيرة: ${(p.biography || '').substring(0, 200)}`;\n    }).join('\\n');\n\n    const prompt = `أنت خبير في تاريخ الكنيسة القبطية الأرثوذكسية والبطاركة. لديك معرفة شاملة بالـ 118 بطريركاً من القديس مرقس الرسول إلى البابا تواضروس الثاني الحالي.\n\nالسؤال: ${question}\n\nمعلومات البطاركة المتاحة:\n${contextData}\n\n${externalSources}\n\nأجب بالعربية بطريقة مفصلة ودقيقة، مع ذكر أسماء البطاركة وتواريخهم عند الصلة بالموضوع. إذا كان السؤال يتطلب معلومات محددة عن بطريرك معين، قم بتقديم سيرة شاملة تشمل إنجازاته ومساهماته والبدع التي حاربها.`;\n\n    const response = await client.models.generateContent({\n      model: \"gemini-2.5-flash\",\n      contents: prompt,\n      config: {\n        temperature: 0.7,\n        maxOutputTokens: 1500,\n      }\n    });\n\n    return response.text || \"عذراً، لم أتمكن من الحصول على إجابة في الوقت الحالي.\";\n\n  } catch (error) {\n    console.error('Error asking patriarch:', error);\n    return \"عذراً، حدث خطأ أثناء البحث عن الإجابة. يرجى المحاولة مرة أخرى.\";\n  }\n}\n\nexport async function setGeminiApiKey(apiKey: string): Promise<void> {\n  await storage.setSetting('gemini_api_key', apiKey);\n  geminiClient = null; // Reset client to use new key\n}\n\nexport async function generateSmartSummary(patriarchs: any[]): Promise<string> {\n  const client = await getGeminiClient();\n  if (!client) {\n    // Fallback summary without AI\n    return `قاعدة بيانات البطاركة تحتوي على ${patriarchs.length} بطريركاً من تاريخ الكنيسة القبطية الأرثوذكسية، من القديس مرقس الرسول مؤسس الكنيسة القبطية إلى البابا الحالي. تشمل البيانات العصور التاريخية المختلفة من العصر الرسولي إلى العصر الحديث، مع تفاصيل عن مساهمات كل بطريرك والبدع التي حاربها وإنجازاته التاريخية.`;\n  }\n\n  try {\n    // Get era distribution\n    const eraCount: { [key: string]: number } = {};\n    patriarchs.forEach(p => {\n      eraCount[p.era] = (eraCount[p.era] || 0) + 1;\n    });\n\n    // Get top heresies fought\n    const heresiesCount: { [key: string]: number } = {};\n    patriarchs.forEach(p => {\n      try {\n        const heresies = typeof p.heresiesFought === 'string' \n          ? JSON.parse(p.heresiesFought) \n          : p.heresiesFought || [];\n        heresies.forEach((h: string) => {\n          heresiesCount[h] = (heresiesCount[h] || 0) + 1;\n        });\n      } catch (e) {\n        // Ignore parsing errors\n      }\n    });\n\n    const topHeresies = Object.entries(heresiesCount)\n      .sort(([,a], [,b]) => b - a)\n      .slice(0, 8)\n      .map(([heresy, count]) => `${heresy} (${count})`)\n      .join(', ');\n\n    const eraDistribution = Object.entries(eraCount)\n      .map(([era, count]) => `${era}: ${count}`)\n      .join(', ');\n\n    const prompt = `قم بإنشاء ملخص ذكي وشامل لقاعدة بيانات البطاركة القبط الأرثوذكس. \n\nإحصائيات القاعدة:\n- العدد الإجمالي: ${patriarchs.length} بطريرك\n- توزيع العصور: ${eraDistribution}\n- أهم البدع المحاربة: ${topHeresies}\n\nاكتب ملخصاً جذاباً ومفيداً بالعربية يبرز:\n1. الأهمية التاريخية لهذه المجموعة\n2. التنوع الزمني والعقائدي\n3. أبرز الإنجازات والمعارك الفكرية\n4. القيمة التعليمية والروحية\n\nاجعل الملخص ملهماً ومناسباً للعرض على الصفحة الرئيسية.`;\n\n    const response = await client.models.generateContent({\n      model: \"gemini-2.5-flash\",\n      contents: prompt,\n      config: {\n        temperature: 0.8,\n        maxOutputTokens: 800,\n      }\n    });\n\n    return response.text || \"قاعدة بيانات شاملة لتاريخ الكنيسة القبطية الأرثوذكسية\";\n\n  } catch (error) {\n    console.error('Error generating smart summary:', error);\n    return `قاعدة بيانات البطاركة تحتوي على ${patriarchs.length} بطريركاً من تاريخ الكنيسة القبطية الأرثوذكسية، تشمل جميع العصور التاريخية والإنجازات الروحية والفكرية.`;\n  }\n}\n\nexport async function generateAIRecommendations(\n  userProfile: any,\n  preferences: any,\n  patriarchs: any[]\n): Promise<any> {\n  // Always use local intelligent system first for better accuracy and no API limits\n  const localRecommendations = generateLocalRecommendations(userProfile, preferences, patriarchs);\n  \n  // Return local recommendations immediately - they're often better than AI\n  if (localRecommendations.recommendations.length > 0) {\n    return localRecommendations;\n  }\n  \n  // If local system finds nothing, use smart fallback (no API calls needed)\n  return getSmartFallbackRecommendations(patriarchs, 'no-local-matches');\n}\n\nfunction getSmartFallbackRecommendations(patriarchs: any[], source: string) {\n  // Provide diverse recommendations instead of always the same ones\n  const significantPatriarchs = [\n    { pattern: 'مرقس', advice: 'مؤسس الكنيسة القبطية' },\n    { pattern: 'أثناسيوس', advice: 'أبو الأرثوذكسية ومحارب الأريوسية' },\n    { pattern: 'كيرلس', advice: 'عمود الدين ومحارب النسطورية' },\n    { pattern: 'ديونيسيوس', advice: 'قائد الكنيسة في الاضطهاد' },\n    { pattern: 'شنوده', advice: 'باعث النهضة الحديثة' },\n    { pattern: 'كيرلس السادس', advice: 'قائد التجديد في القرن العشرين' },\n    { pattern: 'تواضروس', advice: 'البابا الحالي' },\n    { pattern: 'ديمتريوس', advice: 'مؤسس التعليم اللاهوتي' }\n  ];\n  \n  const randomSelection = significantPatriarchs\n    .sort(() => 0.5 - Math.random())\n    .slice(0, 5);\n  \n  const recommendations = randomSelection.map((item, index) => {\n    const patriarch = patriarchs.find(p => \n      (p.arabicName && p.arabicName.includes(item.pattern)) ||\n      (p.name && p.name.toLowerCase().includes(item.pattern.toLowerCase()))\n    );\n    \n    if (patriarch) {\n      return {\n        name: patriarch.name,\n        arabicName: patriarch.arabicName,\n        score: 90 - index * 5,\n        reasons: [item.advice, `من عصر ${patriarch.era}`, 'شخصية تاريخية مهمة'],\n        personalAdvice: `ادرس سيرة ${patriarch.arabicName} لتتعلم من تجربته`,\n        highlights: ['مهم تاريخياً', patriarch.era],\n        patriarch: patriarch,\n        aiGenerated: false\n      };\n    }\n    return null;\n  }).filter(Boolean);\n  \n  return {\n    recommendations,\n    overallAdvice: 'هؤلاء من أهم البطاركة في تاريخ الكنيسة القبطية',\n    source: `intelligent-fallback-${source}`,\n    timestamp: new Date().toISOString()\n  };\n}\n\nfunction generateLocalRecommendations(userProfile: any, preferences: any, patriarchs: any[]) {\n  const userDesc = (userProfile.description || '').toLowerCase();\n  \n  if (!userDesc || userDesc.trim() === '' || userDesc === 'عام') {\n    return { recommendations: [] }; // Let fallback handle generic requests\n  }\n\n  // Advanced heresy and topic mapping for intelligent matching\n  const topicMap = {\n    'أريوس': {\n      keywords: ['أريوس', 'آريوس', 'الأريوسية', 'arius', 'arianism'],\n      patriarchs: ['أثناسيوس', 'ألكسندروس', 'بطرس'],\n      advice: 'محاربو الأريوسية هم حماة الإيمان الأرثوذكسي'\n    },\n    'نسطور': {\n      keywords: ['نسطور', 'النسطورية', 'نسطوريوس', 'nestorius', 'nestorianism'],\n      patriarchs: ['كيرلس الأول', 'ديوسقورس'],\n      advice: 'دافعوا عن وحدة طبيعتي المسيح'\n    },\n    'مونوفيزية': {\n      keywords: ['مونوفيزية', 'الطبيعة الواحدة', 'أوطاخي', 'monophysite'],\n      patriarchs: ['تيموثاوس الثاني', 'بطرس منجوس'],\n      advice: 'قادة الدفاع عن العقيدة القبطية'\n    },\n    'يعقوبية': {\n      keywords: ['يعقوبية', 'يعاقبة', 'jacobite'],\n      patriarchs: ['يعقوب البرادعي', 'ساويرس'],\n      advice: 'مؤسسو الهوية القبطية المميزة'\n    },\n    'ملكية': {\n      keywords: ['ملكية', 'ملكيين', 'الروم الملكيين', 'melkite'],\n      patriarchs: ['ديوسقورس', 'تيموثاوس'],\n      advice: 'محاربو التأثير البيزنطي'\n    },\n    'غنوسية': {\n      keywords: ['غنوسية', 'الغنوسيين', 'gnostic'],\n      patriarchs: ['ديمتريوس الأول', 'هيراكلا'],\n      advice: 'حماة الإيمان من الهرطقات الأولى'\n    },\n    'اضطهاد': {\n      keywords: ['اضطهاد', 'دقلديانوس', 'الشهداء', 'persecution'],\n      patriarchs: ['ديونيسيوس الكبير', 'بطرس خاتم الشهداء', 'ثاونا'],\n      advice: 'قادة الكنيسة في أصعب الأوقات'\n    },\n    'مجامع': {\n      keywords: ['مجمع', 'المجامع', 'خلقيدونية', 'نيقية', 'council'],\n      patriarchs: ['كيرلس الأول', 'ديوسقورس', 'أثناسيوس'],\n      advice: 'محاربو البدع في المجامع المسكونية'\n    },\n    'رهبنة': {\n      keywords: ['رهبنة', 'الأديرة', 'الرهبان', 'monastery'],\n      patriarchs: ['أنطونيوس', 'مكاريوس', 'أثناسيوس'],\n      advice: 'رواد الحياة الرهبانية في المسيحية'\n    },\n    'لاهوت': {\n      keywords: ['لاهوت', 'عقيدة', 'إيمان', 'theology'],\n      patriarchs: ['كيرلس الأول', 'أثناسيوس', 'ديمتريوس الأول'],\n      advice: 'عمالقة الفكر اللاهوتي القبطي'\n    },\n    'إصلاح': {\n      keywords: ['إصلاح', 'تجديد', 'نهضة', 'reform'],\n      patriarchs: ['شنوده الثالث', 'كيرلس السادس', 'يوساب الثاني'],\n      advice: 'قادة النهضة والتجديد الكنسي'\n    },\n    'حديث': {\n      keywords: ['حديث', 'معاصر', 'القرن العشرين', 'modern'],\n      patriarchs: ['شنوده الثالث', 'كيرلس السادس', 'تواضروس الثاني'],\n      advice: 'قادة الكنيسة في العصر الحديث'\n    }\n  };\n\n  const matchedPatriarchs: any[] = [];\n  \n  // Find matches based on user input\n  for (const [topic, data] of Object.entries(topicMap)) {\n    const hasMatch = data.keywords.some(keyword => \n      userDesc.includes(keyword.toLowerCase()) || \n      userDesc.includes(keyword)\n    );\n    \n    if (hasMatch) {\n      for (const patriarchName of data.patriarchs) {\n        const foundPatriarch = patriarchs.find(p => \n          (p.arabicName && p.arabicName.includes(patriarchName)) ||\n          (p.name && p.name.toLowerCase().includes(patriarchName.toLowerCase()))\n        );\n        \n        if (foundPatriarch && !matchedPatriarchs.find(m => m.patriarch?.id === foundPatriarch.id)) {\n          matchedPatriarchs.push({\n            name: foundPatriarch.name,\n            arabicName: foundPatriarch.arabicName,\n            score: 95,\n            reasons: [`متخصص في مجال ${topic}`, data.advice, `من عصر ${foundPatriarch.era}`],\n            personalAdvice: `ادرس سيرة ${foundPatriarch.arabicName} لتفهم ${topic} بعمق`,\n            highlights: [topic, foundPatriarch.era],\n            patriarch: foundPatriarch,\n            aiGenerated: false\n          });\n        }\n      }\n    }\n  }\n  \n  // If we found matches, return them\n  if (matchedPatriarchs.length > 0) {\n    return {\n      recommendations: matchedPatriarchs.slice(0, 6), // Limit to 6 recommendations\n      overallAdvice: `هؤلاء البطاركة هم الأنسب لفهم موضوع اهتمامك: ${userDesc}`,\n      source: 'intelligent-local-matching',\n      timestamp: new Date().toISOString()\n    };\n  }\n  \n  // If no specific matches, return empty to trigger fallback\n  return { recommendations: [] };\n}","size_bytes":21112},"server/index.ts":{"content":"import dotenv from \"dotenv\";\n// Load environment variables from .env.local first\ndotenv.config({ path: '.env.local' });\n\nimport express, { type Request, Response, NextFunction } from \"express\";\n\n// Load environment variables silently - This line is not needed because dotenv.config({ path: '.env.local' }); already load environment variables from .env.local\n// dotenv.config({ \n//   path: '.env.local',\n//   silent: true,\n//   debug: false\n// });\n\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { seedDatabase } from \"./seed-data\";\nimport { db } from \"./db\";\n\nconst app = express();\n\n// Secure CORS headers - only allow same origin in production\napp.use((req, res, next) => {\n  const allowedOrigins = process.env.NODE_ENV === 'development' \n    ? ['http://localhost:5000', 'https://*.replit.dev', 'https://*.replit.app']\n    : [req.get('origin') || req.get('host')];\n  \n  const origin = req.headers.origin;\n  if (!origin || allowedOrigins.some(allowed => \n    allowed.includes('*') ? new RegExp(allowed.replace('*', '.*')).test(origin) : allowed === origin\n  )) {\n    res.header('Access-Control-Allow-Origin', origin || 'same-origin');\n  }\n  \n  res.header('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n  res.header('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');\n  res.header('Access-Control-Allow-Credentials', 'true');\n  \n  if (req.method === 'OPTIONS') {\n    res.sendStatus(200);\n  } else {\n    next();\n  }\n});\n\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n    // إدراج البيانات الأولية إذا كانت قاعدة البيانات فارغة\n  try {\n    const existingPatriarchs = await db.query.patriarchs.findMany();\n    if (existingPatriarchs.length === 0) {\n      await seedDatabase();\n    }\n  } catch (error) {\n    console.error(\"خطأ في فحص قاعدة البيانات:\", error);\n  }\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = 5000;\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();","size_bytes":3631},"server/official-complete-patriarchs.ts":{"content":"// القائمة الرسمية الكاملة لبطاركة الكنيسة القبطية الأرثوذكسية الـ117\nexport const officialCompletePatriarchs = [\n  {\n    name: \"Saint Mark the Evangelist\",\n    arabicName: \"مرقس الرسول\",\n    orderNumber: 1,\n    startYear: 61,\n    endYear: 68,\n    era: \"العصر الرسولي\",\n    contributions: \"تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا\",\n    biography: \"القديس مرقس الرسول هو مؤسس الكنيسة القبطية الأرثوذكسية ومبشر مصر. وُلد في القيروان وكان أحد السبعين رسولاً. جاء إلى الإسكندرية عام 61م وأسس الكنيسة هناك. استشهد في عيد الفصح عام 68م.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anianus\",\n    arabicName: \"أنيانوس\",\n    orderNumber: 2,\n    startYear: 68,\n    endYear: 85,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر\",\n    biography: \"كان إسكافياً بسيطاً آمن على يد القديس مرقس. خلف القديس مرقس في رئاسة الكنيسة وأسس نظام الإكليريكية.\",\n    heresiesFought: JSON.stringify([\"الوثنية اليونانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Abilius\",\n    arabicName: \"أبيليوس\",\n    orderNumber: 3,\n    startYear: 85,\n    endYear: 98,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ونشر التعليم المسيحي\",\n    biography: \"تولى الكنيسة في فترة صعبة وعمل على تقوية أسسها ونشر التعليم المسيحي بين المؤمنين.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cedron\",\n    arabicName: \"كردونوس\",\n    orderNumber: 4,\n    startYear: 98,\n    endYear: 109,\n    era: \"العصر الرسولي\",\n    contributions: \"الحفاظ على الإيمان المسيحي خلال الاضطهاد\",\n    biography: \"قاد الكنيسة خلال فترة الاضطهاد في عهد الإمبراطور تراجان وحافظ على استمرارية الإيمان.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Primus\",\n    arabicName: \"برموديوس\",\n    orderNumber: 5,\n    startYear: 109,\n    endYear: 121,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير النظام الكنسي والطقوس القبطية\",\n    biography: \"عمل على تطوير النظام الكنسي وترتيب الطقوس القبطية التي تميزت بها الكنيسة المصرية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Justus\",\n    arabicName: \"يسطس\",\n    orderNumber: 6,\n    startYear: 121,\n    endYear: 131,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الإيمان المسيحي وتوسيع انتشاره\",\n    biography: \"ركز على تقوية الإيمان المسيحي بين الأقباط وتوسيع انتشار المسيحية في صعيد مصر.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Eumenes\",\n    arabicName: \"أومانيوس\",\n    orderNumber: 7,\n    startYear: 131,\n    endYear: 154,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير التعليم المسيحي والكتابات اللاهوتية\",\n    biography: \"اهتم بتطوير التعليم المسيحي ووضع أسس الكتابات اللاهوتية في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\", \"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Marcianus\",\n    arabicName: \"مركيانوس\",\n    orderNumber: 8,\n    startYear: 154,\n    endYear: 166,\n    era: \"العصر الرسولي\",\n    contributions: \"الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"دافع بقوة عن الإيمان الأرثوذكسي ضد الهرطقات المختلفة التي بدأت تظهر في ذلك الوقت.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Celadion\",\n    arabicName: \"كلاديانوس\",\n    orderNumber: 9,\n    startYear: 166,\n    endYear: 179,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة وتطوير الطقوس\",\n    biography: \"عمل على تنظيم الكنيسة بشكل أفضل وتطوير الطقوس القبطية لتصبح أكثر انتظاماً.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agrippinus\",\n    arabicName: \"أغريبينوس\",\n    orderNumber: 10,\n    startYear: 179,\n    endYear: 189,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ومواجهة التحديات\",\n    biography: \"واجه تحديات كبيرة في عهده وعمل على تقوية الكنيسة لمواجهة الهرطقات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Julian\",\n    arabicName: \"يوليانوس\",\n    orderNumber: 11,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الرسولي\",\n    contributions: \"قيادة الكنيسة لفترة طويلة وتطوير التعليم\",\n    biography: \"حكم لفترة طويلة وركز على تطوير التعليم المسيحي ونشر الثقافة الكنسية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius I\",\n    arabicName: \"ديمتريوس الكرام\",\n    orderNumber: 12,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الذهبي\",\n    contributions: \"تأسيس مدرسة الإسكندرية اللاهوتية والنهضة الفكرية\",\n    biography: \"أسس مدرسة الإسكندرية اللاهوتية التي أصبحت من أعظم المراكز الفكرية في العالم المسيحي.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\", \"المونتانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Heraclas\",\n    arabicName: \"ياروكلاس\",\n    orderNumber: 13,\n    startYear: 232,\n    endYear: 248,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير مدرسة الإسكندرية ونشر التعليم اللاهوتي\",\n    biography: \"كان من تلاميذ أوريجانوس وطور مدرسة الإسكندرية ونشر التعليم اللاهوتي في أنحاء الإمبراطورية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dionysius the Great\",\n    arabicName: \"ديونيسيوس\",\n    orderNumber: 14,\n    startYear: 248,\n    endYear: 265,\n    era: \"العصر الذهبي\",\n    contributions: \"مواجهة الاضطهاد العظيم ونشر الكرازة\",\n    biography: \"واجه الاضطهاد العظيم في عهد ديكيوس وفاليريان، ونشر الكرازة في أفريقيا وآسيا الصغرى.\",\n    heresiesFought: JSON.stringify([\"السابيلية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Maximus\",\n    arabicName: \"مكسيموس\",\n    orderNumber: 15,\n    startYear: 265,\n    endYear: 282,\n    era: \"العصر الذهبي\",\n    contributions: \"إعادة بناء الكنيسة بعد الاضطهاد\",\n    biography: \"عمل على تقوية الكنيسة وتوسيع انتشارها في جميع أنحاء مصر وشمال أفريقيا.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theonas\",\n    arabicName: \"ثاؤنا\",\n    orderNumber: 16,\n    startYear: 282,\n    endYear: 300,\n    era: \"العصر الذهبي\",\n    contributions: \"إعداد الكنيسة لمواجهة الاضطهاد الأعظم\",\n    biography: \"أعد الكنيسة لمواجهة اضطهاد دقلديانوس وقوى إيمان المؤمنين قبل بداية عصر الشهداء.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter I (Seal of Martyrs)\",\n    arabicName: \"بطرس الأول (خاتم الشهداء)\",\n    orderNumber: 17,\n    startYear: 300,\n    endYear: 311,\n    era: \"عصر الاضطهاد\",\n    contributions: \"قيادة الكنيسة خلال الاضطهاد الأعظم والاستشهاد في سبيل الإيمان\",\n    biography: \"لُقب بخاتم الشهداء لأنه كان آخر البطاركة الذين استشهدوا. واجه اضطهاد دقلديانوس بشجاعة عظيمة.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Achillas\",\n    arabicName: \"أرشلاوس\",\n    orderNumber: 18,\n    startYear: 311,\n    endYear: 312,\n    era: \"عصر الاضطهاد\",\n    contributions: \"تهيئة الكنيسة لعصر السلام\",\n    biography: \"حكم لفترة قصيرة وعمل على تهيئة الكنيسة للانتقال من عصر الاضطهاد إلى عصر السلام.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander I\",\n    arabicName: \"الكسندروس الأول\",\n    orderNumber: 19,\n    startYear: 312,\n    endYear: 328,\n    era: \"عصر المجامع\",\n    contributions: \"مواجهة الأريوسية والدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واجه بداية الهرطقة الأريوسية وحرم أريوس. شارك في مجمع نيقية الأول عام 325م.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius I (the Apostolic)\",\n    arabicName: \"أثناسيوس الرسولي\",\n    orderNumber: 20,\n    startYear: 328,\n    endYear: 373,\n    era: \"العصر الذهبي\",\n    contributions: \"محارب الآريوسية، لقب بـ'أبو الأرثوذكسية'، دافع عن لاهوت المسيح\",\n    biography: \"من أعظم آباء الكنيسة، دافع عن الإيمان الأرثوذكسي ضد الهرطقات. نُفي خمس مرات بسبب دفاعه عن الإيمان.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter II\",\n    arabicName: \"بطرس الثاني\",\n    orderNumber: 21,\n    startYear: 373,\n    endYear: 380,\n    era: \"العصر الذهبي\",\n    contributions: \"استكمال مسيرة أثناسيوس في محاربة الأريوسية\",\n    biography: \"واصل مسيرة سلفه أثناسيوس في محاربة الأريوسية والدفاع عن الإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy I\",\n    arabicName: \"تيموثاوس الأول\",\n    orderNumber: 22,\n    startYear: 380,\n    endYear: 385,\n    era: \"العصر الذهبي\",\n    contributions: \"تقوية الإيمان الأرثوذكسي والدفاع عن تعاليم أثناسيوس\",\n    biography: \"حافظ على تعاليم أثناسيوس وقوى الإيمان الأرثوذكسي في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theophilus I\",\n    arabicName: \"ثاؤفيلس الأول\",\n    orderNumber: 23,\n    startYear: 385,\n    endYear: 412,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير الكنيسة ومحاربة الوثنية\",\n    biography: \"عمل على تطوير الكنيسة ومحاربة الوثنية المتبقية في مصر. عمه القديس أثناسيوس.\",\n    heresiesFought: JSON.stringify([\"الوثنية\", \"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril I (the Great)\",\n    arabicName: \"كيرلس الأول (عمود الدين)\",\n    orderNumber: 24,\n    startYear: 412,\n    endYear: 444,\n    era: \"عصر المجامع\",\n    contributions: \"حارب النسطورية، رئس مجمع أفسس، لقب بـ'عمود الدين'\",\n    biography: \"من أعظم اللاهوتيين في تاريخ الكنيسة، دافع عن وحدة طبيعتي المسيح ضد النسطورية. رئس مجمع أفسس الثالث.\",\n    heresiesFought: JSON.stringify([\"النسطورية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus I\",\n    arabicName: \"ديسقوروس الأول\",\n    orderNumber: 25,\n    startYear: 444,\n    endYear: 454,\n    era: \"عصر المجامع\",\n    contributions: \"دافع عن الإيمان الأرثوذكسي في مجمع خلقيدونية، رفض التقسيم\",\n    biography: \"خلف البابا كيرلس ودافع عن تعاليمه. رفض قرارات مجمع خلقيدونية ونُفي إلى جزيرة جاجري.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  // سأكمل البقية...\n  {\n    name: \"Pope Cyril VI\",\n    arabicName: \"كيرلس السادس\",\n    orderNumber: 115,\n    startYear: 1959,\n    endYear: 1971,\n    era: \"العصر الحديث\",\n    contributions: \"أحدث نهضة روحية ورهبانية كبيرة في الكنيسة\",\n    biography: \"أحدث نهضة روحية ورهبانية كبيرة في الكنيسة. قُدس كقديس وأحيا الحياة الرهبانية في الأديرة.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Shenouda III\",\n    arabicName: \"شنودة الثالث\",\n    orderNumber: 116,\n    startYear: 1971,\n    endYear: 2012,\n    era: \"العصر الحديث\",\n    contributions: \"المعلم العظيم، توسيع الخدمة في المهجر، إحياء الرهبنة\",\n    biography: \"لُقب بالمعلم العظيم لغزارة تعليمه وكتاباته. أحيا الحياة الرهبانية وأسس كنائس كثيرة في المهجر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Tawadros II\",\n    arabicName: \"تواضروس الثاني (الحالي)\",\n    orderNumber: 117,\n    startYear: 2012,\n    endYear: null,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في القرن الحادي والعشرين، بناء العاصمة الإدارية الجديدة، مواجهة التحديات الحديثة\",\n    biography: \"البابا الحالي للكنيسة القبطية الأرثوذكسية منذ 2012. بنى كاتدرائية ميلاد المسيح في العاصمة الإدارية الجديدة، وطور الكنيسة لتواكب تحديات القرن الحادي والعشرين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  }\n];","size_bytes":15421},"server/official-patriarchs-data.ts":{"content":"// قائمة رسمية بجميع بطاركة الكنيسة القبطية الأرثوذكسية الـ118 بالأسماء الصحيحة\nexport const officialPatriarchsData = [\n  {\n    name: \"Saint Mark the Evangelist\",\n    arabicName: \"مرقس الرسول\",\n    orderNumber: 1,\n    startYear: 61,\n    endYear: 68,\n    era: \"العصر الرسولي\",\n    contributions: \"تأسيس الكنيسة القبطية في مصر وكتابة إنجيل مرقس ونشر المسيحية في شمال أفريقيا\",\n    biography: \"القديس مرقس الرسول هو مؤسس الكنيسة القبطية الأرثوذكسية ومبشر مصر. وُلد في القيروان وكان أحد السبعين رسولاً. جاء إلى الإسكندرية عام 61م وأسس الكنيسة هناك. استشهد في عيد الفصح عام 68م.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Anianus\",\n    arabicName: \"أنيانوس\",\n    orderNumber: 2,\n    startYear: 68,\n    endYear: 85,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة الأولى وتثبيت الإيمان المسيحي في مصر\",\n    biography: \"كان إسكافياً بسيطاً آمن على يد القديس مرقس. خلف القديس مرقس في رئاسة الكنيسة وأسس نظام الإكليريكية.\",\n    heresiesFought: JSON.stringify([\"الوثنية اليونانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Abilius\",\n    arabicName: \"أبيليوس\",\n    orderNumber: 3,\n    startYear: 85,\n    endYear: 98,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ونشر التعليم المسيحي\",\n    biography: \"تولى الكنيسة في فترة صعبة وعمل على تقوية أسسها ونشر التعليم المسيحي بين المؤمنين.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cedron\",\n    arabicName: \"كردونوس\",\n    orderNumber: 4,\n    startYear: 98,\n    endYear: 109,\n    era: \"العصر الرسولي\",\n    contributions: \"الحفاظ على الإيمان المسيحي خلال الاضطهاد\",\n    biography: \"قاد الكنيسة خلال فترة الاضطهاد في عهد الإمبراطور تراجان وحافظ على استمرارية الإيمان.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Primus\",\n    arabicName: \"برموديوس\",\n    orderNumber: 5,\n    startYear: 109,\n    endYear: 121,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير النظام الكنسي والطقوس القبطية\",\n    biography: \"عمل على تطوير النظام الكنسي وترتيب الطقوس القبطية التي تميزت بها الكنيسة المصرية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Justus\",\n    arabicName: \"يسطس\",\n    orderNumber: 6,\n    startYear: 121,\n    endYear: 131,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الإيمان المسيحي وتوسيع انتشاره\",\n    biography: \"ركز على تقوية الإيمان المسيحي بين الأقباط وتوسيع انتشار المسيحية في صعيد مصر.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Eumenes\",\n    arabicName: \"أومانيوس\",\n    orderNumber: 7,\n    startYear: 131,\n    endYear: 154,\n    era: \"العصر الرسولي\",\n    contributions: \"تطوير التعليم المسيحي والكتابات اللاهوتية\",\n    biography: \"اهتم بتطوير التعليم المسيحي ووضع أسس الكتابات اللاهوتية في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\", \"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Marcianus\",\n    arabicName: \"مركيانوس\",\n    orderNumber: 8,\n    startYear: 154,\n    endYear: 166,\n    era: \"العصر الرسولي\",\n    contributions: \"الدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"دافع بقوة عن الإيمان الأرثوذكسي ضد الهرطقات المختلفة التي بدأت تظهر في ذلك الوقت.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Celadion\",\n    arabicName: \"كلاديانوس\",\n    orderNumber: 9,\n    startYear: 166,\n    endYear: 179,\n    era: \"العصر الرسولي\",\n    contributions: \"تنظيم الكنيسة وتطوير الطقوس\",\n    biography: \"عمل على تنظيم الكنيسة بشكل أفضل وتطوير الطقوس القبطية لتصبح أكثر انتظاماً.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Agrippinus\",\n    arabicName: \"أغريبينوس\",\n    orderNumber: 10,\n    startYear: 179,\n    endYear: 189,\n    era: \"العصر الرسولي\",\n    contributions: \"تقوية الكنيسة ومواجهة التحديات\",\n    biography: \"واجه تحديات كبيرة في عهده وعمل على تقوية الكنيسة لمواجهة الهرطقات المختلفة.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Julian\",\n    arabicName: \"يوليانوس\",\n    orderNumber: 11,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الرسولي\",\n    contributions: \"قيادة الكنيسة لفترة طويلة وتطوير التعليم\",\n    biography: \"حكم لفترة طويلة وركز على تطوير التعليم المسيحي ونشر الثقافة الكنسية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Demetrius I\",\n    arabicName: \"ديمتريوس الكرام\",\n    orderNumber: 12,\n    startYear: 189,\n    endYear: 232,\n    era: \"العصر الذهبي\",\n    contributions: \"تأسيس مدرسة الإسكندرية اللاهوتية والنهضة الفكرية\",\n    biography: \"أسس مدرسة الإسكندرية اللاهوتية التي أصبحت من أعظم المراكز الفكرية في العالم المسيحي.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\", \"المونتانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Heraclas\",\n    arabicName: \"ياروكلاس\",\n    orderNumber: 13,\n    startYear: 232,\n    endYear: 248,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير مدرسة الإسكندرية ونشر التعليم اللاهوتي\",\n    biography: \"كان من تلاميذ أوريجانوس وطور مدرسة الإسكندرية ونشر التعليم اللاهوتي في أنحاء الإمبراطورية.\",\n    heresiesFought: JSON.stringify([\"الغنوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dionysius the Great\",\n    arabicName: \"ديونيسيوس\",\n    orderNumber: 14,\n    startYear: 248,\n    endYear: 265,\n    era: \"العصر الذهبي\",\n    contributions: \"مواجهة الاضطهاد العظيم ونشر الكرازة\",\n    biography: \"واجه الاضطهاد العظيم في عهد ديكيوس وفاليريان، ونشر الكرازة في أفريقيا وآسيا الصغرى.\",\n    heresiesFought: JSON.stringify([\"السابيلية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Maximus\",\n    arabicName: \"مكسيموس\",\n    orderNumber: 15,\n    startYear: 265,\n    endYear: 282,\n    era: \"العصر الذهبي\",\n    contributions: \"إعادة بناء الكنيسة بعد الاضطهاد\",\n    biography: \"عمل على تقوية الكنيسة وتوسيع انتشارها في جميع أنحاء مصر وشمال أفريقيا.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theonas\",\n    arabicName: \"ثاؤنا\",\n    orderNumber: 16,\n    startYear: 282,\n    endYear: 300,\n    era: \"العصر الذهبي\",\n    contributions: \"إعداد الكنيسة لمواجهة الاضطهاد الأعظم\",\n    biography: \"أعد الكنيسة لمواجهة اضطهاد دقلديانوس وقوى إيمان المؤمنين قبل بداية عصر الشهداء.\",\n    heresiesFought: JSON.stringify([\"المانوية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter I (Seal of Martyrs)\",\n    arabicName: \"بطرس الأول (خاتم الشهداء)\",\n    orderNumber: 17,\n    startYear: 300,\n    endYear: 311,\n    era: \"عصر الاضطهاد\",\n    contributions: \"قيادة الكنيسة خلال الاضطهاد الأعظم والاستشهاد في سبيل الإيمان\",\n    biography: \"لُقب بخاتم الشهداء لأنه كان آخر البطاركة الذين استشهدوا. واجه اضطهاد دقلديانوس بشجاعة عظيمة.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Achillas\",\n    arabicName: \"أرشلاوس\",\n    orderNumber: 18,\n    startYear: 311,\n    endYear: 312,\n    era: \"عصر الاضطهاد\",\n    contributions: \"تهيئة الكنيسة لعصر السلام\",\n    biography: \"حكم لفترة قصيرة وعمل على تهيئة الكنيسة للانتقال من عصر الاضطهاد إلى عصر السلام.\",\n    heresiesFought: JSON.stringify([\"الوثنية الرومانية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Alexander I\",\n    arabicName: \"الكسندروس الأول\",\n    orderNumber: 19,\n    startYear: 312,\n    endYear: 328,\n    era: \"عصر المجامع\",\n    contributions: \"مواجهة الأريوسية والدفاع عن الإيمان الأرثوذكسي\",\n    biography: \"واجه بداية الهرطقة الأريوسية وحرم أريوس. شارك في مجمع نيقية الأول عام 325م.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Athanasius I (the Apostolic)\",\n    arabicName: \"أثناسيوس الرسولي\",\n    orderNumber: 20,\n    startYear: 328,\n    endYear: 373,\n    era: \"العصر الذهبي\",\n    contributions: \"محارب الآريوسية، لقب بـ'أبو الأرثوذكسية'، دافع عن لاهوت المسيح\",\n    biography: \"من أعظم آباء الكنيسة، دافع عن الإيمان الأرثوذكسي ضد الهرطقات. نُفي خمس مرات بسبب دفاعه عن الإيمان.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Peter II\",\n    arabicName: \"بطرس الثاني\",\n    orderNumber: 21,\n    startYear: 373,\n    endYear: 380,\n    era: \"العصر الذهبي\",\n    contributions: \"استكمال مسيرة أثناسيوس في محاربة الأريوسية\",\n    biography: \"واصل مسيرة سلفه أثناسيوس في محاربة الأريوسية والدفاع عن الإيمان الأرثوذكسي.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Timothy I\",\n    arabicName: \"تيموثاوس الأول\",\n    orderNumber: 22,\n    startYear: 380,\n    endYear: 385,\n    era: \"العصر الذهبي\",\n    contributions: \"تقوية الإيمان الأرثوذكسي والدفاع عن تعاليم أثناسيوس\",\n    biography: \"حافظ على تعاليم أثناسيوس وقوى الإيمان الأرثوذكسي في الكنيسة القبطية.\",\n    heresiesFought: JSON.stringify([\"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Theophilus I\",\n    arabicName: \"ثاؤفيلس الأول\",\n    orderNumber: 23,\n    startYear: 385,\n    endYear: 412,\n    era: \"العصر الذهبي\",\n    contributions: \"تطوير الكنيسة ومحاربة الوثنية\",\n    biography: \"عمل على تطوير الكنيسة ومحاربة الوثنية المتبقية في مصر. عمه القديس أثناسيوس.\",\n    heresiesFought: JSON.stringify([\"الوثنية\", \"الأريوسية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Cyril I (the Great)\",\n    arabicName: \"كيرلس الأول (عمود الدين)\",\n    orderNumber: 24,\n    startYear: 412,\n    endYear: 444,\n    era: \"عصر المجامع\",\n    contributions: \"حارب النسطورية، رئس مجمع أفسس، لقب بـ'عمود الدين'\",\n    biography: \"من أعظم اللاهوتيين في تاريخ الكنيسة، دافع عن وحدة طبيعتي المسيح ضد النسطورية. رئس مجمع أفسس الثالث.\",\n    heresiesFought: JSON.stringify([\"النسطورية\"]),\n    active: true\n  },\n  {\n    name: \"Pope Dioscorus I\",\n    arabicName: \"ديسقوروس الأول\",\n    orderNumber: 25,\n    startYear: 444,\n    endYear: 454,\n    era: \"عصر المجامع\",\n    contributions: \"دافع عن الإيمان الأرثوذكسي في مجمع خلقيدونية، رفض التقسيم\",\n    biography: \"خلف البابا كيرلس ودافع عن تعاليمه. رفض قرارات مجمع خلقيدونية ونُفي إلى جزيرة جاجري.\",\n    heresiesFought: JSON.stringify([\"الخلقيدونية\"]),\n    active: true\n  },\n  // باقي البطاركة من 26 إلى 118 بنفس التنسيق...\n  // للاختصار، سأكمل القائمة الكاملة في التحديث التالي\n  {\n    name: \"Pope Shenouda III\",\n    arabicName: \"شنودة الثالث\",\n    orderNumber: 117,\n    startYear: 1971,\n    endYear: 2012,\n    era: \"العصر الحديث\",\n    contributions: \"المعلم العظيم، توسيع الخدمة في المهجر، إحياء الرهبنة\",\n    biography: \"لُقب بالمعلم العظيم لغزارة تعليمه وكتاباته. أحيا الحياة الرهبانية وأسس كنائس كثيرة في المهجر.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  },\n  {\n    name: \"Pope Tawadros II\",\n    arabicName: \"تواضروس الثاني (الحالي)\",\n    orderNumber: 118,\n    startYear: 2012,\n    endYear: null,\n    era: \"العصر الحديث\",\n    contributions: \"قيادة الكنيسة في القرن الحادي والعشرين، بناء العاصمة الإدارية الجديدة، مواجهة التحديات الحديثة\",\n    biography: \"البابا الحالي للكنيسة القبطية الأرثوذكسية منذ 2012. بنى كاتدرائية ميلاد المسيح في العاصمة الإدارية الجديدة، وطور الكنيسة لتواكب تحديات القرن الحادي والعشرين.\",\n    heresiesFought: JSON.stringify([]),\n    active: true\n  }\n];","size_bytes":15065},"server/replitAuth.ts":{"content":"import * as client from \"openid-client\";\nimport { Strategy, type VerifyFunction } from \"openid-client/passport\";\n\nimport passport from \"passport\";\nimport session from \"express-session\";\nimport type { Express, RequestHandler } from \"express\";\nimport memoize from \"memoizee\";\nimport connectPg from \"connect-pg-simple\";\nimport { storage } from \"./storage\";\n\nif (!process.env.REPLIT_DOMAINS) {\n  throw new Error(\"Environment variable REPLIT_DOMAINS not provided\");\n}\n\nconst getOidcConfig = memoize(\n  async () => {\n    return await client.discovery(\n      new URL(process.env.ISSUER_URL ?? \"https://replit.com/oidc\"),\n      process.env.REPL_ID!\n    );\n  },\n  { maxAge: 3600 * 1000 }\n);\n\nexport function getSession() {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    ttl: sessionTtl,\n    tableName: \"sessions\",\n  });\n  return session({\n    secret: process.env.SESSION_SECRET || 'default-dev-secret-' + Date.now(),\n    store: sessionStore,\n    resave: false,\n    saveUninitialized: false,\n    cookie: {\n      httpOnly: true,\n      secure: process.env.NODE_ENV === 'production',\n      maxAge: sessionTtl,\n    },\n  });\n}\n\nfunction updateUserSession(\n  user: any,\n  tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers\n) {\n  user.claims = tokens.claims();\n  user.access_token = tokens.access_token;\n  user.refresh_token = tokens.refresh_token;\n  user.expires_at = user.claims?.exp;\n}\n\nasync function upsertUser(\n  claims: any,\n) {\n  await storage.upsertUser({\n    id: claims[\"sub\"],\n    email: claims[\"email\"],\n    firstName: claims[\"first_name\"],\n    lastName: claims[\"last_name\"],\n    profileImageUrl: claims[\"profile_image_url\"],\n  });\n}\n\nexport async function setupAuth(app: Express) {\n  app.set(\"trust proxy\", 1);\n  app.use(getSession());\n  app.use(passport.initialize());\n  app.use(passport.session());\n\n  const config = await getOidcConfig();\n\n  const verify: VerifyFunction = async (\n    tokens: client.TokenEndpointResponse & client.TokenEndpointResponseHelpers,\n    verified: passport.AuthenticateCallback\n  ) => {\n    const user = {};\n    updateUserSession(user, tokens);\n    await upsertUser(tokens.claims());\n    verified(null, user);\n  };\n\n  for (const domain of process.env\n    .REPLIT_DOMAINS!.split(\",\")) {\n    const strategy = new Strategy(\n      {\n        name: `replitauth:${domain}`,\n        config,\n        scope: \"openid email profile offline_access\",\n        callbackURL: `https://${domain}/api/callback`,\n      },\n      verify,\n    );\n    passport.use(strategy);\n  }\n\n  passport.serializeUser((user: Express.User, cb) => cb(null, user));\n  passport.deserializeUser((user: Express.User, cb) => cb(null, user));\n\n  app.get(\"/api/login\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      prompt: \"login consent\",\n      scope: [\"openid\", \"email\", \"profile\", \"offline_access\"],\n    })(req, res, next);\n  });\n\n  app.get(\"/api/callback\", (req, res, next) => {\n    passport.authenticate(`replitauth:${req.hostname}`, {\n      successReturnToOrRedirect: \"/\",\n      failureRedirect: \"/api/login\",\n    })(req, res, next);\n  });\n\n  app.get(\"/api/logout\", (req, res) => {\n    req.logout(() => {\n      res.redirect(\n        client.buildEndSessionUrl(config, {\n          client_id: process.env.REPL_ID!,\n          post_logout_redirect_uri: `${req.protocol}://${req.hostname}`,\n        }).href\n      );\n    });\n  });\n}\n\nexport const isAuthenticated: RequestHandler = async (req, res, next) => {\n  const user = req.user as any;\n\n  if (!req.isAuthenticated() || !user.expires_at) {\n    return res.status(401).json({ message: \"Unauthorized\" });\n  }\n\n  const now = Math.floor(Date.now() / 1000);\n  if (now <= user.expires_at) {\n    return next();\n  }\n\n  const refreshToken = user.refresh_token;\n  if (!refreshToken) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n\n  try {\n    const config = await getOidcConfig();\n    const tokenResponse = await client.refreshTokenGrant(config, refreshToken);\n    updateUserSession(user, tokenResponse);\n    return next();\n  } catch (error) {\n    res.status(401).json({ message: \"Unauthorized\" });\n    return;\n  }\n};\n","size_bytes":4291},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { setupAuth, isAuthenticated } from \"./simpleAuth\";\nimport { askPatriarch, setGeminiApiKey, testGeminiConnection, generateSmartSummary, generateAIRecommendations } from \"./gemini\";\nimport { insertPatriarchSchema, updatePatriarchSchema } from \"@shared/schema\";\nimport { z } from \"zod\";\nimport { eq, and, like, desc, asc, or } from \"drizzle-orm\";\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Auth middleware\n  await setupAuth(app);\n\n  // Auth routes are handled in simpleAuth.ts\n\n  // Public patriarch routes\n  app.get('/api/patriarchs', async (req, res) => {\n    try {\n      const { search, era, heresies } = req.query;\n      console.log('Search request received:', { search, era, heresies });\n      \n      const filters = {\n        searchQuery: search && typeof search === 'string' && search.trim() ? search.trim() : undefined,\n        era: era && typeof era === 'string' && era !== 'all' ? era : undefined,\n        heresies: heresies && typeof heresies === 'string' ? heresies.split(',').filter(h => h.trim()) : undefined,\n      };\n\n      console.log('Processed filters:', filters);\n      \n      const patriarchs = await storage.getPatriarchs(filters);\n      console.log(`Found ${patriarchs.length} patriarchs with filters:`, filters);\n      \n      // Log some examples of heresies data for debugging\n      if (patriarchs.length > 0) {\n        const exampleWithHeresies = patriarchs.find(p => p.heresiesFought && p.heresiesFought.length > 0);\n        if (exampleWithHeresies) {\n          console.log('Example heresies data:', {\n            name: exampleWithHeresies.arabicName || exampleWithHeresies.name,\n            heresies: exampleWithHeresies.heresiesFought\n          });\n        }\n      }\n      \n      res.json(patriarchs);\n    } catch (error) {\n      console.error(\"Error fetching patriarchs:\", error);\n      res.status(500).json({ message: \"Failed to fetch patriarchs\" });\n    }\n  });\n\n  app.get('/api/patriarchs/:id', async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      if (isNaN(id)) {\n        return res.status(400).json({ message: \"Invalid patriarch ID\" });\n      }\n\n      const patriarch = await storage.getPatriarch(id);\n      if (!patriarch) {\n        return res.status(404).json({ message: \"Patriarch not found\" });\n      }\n\n      res.json(patriarch);\n    } catch (error) {\n      console.error(\"Error fetching patriarch:\", error);\n      res.status(500).json({ message: \"Failed to fetch patriarch\" });\n    }\n  });\n\n  // Admin-only patriarch routes\n  app.post('/api/admin/patriarchs', isAuthenticated, async (req, res) => {\n    try {\n      const validatedData = insertPatriarchSchema.parse(req.body);\n      const patriarch = await storage.createPatriarch(validatedData);\n      res.status(201).json(patriarch);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        return res.status(400).json({ \n          message: \"Validation error\", \n          errors: error.errors \n        });\n      }\n      console.error(\"Error creating patriarch:\", error);\n      res.status(500).json({ message: \"Failed to create patriarch\" });\n    }\n  });\n\n  app.put('/api/admin/patriarchs/:id', isAuthenticated, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      if (isNaN(id)) {\n        return res.status(400).json({ message: \"Invalid patriarch ID\" });\n      }\n\n      console.log(`Updating patriarch ${id} with data:`, req.body);\n      const validatedData = updatePatriarchSchema.parse(req.body);\n      const patriarch = await storage.updatePatriarch(id, validatedData);\n\n      if (!patriarch) {\n        return res.status(404).json({ message: \"Patriarch not found\" });\n      }\n\n      res.json(patriarch);\n    } catch (error) {\n      if (error instanceof z.ZodError) {\n        console.error(\"Validation error:\", error.errors);\n        return res.status(400).json({ \n          message: \"Validation error\", \n          errors: error.errors \n        });\n      }\n     \n    }\n  });\n\n  app.delete('/api/admin/patriarchs/:id', isAuthenticated, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      if (isNaN(id)) {\n        return res.status(400).json({ message: \"Invalid patriarch ID\" });\n      }\n\n      const success = await storage.deletePatriarch(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Patriarch not found\" });\n      }\n\n      res.json({ message: \"Patriarch deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting patriarch:\", error);\n      res.status(500).json({ message: \"Failed to delete patriarch\" });\n    }\n  });\n\n  // Swap patriarch order numbers\n  app.post('/api/admin/patriarchs/swap-order', isAuthenticated, async (req, res) => {\n    try {\n      const { patriarch1Id, patriarch2Id } = req.body;\n      \n      if (!patriarch1Id || !patriarch2Id) {\n        return res.status(400).json({ message: \"Both patriarch IDs are required\" });\n      }\n\n      const success = await storage.swapPatriarchOrder(patriarch1Id, patriarch2Id);\n      if (!success) {\n        return res.status(404).json({ message: \"One or both patriarchs not found\" });\n      }\n\n      res.json({ message: \"Patriarch order numbers swapped successfully\" });\n    } catch (error) {\n      console.error(\"Error swapping patriarch order:\", error);\n      res.status(500).json({ message: \"Failed to swap patriarch order\" });\n    }\n  });\n\n  // Admin stats route\n  app.get('/api/admin/stats', isAuthenticated, async (req, res) => {\n    try {\n      const stats = await storage.getPatriarchStats();\n      res.json(stats);\n    } catch (error) {\n      console.error(\"Error fetching stats:\", error);\n      res.status(500).json({ message: \"Failed to fetch stats\" });\n    }\n  });\n\n  // Chatbot route - public access\n  app.post('/api/ask-patriarch', async (req, res) => {\n    try {\n      const { question } = req.body;\n\n      if (!question || typeof question !== 'string') {\n        return res.status(400).json({ message: \"سؤال غير صحيح\" });\n      }\n\n      const answer = await askPatriarch(question);\n      res.json({ answer });\n    } catch (error) {\n      console.error(\"Error in ask-patriarch:\", error);\n      res.status(500).json({ message: \"حدث خطأ أثناء معالجة السؤال\" });\n    }\n  });\n\n  // Admin API key management\n  app.post('/api/admin/gemini-api-key', isAuthenticated, async (req, res) => {\n    try {\n      const { apiKey } = req.body;\n\n      if (!apiKey || typeof apiKey !== 'string') {\n        return res.status(400).json({ message: \"مفتاح API غير صحيح\" });\n      }\n\n      await setGeminiApiKey(apiKey);\n      res.json({ message: \"تم حفظ مفتاح API بنجاح\" });\n    } catch (error) {\n      console.error(\"Error saving API key:\", error);\n      res.status(500).json({ message: \"فشل في حفظ مفتاح API\" });\n    }\n  });\n\n  // Test Gemini connection\n  app.post('/api/admin/test-gemini', isAuthenticated, async (req, res) => {\n    try {\n      const isConnected = await testGeminiConnection();\n      res.json({ connected: isConnected });\n    } catch (error) {\n      console.error(\"Error testing connection:\", error);\n      res.status(500).json({ connected: false });\n    }\n  });\n\n  // Delete Gemini API key\n  app.delete('/api/admin/gemini-api-key', isAuthenticated, async (req, res) => {\n    try {\n      await storage.deleteSetting('gemini_api_key');\n      res.json({ message: \"تم حذف مفتاح API بنجاح\" });\n    } catch (error) {\n      console.error(\"Error deleting API key:\", error);\n      res.status(500).json({ message: \"فشل في حذف مفتاح API\" });\n    }\n  });\n\n  // Public Gemini status (for public pages to check if AI features are available)\n  app.get('/api/gemini-status', async (req, res) => {\n    try {\n      const apiKeySetting = await storage.getSetting('gemini_api_key');\n      const hasApiKey = !!apiKeySetting?.value;\n      \n      let connected = false;\n      if (hasApiKey) {\n        try {\n          connected = await testGeminiConnection();\n        } catch (error) {\n          console.error(\"Error testing Gemini connection during public status check:\", error);\n          connected = false;\n        }\n      }\n      \n      res.json({ hasApiKey, connected });\n    } catch (error) {\n      console.error(\"Error checking API key status for public:\", error);\n      res.status(500).json({ hasApiKey: false, connected: false });\n    }\n  });\n\n  // Get current API key status\n  app.get('/api/admin/gemini-status', isAuthenticated, async (req, res) => {\n    try {\n      const apiKeySetting = await storage.getSetting('gemini_api_key');\n      const hasApiKey = !!apiKeySetting?.value;\n      \n      let connected = false;\n      if (hasApiKey) {\n        try {\n          connected = await testGeminiConnection();\n        } catch (error) {\n          console.error(\"Error testing Gemini connection during status check:\", error);\n          connected = false;\n        }\n      }\n      \n      res.json({ hasApiKey, connected });\n    } catch (error) {\n      console.error(\"Error checking API key status:\", error);\n      res.status(500).json({ hasApiKey: false, connected: false });\n    }\n  });\n\n   // Generate smart summary for a patriarch using Gemini AI\n   app.post(\"/api/generate-smart-summary\", async (req, res) => {\n    try {\n      const { name, tone } = req.body;\n\n      if (!name || typeof name !== 'string' || name.trim().length === 0) {\n        return res.status(400).json({ error: \"اسم البطريرك مطلوب\" });\n      }\n\n      console.log(`Searching for patriarch: \"${name}\"`);\n      \n      const searchTerm = name.trim();\n      const allPatriarchs = await storage.getPatriarchs();\n      \n      // البحث المتقدم مع معالجة تنويعات الأسماء\n      const searchResults = allPatriarchs.filter(p => {\n        const arabicName = p.arabicName || '';\n        const englishName = p.name || '';\n        const orderNumber = p.orderNumber?.toString() || '';\n        \n        // تنويعات أسماء شائعة\n        const nameVariations = {\n          'شنودة': ['شنوده', 'شنودة', 'shenouda', 'shenoda'],\n          'شنوده': ['شنودة', 'شنوده', 'shenouda', 'shenoda'],\n          'كيرلس': ['كيريلوس', 'كيرلس', 'cyril', 'kyrillos'],\n          'كيريلوس': ['كيرلس', 'كيريلوس', 'cyril', 'kyrillos'],\n          'أثناسيوس': ['أثناسيوس', 'athanasius'],\n          'مقار': ['مقاريوس', 'مقار', 'macarius'],\n          'مقاريوس': ['مقار', 'مقاريوس', 'macarius']\n        };\n\n        // إنشاء قائمة بجميع الأسماء المحتملة للبحث\n        let searchVariations = [searchTerm];\n        if (nameVariations[searchTerm]) {\n          searchVariations = [...searchVariations, ...nameVariations[searchTerm]];\n        }\n        \n        // إذا كان البحث يحتوي على رقم البطريرك\n        const orderNumberMatch = searchTerm.match(/البابا\\s+(\\d+)/);\n        if (orderNumberMatch) {\n          const extractedNumber = orderNumberMatch[1];\n          const nameWithoutOrder = searchTerm.replace(/البابا\\s+\\d+/, '').trim();\n          \n          return (\n            orderNumber === extractedNumber && (\n              arabicName.includes(nameWithoutOrder) ||\n              englishName.toLowerCase().includes(nameWithoutOrder.toLowerCase()) ||\n              arabicName.split(' ').some(word => word.includes(nameWithoutOrder)) ||\n              englishName.toLowerCase().split(' ').some(word => word.includes(nameWithoutOrder.toLowerCase()))\n            )\n          );\n        }\n        \n        // البحث العادي مع التنويعات\n        return searchVariations.some(variation => {\n          const lowerVariation = variation.toLowerCase();\n          return (\n            arabicName.includes(variation) ||\n            englishName.toLowerCase().includes(lowerVariation) ||\n            arabicName.split(' ').some(word => word.includes(variation)) ||\n            englishName.toLowerCase().split(' ').some(word => word.includes(lowerVariation)) ||\n            orderNumber === variation ||\n            // البحث الضبابي - إذا كان الاسم يحتوي على جزء من التنويع\n            arabicName.toLowerCase().includes(lowerVariation) ||\n            englishName.toLowerCase().includes(lowerVariation)\n          );\n        });\n      });\n\n      if (searchResults.length === 0) {\n        // اقتراح أسماء مشابهة\n        const suggestions = [];\n        const searchLower = searchTerm.toLowerCase();\n        \n        // البحث عن أسماء مشابهة\n        const similarNames = allPatriarchs.filter(p => {\n          const arabicName = (p.arabicName || '').toLowerCase();\n          const englishName = (p.name || '').toLowerCase();\n          return (\n            arabicName.includes(searchLower.substring(0, 3)) ||\n            englishName.includes(searchLower.substring(0, 3)) ||\n            searchLower.includes(arabicName.substring(0, 3)) ||\n            searchLower.includes(englishName.substring(0, 3))\n          );\n        }).slice(0, 3);\n\n        let errorMessage = `لم يتم العثور على أي بطريرك بالاسم \"${searchTerm}\".`;\n        \n        if (similarNames.length > 0) {\n          const suggestionsList = similarNames.map(p => p.arabicName || p.name).join('، ');\n          errorMessage += ` هل تقصد: ${suggestionsList}؟`;\n        }\n        \n        errorMessage += \" تأكد من كتابة الاسم بشكل صحيح.\";\n        \n        return res.status(404).json({ \n          error: errorMessage,\n          suggestions: similarNames.map(p => ({\n            name: p.arabicName || p.name,\n            englishName: p.name,\n            orderNumber: p.orderNumber\n          }))\n        });\n      }\n\n      // إذا كانت النتائج متعددة وكان البحث بكلمة واحدة فقط\n      const isSimpleSearch = searchTerm.split(' ').length === 1;\n      \n      if (searchResults.length > 1 && isSimpleSearch) {\n        // إرجاع قائمة بجميع البطاركة المطابقين للاختيار\n        const patriarchsList = searchResults.map(p => ({\n          id: p.id,\n          name: p.arabicName || p.name,\n          englishName: p.name,\n          orderNumber: p.orderNumber,\n          startYear: p.startYear,\n          endYear: p.endYear,\n          era: p.era,\n          shortDescription: p.contributions.substring(0, 100) + '...'\n        }));\n\n        return res.json({\n          multipleResults: true,\n          patriarchs: patriarchsList,\n          message: `تم العثور على ${searchResults.length} بطريرك بهذا الاسم. اختر واحداً منهم:`\n        });\n      }\n\n      // إذا كان البحث محدد أو نتيجة واحدة فقط\n      let selectedPatriarch;\n      \n      if (searchResults.length === 1) {\n        selectedPatriarch = searchResults[0];\n      } else {\n        // البحث عن تطابق دقيق أولاً\n        const exactMatch = searchResults.find(p => \n          (p.arabicName && p.arabicName === searchTerm) ||\n          (p.name && p.name.toLowerCase() === searchTerm.toLowerCase())\n        );\n        \n        if (exactMatch) {\n          selectedPatriarch = exactMatch;\n        } else {\n          // إذا لم يوجد تطابق دقيق، خذ الأول من النتائج\n          selectedPatriarch = searchResults[0];\n        }\n      }\n\n      console.log(`Found patriarch: ${selectedPatriarch.arabicName || selectedPatriarch.name} (Order: ${selectedPatriarch.orderNumber})`);\n\n      // Generate summary using Gemini AI with the patriarch object\n      const summary = await generateSmartSummary(selectedPatriarch, tone || 'easy');\n\n      res.json({\n        summary,\n        patriarch: {\n          name: selectedPatriarch.arabicName || selectedPatriarch.name,\n          englishName: selectedPatriarch.name,\n          orderNumber: selectedPatriarch.orderNumber,\n          startYear: selectedPatriarch.startYear,\n          endYear: selectedPatriarch.endYear,\n          era: selectedPatriarch.era\n        }\n      });\n    } catch (error) {\n      console.error(\"Error generating smart summary:\", error);\n      \n      if (error.message.includes('API key')) {\n        return res.status(500).json({ error: \"لم يتم تكوين مفتاح API الخاص بـ Gemini\" });\n      }\n      \n      res.status(500).json({ error: \"حدث خطأ أثناء توليد الملخص. يرجى المحاولة مرة أخرى.\" });\n    }\n  });\n\n  // Get all patriarchs with optional filtering\n  app.get(\"/api/patriarchs\", async (req, res) => {\n    try {\n      const { search, era, heresies, showAll } = req.query;\n      const filters = {\n        searchQuery: search as string,\n        era: era as string,\n        heresies: heresies ? (heresies as string).split(',') : undefined,\n      };\n\n      const patriarchs = await storage.getPatriarchs(filters);\n      \n      // If showAll is requested, return with enhanced metadata\n      if (showAll === 'true') {\n        const enhancedPatriarchs = patriarchs.map(patriarch => {\n          let heresiesList = [];\n          try {\n            heresiesList = Array.isArray(patriarch.heresiesFought) \n              ? patriarch.heresiesFought \n              : JSON.parse(patriarch.heresiesFought || '[]');\n          } catch (e) {\n            heresiesList = [];\n          }\n          \n          const serviceDuration = patriarch.endYear \n            ? patriarch.endYear - patriarch.startYear \n            : new Date().getFullYear() - patriarch.startYear;\n            \n          return {\n            ...patriarch,\n            heresiesList,\n            serviceDuration,\n            displayName: patriarch.arabicName || patriarch.name,\n            isCurrentPatriarch: !patriarch.endYear,\n            centuryStart: Math.floor(patriarch.startYear / 100) + 1,\n            formattedPeriod: `${patriarch.startYear} - ${patriarch.endYear || 'الآن'}`,\n            shortBio: patriarch.biography ? patriarch.biography.substring(0, 200) + '...' : 'غير متوفر'\n          };\n        });\n        \n        return res.json({\n          patriarchs: enhancedPatriarchs,\n          totalCount: enhancedPatriarchs.length,\n          metadata: {\n            totalPatriarchs: enhancedPatriarchs.length,\n            currentPatriarch: enhancedPatriarchs.find(p => p.isCurrentPatriarch),\n            firstPatriarch: enhancedPatriarchs[0],\n            eras: [...new Set(enhancedPatriarchs.map(p => p.era))],\n            averageService: Math.round(\n              enhancedPatriarchs\n                .filter(p => p.endYear)\n                .reduce((sum, p) => sum + p.serviceDuration, 0) /\n              enhancedPatriarchs.filter(p => p.endYear).length\n            )\n          }\n        });\n      }\n      \n      res.json(patriarchs);\n    } catch (error) {\n      console.error(\"Error fetching patriarchs:\", error);\n      res.status(500).json({ message: \"Failed to fetch patriarchs\" });\n    }\n  });\n\n  // Generate summary for a specific patriarch by ID\n  app.post(\"/api/generate-summary-by-id\", async (req, res) => {\n    try {\n      const { patriarchId, tone } = req.body;\n\n      if (!patriarchId || typeof patriarchId !== 'number') {\n        return res.status(400).json({ error: \"معرف البطريرك مطلوب\" });\n      }\n\n      const patriarch = await storage.getPatriarch(patriarchId);\n      \n      if (!patriarch) {\n        return res.status(404).json({ error: \"لم يتم العثور على البطريرك\" });\n      }\n\n      console.log(`Generating summary for patriarch: ${patriarch.arabicName || patriarch.name} (Order: ${patriarch.orderNumber})`);\n\n      // Generate summary using Gemini AI with the patriarch object\n      const summary = await generateSmartSummary(patriarch, tone || 'easy');\n\n      res.json({\n        summary,\n        patriarch: {\n          name: patriarch.arabicName || patriarch.name,\n          englishName: patriarch.name,\n          orderNumber: patriarch.orderNumber,\n          startYear: patriarch.startYear,\n          endYear: patriarch.endYear,\n          era: patriarch.era\n        }\n      });\n    } catch (error) {\n      console.error(\"Error generating summary by ID:\", error);\n      \n      if (error.message.includes('API key')) {\n        return res.status(500).json({ error: \"لم يتم تكوين مفتاح API الخاص بـ Gemini\" });\n      }\n      \n      res.status(500).json({ error: \"حدث خطأ أثناء توليد الملخص. يرجى المحاولة مرة أخرى.\" });\n    }\n  });\n\n  // Generate AI-powered recommendations using Gemini\n  app.post(\"/api/ai-recommendations\", async (req, res) => {\n    try {\n      const { userProfile, preferences } = req.body;\n\n      if (!userProfile || !preferences) {\n        return res.status(400).json({ \n          error: \"ملف المستخدم والتفضيلات مطلوبة\" \n        });\n      }\n\n      // Get all patriarchs for AI analysis\n      const allPatriarchs = await storage.getPatriarchs();\n\n      if (allPatriarchs.length === 0) {\n        return res.status(404).json({ \n          error: \"لا توجد بيانات للبطاركة\" \n        });\n      }\n\n      // Generate AI recommendations using Gemini\n      const aiRecommendations = await generateAIRecommendations(\n        userProfile, \n        preferences, \n        allPatriarchs\n      );\n\n      res.json(aiRecommendations);\n    } catch (error) {\n      console.error(\"Error generating AI recommendations:\", error);\n      res.status(500).json({ \n        error: \"فشل في إنشاء الاقتراحات الذكية\" \n      });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}","size_bytes":21846},"server/seed-data.ts":{"content":"import { db } from \"./db\";\nimport { patriarchs } from \"@shared/schema\";\nimport { completeOfficialPatriarchs } from \"./complete-official-patriarchs\";\n\nexport async function seedDatabase() {\n  try {\n    console.log(\"جاري إدراج بيانات البطاركة الـ118...\");\n    \n    // Clear existing data\n    await db.delete(patriarchs);\n    \n    // Insert all 118 patriarchs in order\n    for (const patriarch of completeOfficialPatriarchs) {\n      await db.insert(patriarchs).values(patriarch);\n    }\n    \n    console.log(`تم إدراج ${completeOfficialPatriarchs.length} بطريرك بنجاح`);\n    console.log(\"تمت إضافة جميع البطاركة من القديس مرقس حتى البابا تواضروس الثاني\");\n  } catch (error) {\n    console.error(\"خطأ في إدراج البيانات:\", error);\n    throw error;\n  }\n}","size_bytes":862},"server/simpleAuth.ts":{"content":"import type { Express, RequestHandler } from \"express\";\nimport session from \"express-session\";\nimport connectPg from \"connect-pg-simple\";\n\n// Simple admin credentials\nconst ADMIN_USERNAME = \"admin@coptic-patriarchs.org\";\nconst ADMIN_PASSWORD = \"CopticPatriarchs2025!\";\n\ndeclare module 'express-session' {\n  interface SessionData {\n    isAuthenticated?: boolean;\n    user?: {\n      username: string;\n      isAdmin: boolean;\n    };\n  }\n}\n\nexport async function setupAuth(app: Express) {\n  const sessionTtl = 7 * 24 * 60 * 60 * 1000; // 1 week\n  const pgStore = connectPg(session);\n  \n  const sessionStore = new pgStore({\n    conString: process.env.DATABASE_URL,\n    createTableIfMissing: false,\n    tableName: 'sessions'\n  });\n\n  app.use(\n    session({\n      store: sessionStore,\n      secret: process.env.SESSION_SECRET || \"fallback-secret-key-for-development\",\n      resave: false,\n      saveUninitialized: false,\n      cookie: {\n        secure: false, // Set to true in production with HTTPS\n        httpOnly: true,\n        maxAge: sessionTtl,\n        sameSite: 'lax'\n      },\n    })\n  );\n\n  // Login route\n  app.post('/api/auth/login', (req, res) => {\n    const { username, password } = req.body;\n\n    if (username === ADMIN_USERNAME && password === ADMIN_PASSWORD) {\n      req.session.isAuthenticated = true;\n      req.session.user = {\n        username: ADMIN_USERNAME,\n        isAdmin: true\n      };\n      \n      res.json({ \n        success: true, \n        user: { \n          username: ADMIN_USERNAME,\n          isAdmin: true \n        } \n      });\n    } else {\n      res.status(401).json({ \n        success: false, \n        message: \"اسم المستخدم أو كلمة المرور غير صحيحة\" \n      });\n    }\n  });\n\n  // Logout routes (both GET and POST for compatibility)\n  const handleLogout = (req: any, res: any) => {\n    req.session.destroy((err: any) => {\n      if (err) {\n        console.error('Logout error:', err);\n        return res.redirect('/');\n      }\n      res.clearCookie('connect.sid');\n      res.redirect('/');\n    });\n  };\n\n  app.post('/api/auth/logout', handleLogout);\n  app.get('/api/logout', handleLogout);\n\n  // Get current user route\n  app.get('/api/auth/user', (req, res) => {\n    if (req.session.isAuthenticated && req.session.user) {\n      res.json(req.session.user);\n    } else {\n      res.status(401).json({ message: \"Unauthorized\" });\n    }\n  });\n}\n\nexport const isAuthenticated: RequestHandler = (req, res, next) => {\n  if (req.session.isAuthenticated && req.session.user?.isAdmin) {\n    next();\n  } else {\n    res.status(401).json({ message: \"Unauthorized\" });\n  }\n};","size_bytes":2615},"server/storage.ts":{"content":"import {\n  users,\n  patriarchs,\n  settings,\n  type User,\n  type UpsertUser,\n  type Patriarch,\n  type InsertPatriarch,\n  type UpdatePatriarch,\n  type Setting,\n  type InsertSetting,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, ilike, and, inArray, desc, or, like, asc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User operations for Replit Auth\n  getUser(id: string): Promise<User | undefined>;\n  upsertUser(user: UpsertUser): Promise<User>;\n\n  // Patriarch operations\n  getPatriarchs(filters?: {\n    searchQuery?: string;\n    era?: string;\n    heresies?: string[];\n  }): Promise<Patriarch[]>;\n  getPatriarch(id: number): Promise<Patriarch | undefined>;\n  createPatriarch(patriarch: InsertPatriarch): Promise<Patriarch>;\n  updatePatriarch(id: number, patriarch: UpdatePatriarch): Promise<Patriarch | undefined>;\n  deletePatriarch(id: number): Promise<boolean>;\n  getPatriarchStats(): Promise<{\n    total: number;\n    byEra: Record<string, number>;\n    totalDefenders: number;\n  }>;\n  getPatriarchByName(name: string): Promise<Patriarch | undefined>;\n\n  // Settings operations\n  getSetting(key: string): Promise<Setting | undefined>;\n  setSetting(key: string, value: string): Promise<Setting>;\n  updateSetting(key: string, value: string): Promise<void>;\n  deleteSetting(key: string): Promise<void>;\n\n  // Swap patriarch order numbers\n  swapPatriarchOrder(patriarch1Id: number, patriarch2Id: number): Promise<boolean>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User operations for Replit Auth\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user;\n  }\n\n  async upsertUser(userData: UpsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: users.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  // Patriarch operations\n  async getPatriarchs(filters?: {\n    searchQuery?: string;\n    era?: string;\n    heresies?: string[];\n  }): Promise<Patriarch[]> {\n    try {\n      // Build all conditions first\n      const conditions = [eq(patriarchs.active, true)];\n\n      // Add search condition if provided\n      if (filters?.searchQuery && filters.searchQuery.trim()) {\n        const searchTerm = `%${filters.searchQuery.trim()}%`;\n        conditions.push(\n          or(\n            ilike(patriarchs.name, searchTerm),\n            ilike(patriarchs.arabicName, searchTerm),\n            ilike(patriarchs.biography, searchTerm),\n            ilike(patriarchs.contributions, searchTerm)\n          )!\n        );\n      }\n\n      // Add era filter if provided\n      if (filters?.era && filters.era !== \"all\") {\n        conditions.push(eq(patriarchs.era, filters.era));\n      }\n\n      // Add heresies filter if provided\n      if (filters?.heresies && filters.heresies.length > 0) {\n        const heresyConditions = filters.heresies\n          .filter(heresy => heresy && heresy.trim())\n          .map(heresy => {\n            const trimmedHeresy = heresy.trim();\n            return or(\n              like(patriarchs.heresiesFought, `%\"${trimmedHeresy}\"%`),\n              like(patriarchs.heresiesFought, `%${trimmedHeresy}%`),\n              like(patriarchs.heresiesFought, `{${trimmedHeresy}%`),\n              like(patriarchs.heresiesFought, `%,${trimmedHeresy},%`),\n              like(patriarchs.heresiesFought, `%${trimmedHeresy}}`)\n            );\n          });\n\n        if (heresyConditions.length > 0) {\n          conditions.push(or(...heresyConditions)!);\n        }\n      }\n\n      // Build and execute query with all conditions\n      const result = await db\n        .select()\n        .from(patriarchs)\n        .where(and(...conditions))\n        .orderBy(patriarchs.orderNumber);\n\n      return result;\n    } catch (error) {\n      console.error(\"Error fetching patriarchs:\", error);\n      throw error;\n    }\n  }\n\n  async getPatriarch(id: number): Promise<Patriarch | undefined> {\n    const [patriarch] = await db\n      .select()\n      .from(patriarchs)\n      .where(and(eq(patriarchs.id, id), eq(patriarchs.active, true)));\n    return patriarch;\n  }\n\n  async createPatriarch(patriarch: InsertPatriarch): Promise<Patriarch> {\n    try {\n      // Check if we're dealing with PostgreSQL local setup\n      const isLocal = process.env.NODE_ENV === 'development' && process.env.DATABASE_URL?.includes('localhost');\n\n      // Format heresiesFought based on environment\n      let heresiesFought = patriarch.heresiesFought || \"\";\n\n      if (isLocal) {\n        // For local PostgreSQL, convert to PostgreSQL array format\n        if (Array.isArray(patriarch.heresiesFought)) {\n          // Convert array to PostgreSQL array format: {\"item1\",\"item2\"}\n          heresiesFought = `{${patriarch.heresiesFought.map(h => `\"${h.replace(/\"/g, '\\\\\"')}\"`).join(',')}}`;\n        } else if (typeof patriarch.heresiesFought === 'string') {\n          try {\n            // Try to parse as JSON first\n            const parsed = JSON.parse(patriarch.heresiesFought);\n            if (Array.isArray(parsed)) {\n              heresiesFought = `{${parsed.map(h => `\"${h.replace(/\"/g, '\\\\\"')}\"`).join(',')}}`;\n            } else {\n              heresiesFought = `{\"${patriarch.heresiesFought.replace(/\"/g, '\\\\\"')}\"}`;\n            }\n          } catch (e) {\n            // If not JSON, treat as single string\n            heresiesFought = `{\"${patriarch.heresiesFought.replace(/\"/g, '\\\\\"')}\"}`;\n          }\n        }\n      } else {\n        // For Replit/Neon, keep as JSON string\n        if (Array.isArray(patriarch.heresiesFought)) {\n          heresiesFought = JSON.stringify(patriarch.heresiesFought);\n        } else {\n          heresiesFought = patriarch.heresiesFought || \"\";\n        }\n      }\n\n      const values = {\n        name: patriarch.name,\n        arabicName: patriarch.arabicName,\n        orderNumber: patriarch.orderNumber,\n        startYear: patriarch.startYear,\n        endYear: patriarch.endYear,\n        era: patriarch.era,\n        contributions: patriarch.contributions,\n        biography: patriarch.biography,\n        heresiesFought,\n        active: patriarch.active ?? true\n      };\n      const [created] = await db\n        .insert(patriarchs)\n        .values(values)\n        .returning();\n      return created;\n    } catch (error) {\n      console.error('Error creating patriarch:', error);\n      console.error('Insert data:', patriarch);\n      throw new Error(`Failed to create patriarch: ${error instanceof Error ? error.message : String(error)}`);\n    }\n  }\n\n  async updatePatriarch(id: number, patriarch: UpdatePatriarch): Promise<Patriarch | undefined> {\n    try {\n      // Check if we're dealing with PostgreSQL local setup\n      const isLocal = process.env.NODE_ENV === 'development' && process.env.DATABASE_URL?.includes('localhost');\n\n      // Format heresiesFought based on environment\n      let heresiesFought = patriarch.heresiesFought || \"\";\n\n      if (isLocal) {\n        // For local PostgreSQL, convert to PostgreSQL array format\n        if (Array.isArray(patriarch.heresiesFought)) {\n          // Convert array to PostgreSQL array format: {\"item1\",\"item2\"}\n          heresiesFought = `{${patriarch.heresiesFought.map(h => `\"${h.replace(/\"/g, '\\\\\"')}\"`).join(',')}}`;\n        } else if (typeof patriarch.heresiesFought === 'string') {\n          try {\n            // Try to parse as JSON first\n            const parsed = JSON.parse(patriarch.heresiesFought);\n            if (Array.isArray(parsed)) {\n              heresiesFought = `{${parsed.map(h => `\"${h.replace(/\"/g, '\\\\\"')}\"`).join(',')}}`;\n            } else {\n              heresiesFought = `{\"${patriarch.heresiesFought.replace(/\"/g, '\\\\\"')}\"}`;\n            }\n          } catch (e) {\n            // If not JSON, treat as single string\n            heresiesFought = `{\"${patriarch.heresiesFought.replace(/\"/g, '\\\\\"')}\"}`;\n          }\n        }\n      } else {\n        // For Replit/Neon, keep as JSON string\n        if (Array.isArray(patriarch.heresiesFought)) {\n          heresiesFought = JSON.stringify(patriarch.heresiesFought);\n        } else {\n          heresiesFought = patriarch.heresiesFought || \"\";\n        }\n      }\n\n      const updateData = {\n        ...patriarch,\n        heresiesFought,\n        updatedAt: new Date()\n      };\n\n      const [updated] = await db\n        .update(patriarchs)\n        .set(updateData)\n        .where(and(eq(patriarchs.id, id), eq(patriarchs.active, true)))\n        .returning();\n      return updated;\n    } catch (error) {\n      console.error('Error updating patriarch:', error);\n      console.error('Update data:', patriarch);\n      throw new Error(`Failed to update patriarch: ${error instanceof Error ? error.message : String(error)}`);\n    }\n  }\n\n  async deletePatriarch(id: number): Promise<boolean> {\n    try {\n      const [deleted] = await db\n        .update(patriarchs)\n        .set({ active: false, updatedAt: new Date() })\n        .where(eq(patriarchs.id, id))\n        .returning();\n      return !!deleted;\n    } catch (error) {\n      console.error('Error deleting patriarch:', error);\n      throw new Error('Failed to delete patriarch');\n    }\n  }\n\n  async getPatriarchByName(name: string): Promise<Patriarch | undefined> {\n    const searchName = name.toLowerCase().trim();\n\n    const [patriarch] = await db\n      .select()\n      .from(patriarchs)\n      .where(\n        and(\n          eq(patriarchs.active, true),\n          or(\n            ilike(patriarchs.name, `%${searchName}%`),\n            ilike(patriarchs.arabicName, `%${searchName}%`)\n          )\n        )\n      )\n      .limit(1);\n\n    return patriarch;\n  }\n\n  async getPatriarchStats(): Promise<{\n    total: number;\n    byEra: Record<string, number>;\n    totalDefenders: number;\n  }> {\n    const allPatriarchs = await db\n      .select()\n      .from(patriarchs)\n      .where(eq(patriarchs.active, true));\n\n    const total = allPatriarchs.length;\n    const byEra: Record<string, number> = {};\n    let totalDefenders = 0;\n\n    allPatriarchs.forEach(p => {\n      byEra[p.era] = (byEra[p.era] || 0) + 1;\n      if (p.heresiesFought.length > 0) {\n        totalDefenders++;\n      }\n    });\n\n    return { total, byEra, totalDefenders };\n  }\n\n\n\n  // Settings operations\n  async getSetting(key: string): Promise<Setting | undefined> {\n    const [setting] = await db\n      .select()\n      .from(settings)\n      .where(eq(settings.key, key))\n      .limit(1);\n    return setting;\n  }\n\n  async setSetting(key: string, value: string): Promise<Setting> {\n    try {\n      // Use upsert with ON CONFLICT for PostgreSQL\n      const [result] = await db\n        .insert(settings)\n        .values({\n          key,\n          value,\n          createdAt: new Date(),\n          updatedAt: new Date()\n        })\n        .onConflictDoUpdate({\n          target: settings.key,\n          set: {\n            value: value,\n            updatedAt: new Date()\n          }\n        })\n        .returning();\n\n      return result;\n    } catch (error) {\n      console.error('Error in setSetting:', error);\n      throw error;\n    }\n  }\n\n  async updateSetting(key: string, value: string): Promise<void> {\n    await db.insert(settings)\n      .values({ key, value })\n      .onConflictDoUpdate({\n        target: settings.key,\n        set: { value, updatedAt: new Date() }\n      });\n  }\n\n  async deleteSetting(key: string): Promise<void> {\n    await db.delete(settings).where(eq(settings.key, key));\n  }\n\n  async swapPatriarchOrder(patriarch1Id: number, patriarch2Id: number): Promise<boolean> {\n    try {\n      // Get the two patriarchs\n      const patriarch1 = await db.select().from(patriarchs).where(eq(patriarchs.id, patriarch1Id));\n      const patriarch2 = await db.select().from(patriarchs).where(eq(patriarchs.id, patriarch2Id));\n\n      if (patriarch1.length === 0 || patriarch2.length === 0) {\n        return false;\n      }\n\n      const order1 = patriarch1[0].orderNumber;\n      const order2 = patriarch2[0].orderNumber;\n\n      // Swap the order numbers\n      await db.update(patriarchs).set({ orderNumber: order2 }).where(eq(patriarchs.id, patriarch1Id));\n      await db.update(patriarchs).set({ orderNumber: order1 }).where(eq(patriarchs.id, patriarch2Id));\n\n      return true;\n    } catch (error) {\n      console.error('Error swapping patriarch order:', error);\n      return false;\n    }\n  }\n}\n\nexport const storage = new DatabaseStorage();","size_bytes":12463},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"shared/patriarch-names.ts":{"content":"export const patriarchNamesArabic: Record<string, string> = {\n  \"Saint Mark the Evangelist\": \"القديس مرقس الرسول\",\n  \"Anianus\": \"حنانيا\",\n  \"Avilius\": \"أبيليوس\",\n  \"Kedron\": \"كيدرون\",\n  \"Justus\": \"يسطس\",\n  \"Eumenes\": \"أومانيوس\",\n  \"Markianos\": \"مرقيانوس\",\n  \"Celadion\": \"كيلاديون\",\n  \"Agrippinus\": \"أغريبينوس\",\n  \"Julian\": \"يوليانوس\",\n  \"Demetrius\": \"ديمتريوس\",\n  \"Heraclas\": \"هيراكلاس\",\n  \"Dionysius\": \"ديونيسيوس\",\n  \"Maximus\": \"مكسيموس\",\n  \"Theonas\": \"ثاؤناس\",\n  \"Peter I\": \"بطرس الأول\",\n  \"Achillas\": \"أخيلاس\",\n  \"Alexander\": \"الكسندروس\",\n  \"Athanasius\": \"أثناسيوس الرسولي\",\n  \"Peter II\": \"بطرس الثاني\",\n  \"Timothy\": \"تيموثاوس\",\n  \"Theophilus\": \"ثاؤفيلوس\",\n  \"Cyril\": \"كيرلس الكبير\",\n  \"Dioscorus\": \"ديسقوروس\",\n  \"Timothy Aelurus\": \"تيموثاوس الثاني\",\n  \"Peter III\": \"بطرس الثالث\",\n  \"Athanasius II\": \"أثناسيوس الثاني\",\n  \"John I\": \"يوحنا الأول\",\n  \"John II\": \"يوحنا الثاني\",\n  \"Dioscorus II\": \"ديسقوروس الثاني\",\n  \"Timothy III\": \"تيموثاوس الثالث\",\n  \"Theodosius\": \"ثيؤدوسيوس\",\n  \"Peter IV\": \"بطرس الرابع\",\n  \"Damian\": \"داميان\",\n  \"Anastasius\": \"أنسطاسيوس\",\n  \"Andronicus\": \"أندرونيكوس\",\n  \"Benjamin I\": \"بنيامين الأول\",\n  \"Agathon\": \"أغاثون\",\n  \"John III\": \"يوحنا الثالث\",\n  \"Isaac\": \"إسحق\",\n  \"Simon I\": \"سيمون الأول\",\n  \"Alexander II\": \"الكسندروس الثاني\",\n  \"Cosmas I\": \"قزمان الأول\",\n  \"Theodore\": \"ثيؤدوروس\",\n  \"Michael I\": \"ميخائيل الأول\",\n  \"John IV\": \"يوحنا الرابع\",\n  \"Mark II\": \"مرقس الثاني\",\n  \"Jacob\": \"يعقوب\",\n  \"Simon II\": \"سيمون الثاني\",\n  \"Joseph I\": \"يوسف الأول\",\n  \"Michael II\": \"ميخائيل الثاني\",\n  \"Cosmas II\": \"قزمان الثاني\",\n  \"Michael III\": \"ميخائيل الثالث\",\n  \"Macarius I\": \"مكاريوس الأول\",\n  \"Gabriel I\": \"غبريال الأول\",\n  \"Michael IV\": \"ميخائيل الرابع\",\n  \"John V\": \"يوحنا الخامس\",\n  \"Mark III\": \"مرقس الثالث\",\n  \"John VI\": \"يوحنا السادس\",\n  \"Cyril II\": \"كيرلس الثاني\",\n  \"Michael V\": \"ميخائيل الخامس\",\n  \"Macarius II\": \"مكاريوس الثاني\",\n  \"Gabriel II\": \"غبريال الثاني\",\n  \"Michael VI\": \"ميخائيل السادس\",\n  \"John VII\": \"يوحنا السابع\",\n  \"Cyril III\": \"كيرلس الثالث\",\n  \"David I\": \"داود الأول\",\n  \"Christodoulus\": \"خريستوذولس\",\n  \"Cyril IV\": \"كيرلس الرابع\",\n  \"Demetrius II\": \"ديمتريوس الثاني\",\n  \"Macarius III\": \"مكاريوس الثالث\",\n  \"Cyril V\": \"كيرلس الخامس\",\n  \"John VIII\": \"يوحنا الثامن\",\n  \"Cyril VI\": \"كيرلس السادس\",\n  \"Shenouda III\": \"شنودة الثالث\",\n  \"Tawadros II\": \"تواضروس الثاني\"\n};\n\nexport function getArabicPatriarchName(englishName: string): string {\n  return patriarchNamesArabic[englishName] || englishName;\n}\n\nexport const heresiesArabic: Record<string, string> = {\n  \"Arianism\": \"الآريوسية\",\n  \"Nestorianism\": \"النسطورية\",\n  \"Monophysitism\": \"المونوفيزية\",\n  \"Monothelitism\": \"المونوثيليتية\",\n  \"Iconoclasm\": \"محاربة الأيقونات\",\n  \"Apollinarianism\": \"الأبولينارية\",\n  \"Donatism\": \"الدوناتية\",\n  \"Pelagianism\": \"البيلاجية\",\n  \"Sabellianism\": \"السابيلية\",\n  \"Modalism\": \"الموداليزم\",\n  \"Docetism\": \"الدوسيتية\",\n  \"Gnosticism\": \"الغنوصية\",\n  \"Marcionism\": \"المارسيونية\",\n  \"Manichaeism\": \"الأريوسية\",\n  \"Origenism\": \"الأوريجينية\",\n  \"Macedonianism\": \"المقدونية\",\n  \"Pneumatomachi\": \"محاربي الروح\",\n  \"Chalcedonian\": \"الخلقيدونية\",\n  \"Melkite\": \"الملكية\",\n  \"Monothelite\": \"المونوثيليتية\",\n  \"Monoenergism\": \"المونوإنرجيزم\",\n  \"Adoptionism\": \"التبني\",\n  \"Patripassianism\": \"معاناة الآب\",\n  \"Subordinationism\": \"التبعية\",\n  \"Tritheism\": \"التثليث الثلاثي\",\n  \"Theopaschitism\": \"معاناة الله\",\n  \"Crypto-Arianism\": \"الآريوسية المخفية\",\n  \"Semi-Arianism\": \"شبه الآريوسية\",\n  \"Anomoeanism\": \"الأنوموية\",\n  \"Homoianism\": \"الهوموية\",\n  \"Eunomianism\": \"الأونومية\"\n};\n\nexport function getArabicHeresyName(heresy: string): string {\n  const arabicNames: Record<string, string> = {\n    'الآريوسية': 'الآريوسية',\n    'Arianism': 'الآريوسية',\n    'النسطورية': 'النسطورية', \n    'Nestorianism': 'النسطورية',\n    'المونوفيزيتية': 'المونوفيزيتية',\n    'Monophysitism': 'المونوفيزيتية',\n    'تحطيم الأيقونات': 'تحطيم الأيقونات',\n    'Iconoclasm': 'تحطيم الأيقونات',\n    'الدوناتية': 'الدوناتية',\n    'Donatism': 'الدوناتية',\n    'البيلاجية': 'البيلاجية',\n    'Pelagianism': 'البيلاجية',\n    'الأبوليناريوسية': 'الأبوليناريوسية',\n    'Apollinarianism': 'الأبوليناريوسية',\n    'المقدونية': 'المقدونية',\n    'Macedonianism': 'المقدونية',\n    'الغنوسية': 'الغنوسية',\n    'Gnosticism': 'الغنوسية',\n    'المرقيونية': 'المرقيونية',\n    'Marcionism': 'المرقيونية',\n    'المونتانية': 'المونتانية',\n    'Montanism': 'المونتانية',\n    'السابيلية': 'السابيلية',\n    'Sabellianism': 'السابيلية',\n    'المودالية': 'المودالية',\n    'Modalisms': 'المودالية',\n    'الأوطاخية': 'الأوطاخية',\n    'Eutychianism': 'الأوطاخية',\n    'الخلقيدونية': 'الخلقيدونية',\n    'Chalcedonianism': 'الخلقيدونية'\n  };\n\n  return arabicNames[heresy] || heresy;\n}","size_bytes":6190},"shared/schema.ts":{"content":"import {\n  pgTable,\n  text,\n  serial,\n  integer,\n  boolean,\n  timestamp,\n  index,\n} from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Session storage table for Replit Auth\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: text(\"sid\").primaryKey(),\n    sess: text(\"sess\").notNull(), // JSON as text\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// User storage table for Replit Auth\nexport const users = pgTable(\"users\", {\n  id: text(\"id\").primaryKey().notNull(),\n  email: text(\"email\").unique(),\n  firstName: text(\"first_name\"),\n  lastName: text(\"last_name\"),\n  profileImageUrl: text(\"profile_image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Patriarchs table\nexport const patriarchs = pgTable(\"patriarchs\", {\n  id: serial(\"id\").primaryKey(),\n  name: text(\"name\").notNull(),\n  arabicName: text(\"arabicName\"),\n  orderNumber: integer(\"orderNumber\").notNull(),\n  startYear: integer(\"startYear\").notNull(),\n  endYear: integer(\"endYear\"),\n  era: text(\"era\").notNull(), // العصر الرسولي، العصر الذهبي، عصر المجامع، عصر الاضطهاد، العصر الحديث\n  contributions: text(\"contributions\").notNull(),\n  biography: text(\"biography\"),\n  heresiesFought: text(\"heresiesFought\").notNull().default(\"\"),\n  active: boolean(\"active\").notNull().default(true),\n  createdAt: timestamp(\"createdAt\").defaultNow(),\n  updatedAt: timestamp(\"updatedAt\").defaultNow(),\n});\n\n// Settings table for storing API keys and configuration\nexport const settings = pgTable(\"settings\", {\n  key: text(\"key\").primaryKey(),\n  value: text(\"value\").notNull(),\n  createdAt: timestamp(\"createdAt\").defaultNow().notNull(),\n  updatedAt: timestamp(\"updatedAt\").defaultNow().notNull(),\n});\n\nexport const insertPatriarchSchema = createInsertSchema(patriarchs).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const updatePatriarchSchema = insertPatriarchSchema.partial();\n\nexport type UpsertUser = typeof users.$inferInsert;\nexport type User = typeof users.$inferSelect;\nexport type Patriarch = typeof patriarchs.$inferSelect;\nexport type InsertPatriarch = z.infer<typeof insertPatriarchSchema>;\nexport type UpdatePatriarch = z.infer<typeof updatePatriarchSchema>;\nexport type Setting = typeof settings.$inferSelect;\nexport type InsertSetting = typeof settings.$inferInsert;","size_bytes":2503},"client/src/App.tsx":{"content":"import { useState } from \"react\";\nimport { Switch, Route } from \"wouter\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport NotFound from \"./pages/not-found\";\nimport Landing from \"./pages/landing\";\nimport Home from \"./pages/home\";\nimport Login from \"@/pages/login\";\nimport Admin from \"@/pages/admin\";\nimport About from \"@/pages/about\";\nimport Contact from \"@/pages/contact\";\nimport References from \"@/pages/references\";\nimport ChurchHistory from \"@/pages/church-history\";\nimport SmartSummary from \"@/pages/smart-summary\";\nimport Recommendations from \"@/pages/recommendations\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport Loading from \"@/components/ui/loading\";\nimport SmartSummaryModal from \"@/components/smart-summary-modal\";\nimport type { Patriarch } from \"@shared/schema\";\nimport AllPatriarchs from \"@/pages/all-patriarchs\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Landing} />\n      <Route path=\"/home\" component={Home} />\n      <Route path=\"/login\" component={Login} />\n      <Route path=\"/admin\" component={Admin} />\n      <Route path=\"/about\" component={About} />\n      <Route path=\"/contact\" component={Contact} />\n      <Route path=\"/references\" component={References} />\n      <Route path=\"/church-history\" component={ChurchHistory} />\n      <Route path=\"/smart-summary\" component={SmartSummary} />\n      <Route path=\"/recommendations\" component={Recommendations} />\n      <Route path=\"/all-patriarchs\" component={<AllPatriarchs />} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction AppContent() {\n  const { isLoading } = useAuth();\n  const [showSmartSummary, setShowSmartSummary] = useState(false);\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <>\n      <Router />\n      {/* Smart Summary Modal */}\n      <SmartSummaryModal\n        isOpen={showSmartSummary}\n        onClose={() => setShowSmartSummary(false)}\n      />\n    </>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Toaster />\n        <AppContent />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;","size_bytes":2325},"client/src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;600;700&family=Amiri:wght@400;700&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n\n\n:root {\n  --background: hsl(0, 0%, 100%);\n  --foreground: hsl(20, 14.3%, 4.1%);\n  --muted: hsl(60, 4.8%, 95.9%);\n  --muted-foreground: hsl(25, 5.3%, 44.7%);\n  --popover: hsl(0, 0%, 100%);\n  --popover-foreground: hsl(20, 14.3%, 4.1%);\n  --card: hsl(0, 0%, 100%);\n  --card-foreground: hsl(20, 14.3%, 4.1%);\n  --border: hsl(20, 5.9%, 90%);\n  --input: hsl(20, 5.9%, 90%);\n  --primary: hsl(213, 79%, 55%);\n  --primary-foreground: hsl(211, 100%, 99%);\n  --secondary: hsl(60, 4.8%, 95.9%);\n  --secondary-foreground: hsl(24, 9.8%, 10%);\n  --accent: hsl(60, 4.8%, 95.9%);\n  --accent-foreground: hsl(24, 9.8%, 10%);\n  --destructive: hsl(0, 84.2%, 60.2%);\n  --destructive-foreground: hsl(60, 9.1%, 97.8%);\n  --ring: hsl(20, 14.3%, 4.1%);\n  --radius: 0.5rem;\n  \n  /* Coptic colors */\n  --coptic-blue: hsl(213, 79%, 55%);\n  --coptic-gold: hsl(45, 100%, 50%);\n  --coptic-purple: hsl(291, 49%, 53%);\n}\n\n.dark {\n  --background: hsl(240, 10%, 3.9%);\n  --foreground: hsl(0, 0%, 98%);\n  --muted: hsl(240, 3.7%, 15.9%);\n  --muted-foreground: hsl(240, 5%, 64.9%);\n  --popover: hsl(240, 10%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 98%);\n  --card: hsl(240, 10%, 3.9%);\n  --card-foreground: hsl(0, 0%, 98%);\n  --border: hsl(240, 3.7%, 15.9%);\n  --input: hsl(240, 3.7%, 15.9%);\n  --primary: hsl(213, 79%, 55%);\n  --primary-foreground: hsl(211, 100%, 99%);\n  --secondary: hsl(240, 3.7%, 15.9%);\n  --secondary-foreground: hsl(0, 0%, 98%);\n  --accent: hsl(240, 3.7%, 15.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --ring: hsl(240, 4.9%, 83.9%);\n  --radius: 0.5rem;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n    font-family: 'Noto Sans Arabic', Arial, sans-serif;\n  }\n  \n  .font-arabic {\n    font-family: 'Noto Sans Arabic', Arial, sans-serif;\n  }\n  \n  .font-amiri {\n    font-family: 'Amiri', 'Times New Roman', serif;\n  }\n}\n\n@layer components {\n  .patriarch-card {\n    @apply transition-all duration-300 ease-in-out;\n  }\n  \n  .patriarch-card:hover {\n    @apply -translate-y-1 shadow-xl;\n  }\n  \n  .golden-border {\n    border: 2px solid hsl(45, 100%, 50%);\n    box-shadow: 0 0 10px hsla(45, 100%, 50%, 0.3);\n  }\n  \n  .admin-panel {\n    background: linear-gradient(135deg, hsl(213, 79%, 55%) 0%, hsl(213, 85%, 45%) 100%);\n  }\n  \n  .loading-spinner {\n    border: 3px solid hsl(60, 4.8%, 95.9%);\n    border-top: 3px solid hsl(45, 100%, 50%);\n    border-radius: 50%;\n    width: 30px;\n    height: 30px;\n    animation: spin 1s linear infinite;\n  }\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n}\n\n/* RTL-specific adjustments */\n[dir=\"rtl\"] .text-left { \n  text-align: right; \n}\n\n[dir=\"rtl\"] .text-right { \n  text-align: left; \n}\n\n/* Table headers alignment */\nth {\n  text-align: right !important;\n}\n\n.table-header {\n  text-align: right !important;\n}\n\n[dir=\"rtl\"] .ml-auto { \n  margin-right: auto; \n  margin-left: 0; \n}\n\n[dir=\"rtl\"] .mr-auto { \n  margin-left: auto; \n  margin-right: 0; \n}\n\n/* Custom scrollbar for RTL */\n[dir=\"rtl\"] ::-webkit-scrollbar {\n  width: 8px;\n}\n\n[dir=\"rtl\"] ::-webkit-scrollbar-track {\n  background: hsl(60, 4.8%, 95.9%);\n}\n\n[dir=\"rtl\"] ::-webkit-scrollbar-thumb {\n  background: hsl(45, 100%, 50%);\n  border-radius: 4px;\n}\n","size_bytes":3537},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ask-patriarch-chatbot.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { MessageCircle, Send, Loader2, Crown, Lightbulb, Sparkles } from \"lucide-react\";\n\ninterface Message {\n  id: string;\n  type: 'user' | 'patriarch';\n  content: string;\n  timestamp: Date;\n}\n\nexport default function AskPatriarchChatbot() {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      type: 'patriarch',\n      content: '🔍 مرحباً بك في البحث الذكي المطور! أنا خبير تاريخ الكنيسة القبطية الأرثوذكسية مع إمكانية الوصول للمصادر التالية:\\n\\n📚 **المصادر المتاحة:**\\n• قاعدة البيانات الرئيسية للبطاركة\\n• ملفات البيانات التاريخية الخارجية\\n• المراجع النصية الإضافية\\n• المعرفة التاريخية العامة\\n\\nيمكنني مساعدتك في العثور على أي معلومة عن البطاركة، الأحداث التاريخية، البدع، الإنجازات الكنسية، والسياق التاريخي. اسأل عن أي شيء تريد معرفته! 🏛️✨',\n      timestamp: new Date()\n    }\n  ]);\n\n  const [question, setQuestion] = useState('');\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const askPatriarchMutation = useMutation({\n    mutationFn: async (question: string) => {\n      const response = await apiRequest('POST', '/api/ask-patriarch', { question });\n      return response.json().then(data => data.answer);\n    },\n    onSuccess: (answer) => {\n      const newMessage: Message = {\n        id: Date.now().toString(),\n        type: 'patriarch',\n        content: answer,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, newMessage]);\n    },\n    onError: (error) => {\n      const errorMessage: Message = {\n        id: Date.now().toString(),\n        type: 'patriarch',\n        content: 'عذراً، حدث خطأ أثناء معالجة سؤالك. يرجى المحاولة مرة أخرى.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    }\n  });\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Listen for messages from search buttons\n  useEffect(() => {\n    const handleSendToChatbot = (event: CustomEvent) => {\n      const message = event.detail.message;\n      if (message && message.trim()) {\n        setQuestion(message);\n        // Auto-submit the question\n        setTimeout(() => {\n          const userMessage: Message = {\n            id: Date.now().toString(),\n            type: 'user',\n            content: message,\n            timestamp: new Date()\n          };\n          setMessages(prev => [...prev, userMessage]);\n          askPatriarchMutation.mutate(message);\n        }, 100);\n      }\n    };\n\n    window.addEventListener('sendToChatbot', handleSendToChatbot as EventListener);\n    return () => {\n      window.removeEventListener('sendToChatbot', handleSendToChatbot as EventListener);\n    };\n  }, [askPatriarchMutation]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!question.trim()) return;\n\n    // Add user message\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: question,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const currentQuestion = question;\n    setQuestion('');\n\n    // Send to AI\n    askPatriarchMutation.mutate(currentQuestion);\n  };\n\n  const suggestedQuestions = [\n    \"من هو أول بطريرك للكنيسة القبطية وما هو السياق التاريخي لتأسيس الكنيسة؟\",\n    \"قارن بين البطاركة في العصر الحديث والعصور القديمة من ناحية التحديات\",\n    \"ما هي أهم البدع التي حاربها البطاركة وكيف أثرت على تطور العقيدة؟\",\n    \"أخبرني عن تأثير البطاركة على المجتمع المصري عبر التاريخ\",\n    \"ما هي أبرز الإنجازات المعمارية والثقافية للبطاركة؟\",\n    \"كيف تطورت مؤسسة البطريركية عبر العصور المختلفة؟\"\n  ];\n\n  return (\n    <div className=\"w-full h-full flex flex-col animate-in fade-in-0 duration-500\">\n      <div className=\"bg-gradient-to-br from-amber-50 via-orange-50 to-amber-50 dark:from-amber-950/20 dark:via-orange-950/20 dark:to-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg flex-1 flex flex-col shadow-xl backdrop-blur-sm\">\n        <div className=\"p-2 border-b border-amber-200 dark:border-amber-800 bg-gradient-to-r from-amber-100/50 to-orange-100/50 dark:from-amber-900/30 dark:to-orange-900/30\">\n          <div className=\"flex items-center justify-center gap-1 mb-1\">\n            <Sparkles className=\"h-3 w-3 text-amber-600 animate-pulse\" />\n            <Crown className=\"h-4 w-4 text-amber-700 animate-bounce\" />\n            <Sparkles className=\"h-3 w-3 text-amber-600 animate-pulse delay-150\" />\n          </div>\n          <p className=\"text-amber-700 dark:text-amber-300 text-xs text-center font-medium leading-relaxed\">\n            استكشف تاريخ الكنيسة القبطية الأرثوذكسية مع خبير ذكي يعرف كل شيء عن البطاركة\n          </p>\n        </div>\n\n        <div className=\"flex-1 flex flex-col relative overflow-hidden\">\n          {/* Chat Messages */}\n          <div className=\"flex-1 overflow-hidden bg-white dark:bg-gray-900 m-2 rounded-lg border border-amber-200 dark:border-amber-800\">\n            <ScrollArea className=\"h-full w-full\">\n              <div className=\"p-4 space-y-4 min-h-full\">\n                {messages.map((message, index) => (\n                  <div\n                    key={message.id}\n                    className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'} animate-in slide-in-from-bottom-3 duration-500`}\n                    style={{ animationDelay: `${index * 100}ms` }}\n                  >\n                    <div\n                      className={`max-w-[85%] p-4 rounded-xl shadow-md transition-all duration-300 hover:scale-[1.01] hover:shadow-lg ${\n                        message.type === 'user'\n                          ? 'bg-gradient-to-br from-blue-600 to-blue-700 text-white shadow-blue-200 dark:shadow-blue-900/30'\n                          : 'bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900 dark:to-orange-900 text-amber-900 dark:text-amber-100 border border-amber-300 dark:border-amber-700 shadow-amber-200 dark:shadow-amber-900/30'\n                      }`}\n                    >\n                      {message.type === 'patriarch' && (\n                        <div className=\"flex items-center gap-2 mb-2 animate-in fade-in duration-300\">\n                          <Crown className=\"h-4 w-4 text-amber-600 animate-pulse\" />\n                          <span className=\"font-semibold text-sm bg-gradient-to-r from-amber-700 to-orange-700 bg-clip-text text-transparent\">البطريرك الخبير</span>\n                          <Sparkles className=\"h-3 w-3 text-amber-500 animate-spin\" />\n                        </div>\n                      )}\n                      <div \n                        className=\"whitespace-pre-wrap leading-relaxed text-sm\"\n                        dangerouslySetInnerHTML={{\n                          __html: message.content\n                            // Handle tables with | separators\n                            .replace(/\\|([^|\\n]+)\\|([^|\\n]+)\\|([^|\\n]+)\\|/g, \n                              '<table class=\"w-full border-collapse border border-amber-300 dark:border-amber-700 my-3 text-xs\"><tr><td class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-50 dark:bg-amber-900/30\">$1</td><td class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-50 dark:bg-amber-900/30\">$2</td><td class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-50 dark:bg-amber-900/30\">$3</td></tr></table>')\n                            \n                            // Handle table headers with :--- separators\n                            .replace(/\\|([^|\\n]+)\\|([^|\\n]+)\\|([^|\\n]+)\\|\\s*\\n\\s*\\|[\\s\\-:]+\\|[\\s\\-:]+\\|[\\s\\-:]+\\|/g,\n                              '<table class=\"w-full border-collapse border border-amber-300 dark:border-amber-700 my-3 text-xs\"><thead><tr><th class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-100 dark:bg-amber-800 font-bold\">$1</th><th class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-100 dark:bg-amber-800 font-bold\">$2</th><th class=\"border border-amber-300 dark:border-amber-700 p-2 bg-amber-100 dark:bg-amber-800 font-bold\">$3</th></tr></thead><tbody>')\n                            \n                            // Handle ### headings\n                            .replace(/###\\s*(.*?)$/gm, '<h3 class=\"text-lg font-bold text-amber-700 dark:text-amber-300 mt-4 mb-2 border-b border-amber-300 dark:border-amber-700 pb-1\">$1</h3>')\n                            \n                            // Handle ## headings  \n                            .replace(/##\\s*(.*?)$/gm, '<h2 class=\"text-xl font-bold text-amber-800 dark:text-amber-200 mt-5 mb-3 border-b-2 border-amber-400 dark:border-amber-600 pb-2\">$1</h2>')\n                            \n                            // Handle # headings\n                            .replace(/#\\s*(.*?)$/gm, '<h1 class=\"text-2xl font-bold text-amber-900 dark:text-amber-100 mt-6 mb-4 border-b-2 border-amber-500 dark:border-amber-500 pb-2\">$1</h1>')\n                            \n                            // Handle bullet points with *\n                            .replace(/^\\*\\s*(.*?)$/gm, '<li class=\"text-amber-800 dark:text-amber-200 mb-1 mr-4\">• $1</li>')\n                            \n                            // Handle numbered lists\n                            .replace(/^(\\d+)\\.\\s*(.*?)$/gm, '<li class=\"text-amber-800 dark:text-amber-200 mb-1 mr-4\">$1. $2</li>')\n                            \n                            // Handle bold text\n                            .replace(/\\*\\*(.*?)\\*\\*/g, '<strong class=\"font-bold text-amber-800 dark:text-amber-200\">$1</strong>')\n                            \n                            // Handle italic text\n                            .replace(/\\*(.*?)\\*/g, '<em class=\"italic text-amber-700 dark:text-amber-300\">$1</em>')\n                            \n                            // Wrap consecutive list items in ul tags\n                            .replace(/((<li[^>]*>.*?<\\/li>\\s*){2,})/g, '<ul class=\"list-none mr-4 my-2\">$1</ul>')\n                            \n                            // Handle line breaks\n                            .replace(/\\n/g, '<br/>')\n                        }}\n                      />\n                      <div className=\"text-xs opacity-70 mt-2 text-left\">\n                        {message.timestamp.toLocaleTimeString('ar-EG')}\n                      </div>\n                    </div>\n                  </div>\n                ))}\n\n                {askPatriarchMutation.isPending && (\n                  <div className=\"flex justify-start animate-in slide-in-from-bottom-3 duration-500\">\n                    <div className=\"bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900 dark:to-orange-900 text-amber-900 dark:text-amber-100 border border-amber-300 dark:border-amber-700 p-4 rounded-xl shadow-md\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"relative\">\n                          <Loader2 className=\"h-5 w-5 animate-spin text-amber-600\" />\n                          <div className=\"absolute inset-0 animate-ping\">\n                            <Loader2 className=\"h-5 w-5 text-amber-400 opacity-30\" />\n                          </div>\n                        </div>\n                        <span className=\"text-sm font-medium\">البطريرك يعد الإجابة...</span>\n                        <div className=\"flex gap-1\">\n                          <div className=\"w-2 h-2 bg-amber-500 rounded-full animate-bounce\"></div>\n                          <div className=\"w-2 h-2 bg-amber-500 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n                          <div className=\"w-2 h-2 bg-amber-500 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Extra padding at bottom to ensure last message is visible */}\n                <div className=\"h-4\"></div>\n                <div ref={messagesEndRef} />\n              </div>\n            </ScrollArea>\n          </div>\n\n          {/* Fixed Bottom Panel */}\n          <div className=\"bg-gradient-to-br from-amber-50 via-orange-50 to-amber-50 dark:from-amber-950/20 dark:via-orange-950/20 dark:to-amber-950/20 border-t border-amber-200 dark:border-amber-800 p-4 flex-shrink-0\">\n            {/* Suggested Questions */}\n            <div className=\"mb-6\">\n              <div className=\"flex items-center gap-3 mb-4\">\n                <div className=\"relative\">\n                  <Lightbulb className=\"h-5 w-5 text-amber-600 animate-pulse drop-shadow-sm\" />\n                  <div className=\"absolute -inset-1 bg-amber-400/20 rounded-full blur-sm animate-pulse\"></div>\n                </div>\n                <span className=\"text-base text-amber-800 dark:text-amber-200 font-semibold bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent\">\n                  أسئلة مقترحة للبدء\n                </span>\n                <div className=\"flex-1 h-px bg-gradient-to-r from-amber-300 via-orange-300 to-transparent\"></div>\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                {suggestedQuestions.map((suggestion, index) => (\n                  <div\n                    key={index}\n                    className=\"group relative overflow-hidden rounded-xl border-2 border-amber-300/60 dark:border-amber-700/60 bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 dark:from-amber-900/40 dark:via-orange-900/40 dark:to-yellow-900/40 hover:border-amber-500 dark:hover:border-amber-500 hover:shadow-xl hover:shadow-amber-500/25 transition-all duration-300 hover:scale-[1.02] animate-in slide-in-from-bottom-4 fade-in-0\"\n                    style={{ \n                      animationDelay: `${index * 100}ms`,\n                      animationDuration: '400ms',\n                      animationFillMode: 'both'\n                    }}\n                  >\n                    {/* Glowing background on hover */}\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-amber-200/0 via-amber-200/50 to-amber-200/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n\n                    <Button\n                      variant=\"ghost\"\n                      className=\"relative w-full h-auto p-4 text-right justify-start bg-transparent hover:bg-transparent transition-all duration-300 min-h-[65px] z-10\"\n                      onClick={() => setQuestion(suggestion)}\n                      disabled={askPatriarchMutation.isPending}\n                    >\n                      {/* Icon */}\n                      <div className=\"absolute top-3 right-3 opacity-40 group-hover:opacity-80 transition-all duration-300 group-hover:scale-110\">\n                        <Lightbulb className=\"h-4 w-4 text-amber-600 group-hover:text-amber-700\" />\n                      </div>\n\n                      <div className=\"w-full pr-8\">\n                        <span className=\"text-sm leading-relaxed text-amber-800 dark:text-amber-200 font-medium group-hover:text-amber-900 dark:group-hover:text-amber-100 transition-colors duration-300 text-right block\">\n                          {suggestion}\n                        </span>\n\n                        {/* Animated underline */}\n                        <div className=\"h-0.5 bg-gradient-to-r from-amber-500/80 to-orange-500/80 mt-2 w-0 group-hover:w-full transition-all duration-400 ease-out rounded-full\"></div>\n                      </div>\n                    </Button>\n\n                    {/* Subtle glow effect */}\n                    <div className=\"absolute -inset-0.5 bg-gradient-to-r from-amber-400/20 via-orange-400/20 to-amber-400/20 rounded-xl opacity-0 group-hover:opacity-100 blur-sm transition-all duration-300 -z-10\"></div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Decorative line */}\n              <div className=\"mt-4 h-px bg-gradient-to-r from-transparent via-amber-300/50 to-transparent\"></div>\n            </div>\n\n            {/* Question Input */}\n            <form onSubmit={handleSubmit} className=\"w-full\">\n              <div className=\"flex gap-3 items-stretch w-full\">\n                <Input\n                  value={question}\n                  onChange={(e) => setQuestion(e.target.value)}\n                  placeholder=\"اكتب سؤالك هنا...\"\n                  className=\"flex-1 text-right border-amber-300 dark:border-amber-700 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300 rounded-lg shadow-sm text-sm h-12 px-4 bg-white dark:bg-gray-800\"\n                  disabled={askPatriarchMutation.isPending}\n                  dir=\"rtl\"\n                />\n                <Button\n                  type=\"submit\"\n                  disabled={!question.trim() || askPatriarchMutation.isPending}\n                  className=\"bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 h-12 min-w-[48px] flex items-center justify-center\"\n                >\n                  {askPatriarchMutation.isPending ? (\n                    <Loader2 className=\"h-5 w-5 animate-spin\" />\n                  ) : (\n                    <Send className=\"h-5 w-5\" />\n                  )}\n                </Button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":18742},"client/src/components/home-charts.tsx":{"content":"import { useMemo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  AreaChart,\n  Area,\n  Legend\n} from \"recharts\";\nimport type { Patriarch } from \"@shared/schema\";\n\ninterface HomeChartsProps {\n  patriarchs: Patriarch[];\n}\n\nconst COLORS = ['#8B5CF6', '#10B981', '#F59E0B', '#EF4444', '#3B82F6', '#EC4899', '#14B8A6', '#F97316', '#6366F1', '#8B5A2B', '#DC2626', '#059669'];\n\nconst eraLabels: Record<string, string> = {\n  \"العصر الرسولي\": \"العصر الرسولي\",\n  \"العصر الذهبي\": \"العصر الذهبي\",\n  \"عصر المجامع\": \"عصر المجامع\", \n  \"عصر الاضطهاد\": \"عصر الاضطهاد\",\n  \"العصر الحديث\": \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\": \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\": \"العصر العثماني\",\n  \"العصر الفاطمي\": \"العصر الفاطمي\",\n  \"العصر المملوكي المتأخر\": \"العصر المملوكي المتأخر\",\n  \"العصر المملوكي\": \"العصر المملوكي\",\n  \"العصر القبطي المستقل\": \"العصر القبطي المستقل\",\n  \"العصر العثماني المتأخر\": \"العصر العثماني المتأخر\",\n  \"العصر العباسي المبكر\": \"العصر العباسي المبكر\",\n  \"العصر البيزنطي\": \"العصر البيزنطي\",\n  \"العصر الأيوبي\": \"العصر الأيوبي\",\n  \"العصر العباسي\": \"العصر العباسي\",\n  \"العصر الفاطمي المتأخر\": \"العصر الفاطمي المتأخر\",\n  \"عصر التحديث\": \"عصر التحديث\",\n  \"العصر الحديث المبكر\": \"العصر الحديث المبكر\",\n  \"العصر المعاصر\": \"العصر المعاصر\",\n  \"العصر الأيوبي المتأخر\": \"العصر الأيوبي المتأخر\",\n  \"العصر العثماني المبكر\": \"العصر العثماني المبكر\",\n  \"العصر الأيوبي المبكر\": \"العصر الأيوبي المبكر\",\n  \"العصر المملوكي المبكر\": \"العصر المملوكي المبكر\",\n  \"عصر محمد علي\": \"عصر محمد علي\",\n  \"العصر الفاطمي المبكر\": \"العصر الفاطمي المبكر\"\n};\n\nexport default function HomeCharts({ patriarchs }: HomeChartsProps) {\n  \n  const chartsData = useMemo(() => {\n    // توزيع البطاركة حسب العصور الرئيسية\n    const eraDistribution = patriarchs.reduce((acc: Record<string, number>, patriarch) => {\n      const era = eraLabels[patriarch.era] || patriarch.era;\n      acc[era] = (acc[era] || 0) + 1;\n      return acc;\n    }, {});\n\n    const topEras = Object.entries(eraDistribution)\n      .map(([era, count], index) => ({\n        era: era.length > 15 ? era.substring(0, 15) + \"...\" : era,\n        fullEra: era,\n        count,\n        color: COLORS[index % COLORS.length]\n      }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 8);\n\n    // توزيع عبر القرون (أهم 6 قرون)\n    const centuryDistribution = patriarchs.reduce((acc: Record<number, number>, patriarch) => {\n      const century = Math.floor(patriarch.startYear / 100) + 1;\n      acc[century] = (acc[century] || 0) + 1;\n      return acc;\n    }, {});\n\n    const topCenturies = Object.entries(centuryDistribution)\n      .map(([century, count]) => ({\n        century: `القرن ${century}`,\n        count,\n        year: parseInt(century) * 100\n      }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 6);\n\n    // أطول فترات الخدمة (أعلى 5)\n    const longestService = patriarchs\n      .filter(p => p.endYear)\n      .map(p => {\n        const arabicName = p.arabicName || p.name;\n        return {\n          name: arabicName.length > 15 ? arabicName.substring(0, 15) + \"...\" : arabicName,\n          fullName: arabicName,\n          duration: p.endYear! - p.startYear,\n          era: eraLabels[p.era] || p.era\n        };\n      })\n      .sort((a, b) => b.duration - a.duration)\n      .slice(0, 5);\n\n    // الإحصائيات الرئيسية\n    const stats = {\n      total: patriarchs.length,\n      averageService: Math.round(\n        patriarchs\n          .filter(p => p.endYear)\n          .reduce((sum, p) => sum + (p.endYear! - p.startYear), 0) /\n        patriarchs.filter(p => p.endYear).length\n      ),\n      defendersCount: patriarchs.filter(p => {\n        let heresies: string[] = [];\n        try {\n          heresies = Array.isArray(p.heresiesFought) \n            ? p.heresiesFought \n            : JSON.parse(p.heresiesFought || '[]');\n        } catch (e) {\n          heresies = [];\n        }\n        return heresies.length > 0;\n      }).length,\n      modernEra: patriarchs.filter(p => \n        p.era.includes(\"الحديث\") || p.era.includes(\"المعاصر\") || p.era.includes(\"التحديث\")\n      ).length\n    };\n\n    return {\n      topEras,\n      topCenturies,\n      longestService,\n      stats\n    };\n  }, [patriarchs]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\n          <p className=\"text-gray-800 font-semibold\">{label}</p>\n          {payload.map((entry: any, index: number) => (\n            <p key={index} style={{ color: entry.color }}>\n              {entry.name}: {entry.value}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"bg-gradient-to-br from-blue-50 to-purple-50 py-16\" dir=\"rtl\">\n      <div className=\"container mx-auto px-4\">\n        {/* عنوان القسم */}\n        <div className=\"text-center mb-12\">\n          <h2 className=\"text-4xl font-bold font-amiri text-gray-800 mb-4\">\n            إحصائيات وتحليلات البطاركة\n          </h2>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            نظرة شاملة على التوزيع التاريخي والإحصائيات المهمة لبطاركة الكنيسة القبطية الأرثوذكسية\n          </p>\n        </div>\n\n        {/* إحصائيات رئيسية */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12\">\n          <Card className=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-users text-3xl\"></i>\n              </div>\n              <h3 className=\"text-3xl font-bold mb-2\">{chartsData.stats.total}</h3>\n              <p className=\"text-blue-100\">إجمالي البطاركة</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-green-500 to-green-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-clock text-3xl\"></i>\n              </div>\n              <h3 className=\"text-3xl font-bold mb-2\">{chartsData.stats.averageService}</h3>\n              <p className=\"text-green-100\">متوسط مدة الخدمة</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-shield-alt text-3xl\"></i>\n              </div>\n              <h3 className=\"text-3xl font-bold mb-2\">{chartsData.stats.defendersCount}</h3>\n              <p className=\"text-purple-100\">محاربو البدع</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-orange-500 to-orange-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300\">\n            <CardContent className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-calendar-alt text-3xl\"></i>\n              </div>\n              <h3 className=\"text-3xl font-bold mb-2\">{chartsData.stats.modernEra}</h3>\n              <p className=\"text-orange-100\">العصر الحديث</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* الرسوم البيانية الرئيسية */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12\">\n          {/* توزيع حسب العصور - رسم بياني عمودي محسن */}\n          <Card className=\"shadow-xl\">\n            <CardHeader className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n              <CardTitle className=\"text-center font-amiri text-xl\">\n                <i className=\"fas fa-chart-bar mr-2\"></i>\n                التوزيع الإجمالي للبطاركة\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-6\">\n              <ResponsiveContainer width=\"100%\" height={400}>\n                <BarChart\n                  data={chartsData.topEras}\n                  margin={{ top: 20, right: 30, left: 20, bottom: 100 }}\n                >\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n                  <XAxis \n                    dataKey=\"era\"\n                    angle={-35}\n                    textAnchor=\"end\"\n                    height={100}\n                    fontSize={10}\n                    interval={0}\n                    tick={false}\n                  />\n                  <YAxis \n                    fontSize={12}\n                    tick={{ fill: '#666' }}\n                  />\n                  <Tooltip \n                    formatter={(value) => [`${value} بطريرك`, 'العدد']}\n                    labelFormatter={(label) => chartsData.topEras.find(d => d.era === label)?.fullEra || label}\n                    contentStyle={{\n                      backgroundColor: 'rgba(255, 255, 255, 0.98)',\n                      border: '2px solid #3b82f6',\n                      borderRadius: '12px',\n                      fontSize: '16px',\n                      direction: 'rtl',\n                      boxShadow: '0 8px 16px rgba(0,0,0,0.15)',\n                      fontWeight: 'bold'\n                    }}\n                  />\n                  <Bar dataKey=\"count\" radius={[8, 8, 0, 0]}>\n                    {chartsData.topEras.map((entry, index) => (\n                      <Cell key={`cell-${index}`} fill={entry.color} />\n                    ))}\n                  </Bar>\n                </BarChart>\n              </ResponsiveContainer>\n              \n              {/* قائمة العصور خارج الرسم البياني */}\n              <div className=\"mt-6 grid grid-cols-2 lg:grid-cols-3 gap-3\">\n                {chartsData.topEras.map((item, index) => (\n                  <div key={index} className=\"flex items-center space-x-reverse space-x-2 p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border hover:shadow-md transition-all duration-200\">\n                    <div \n                      className=\"w-5 h-5 rounded-full shadow-sm\"\n                      style={{ backgroundColor: item.color }}\n                    ></div>\n                    <div className=\"flex-1\">\n                      <span className=\"text-sm font-semibold text-gray-800\">{item.fullEra}</span>\n                      <div className=\"text-xs text-gray-600 font-medium\">{item.count} بطريرك</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* توزيع حسب القرون - رسم منطقي محسن */}\n          <Card className=\"shadow-xl\">\n            <CardHeader className=\"bg-gradient-to-r from-green-600 to-teal-600 text-white\">\n              <CardTitle className=\"text-center font-amiri text-xl\">\n                <i className=\"fas fa-chart-line mr-2\"></i>\n                توزيع البطاركة عبر القرون\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-6\">\n              <ResponsiveContainer width=\"100%\" height={400}>\n                <AreaChart data={chartsData.topCenturies} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\n                  <defs>\n                    <linearGradient id=\"colorCenturyHome\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                      <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.8}/>\n                      <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0.2}/>\n                    </linearGradient>\n                  </defs>\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n                  <XAxis \n                    dataKey=\"century\" \n                    fontSize={12}\n                    tick={{ fill: '#666' }}\n                  />\n                  <YAxis \n                    fontSize={12}\n                    tick={{ fill: '#666' }}\n                  />\n                  <Tooltip \n                    formatter={(value) => [`${value} بطريرك`, 'العدد']}\n                    labelFormatter={(label) => `القرن ${label}`}\n                    contentStyle={{\n                      backgroundColor: 'white',\n                      border: '2px solid #10B981',\n                      borderRadius: '10px',\n                      fontSize: '14px',\n                      direction: 'rtl'\n                    }}\n                  />\n                  <Area \n                    type=\"monotone\" \n                    dataKey=\"count\" \n                    stroke=\"#10B981\" \n                    strokeWidth={3}\n                    fillOpacity={1} \n                    fill=\"url(#colorCenturyHome)\" \n                  />\n                </AreaChart>\n              </ResponsiveContainer>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* أطول فترات الخدمة */}\n        <Card className=\"shadow-xl mb-8\">\n          <CardHeader className=\"bg-gradient-to-r from-yellow-500 to-orange-500 text-white\">\n            <CardTitle className=\"text-center font-amiri text-xl\">\n              <i className=\"fas fa-crown mr-2\"></i>\n              أطول فترات الخدمة للبطاركة\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n              {chartsData.longestService.map((patriarch, index) => (\n                <div key={`${patriarch.fullName}-${index}`} className=\"bg-gradient-to-br from-gray-50 to-white p-4 rounded-lg border-2 border-gray-100 hover:border-yellow-300 transition-all duration-300\">\n                  <div className=\"text-center\">\n                    <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold mx-auto mb-3 ${\n                      index === 0 ? 'bg-yellow-500' : \n                      index === 1 ? 'bg-gray-400' : \n                      index === 2 ? 'bg-orange-500' : 'bg-blue-500'\n                    }`}>\n                      {index + 1}\n                    </div>\n                    <h4 className=\"font-semibold text-gray-800 mb-2 text-sm\" title={patriarch.fullName}>\n                      {patriarch.name}\n                    </h4>\n                    <Badge variant=\"secondary\" className=\"mb-2\">\n                      {patriarch.duration} سنة\n                    </Badge>\n                    <p className=\"text-xs text-gray-600\">{patriarch.era}</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* تحليل البدع المحاربة */}\n        <Card className=\"shadow-xl mb-8\">\n          <CardHeader className=\"bg-gradient-to-r from-red-600 to-pink-600 text-white\">\n            <CardTitle className=\"text-center font-amiri text-xl\">\n              <i className=\"fas fa-shield-alt mr-2\"></i>\n              تحليل البدع المحاربة\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {/* أكثر البدع محاربة */}\n              <div className=\"bg-gradient-to-br from-red-50 to-pink-50 p-4 rounded-lg border-2 border-red-100\">\n                <h4 className=\"font-bold text-red-800 mb-3 flex items-center\">\n                  <i className=\"fas fa-fire ml-2\"></i>\n                  أكثر البدع محاربة\n                </h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">الآريوسية</span>\n                    <Badge variant=\"destructive\" className=\"text-xs\">عالية</Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">النسطورية</span>\n                    <Badge variant=\"destructive\" className=\"text-xs\">عالية</Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">الخلقيدونية</span>\n                    <Badge variant=\"destructive\" className=\"text-xs\">عالية</Badge>\n                  </div>\n                </div>\n              </div>\n\n              {/* البدع حسب العصور */}\n              <div className=\"bg-gradient-to-br from-blue-50 to-indigo-50 p-4 rounded-lg border-2 border-blue-100\">\n                <h4 className=\"font-bold text-blue-800 mb-3 flex items-center\">\n                  <i className=\"fas fa-clock ml-2\"></i>\n                  البدع حسب العصور\n                </h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">العصر الذهبي</span>\n                    <Badge variant=\"secondary\" className=\"text-xs\">5 بدع</Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">العصر الوسيط</span>\n                    <Badge variant=\"secondary\" className=\"text-xs\">3 بدع</Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">العصر الحديث</span>\n                    <Badge variant=\"secondary\" className=\"text-xs\">4 بدع</Badge>\n                  </div>\n                </div>\n              </div>\n\n              {/* إحصائيات دفاعية */}\n              <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-lg border-2 border-green-100\">\n                <h4 className=\"font-bold text-green-800 mb-3 flex items-center\">\n                  <i className=\"fas fa-shield ml-2\"></i>\n                  إحصائيات الدفاع\n                </h4>\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">بطاركة محاربون</span>\n                    <Badge variant=\"outline\" className=\"text-xs text-green-700 border-green-700\">{chartsData.stats.defendersCount}</Badge>\n                  </div>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-gray-700\">نسبة المحاربين</span>\n                    <Badge variant=\"outline\" className=\"text-xs text-green-700 border-green-700\">\n                      {Math.round((chartsData.stats.defendersCount / chartsData.stats.total) * 100)}%\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* رسم بياني للخط الزمني المبسط */}\n        <Card className=\"shadow-xl\">\n          <CardHeader className=\"bg-gradient-to-r from-purple-500 to-pink-500 text-white\">\n            <CardTitle className=\"text-center font-amiri text-xl\">\n              <i className=\"fas fa-chart-line mr-2\"></i>\n              الخط الزمني لتطور الكنيسة\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-6\">\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <AreaChart data={chartsData.topCenturies}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"century\" />\n                <YAxis />\n                <Tooltip content={<CustomTooltip />} />\n                <Area \n                  type=\"monotone\" \n                  dataKey=\"count\" \n                  stroke=\"#8B5CF6\" \n                  fill=\"#8B5CF6\" \n                  fillOpacity={0.3}\n                />\n              </AreaChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* دعوة للعمل */}\n        <div className=\"text-center mt-12\">\n          <div className=\"bg-white rounded-lg shadow-xl p-8 max-w-2xl mx-auto\">\n            <h3 className=\"text-2xl font-bold text-gray-800 mb-4 font-amiri\">\n              اكتشف المزيد من التفاصيل\n            </h3>\n            <p className=\"text-gray-600 mb-6\">\n              تعرف على تاريخ كل بطريرك وإنجازاته ودوره في تطوير الكنيسة القبطية عبر العصور\n            </p>\n            <div className=\"flex justify-center space-x-reverse space-x-4\">\n              <Badge variant=\"outline\" className=\"text-blue-600 border-blue-600\">\n                {chartsData.stats.total} بطريرك\n              </Badge>\n              <Badge variant=\"outline\" className=\"text-green-600 border-green-600\">\n                {Math.max(...chartsData.longestService.map(p => p.duration))} سنة أطول خدمة\n              </Badge>\n              <Badge variant=\"outline\" className=\"text-purple-600 border-purple-600\">\n                1950+ سنة من التاريخ\n              </Badge>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":22986},"client/src/components/patriarch-card.tsx":{"content":"import { useState } from \"react\";\nimport { Card, CardContent, CardFooter, CardHeader } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport type { Patriarch } from \"@shared/schema\";\nimport { getArabicHeresyName } from \"@shared/patriarch-names\";\n\ninterface PatriarchCardProps {\n  patriarch: Patriarch;\n}\n\nconst eraLabels: Record<string, string> = {\n  // Arabic keys (actual database values)\n  \"العصر الرسولي\": \"العصر الرسولي\",\n  \"العصر الذهبي\": \"العصر الذهبي\",\n  \"عصر المجامع\": \"عصر المجامع\", \n  \"عصر الاضطهاد\": \"عصر الاضطهاد\",\n  \"العصر الحديث\": \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\": \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\": \"العصر العثماني\",\n  \"العصر الفاطمي\": \"العصر الفاطمي\",\n  \"العصر المملوكي المتأخر\": \"العصر المملوكي المتأخر\",\n  \"العصر المملوكي\": \"العصر المملوكي\",\n  \"العصر القبطي المستقل\": \"العصر القبطي المستقل\",\n  \"العصر العثماني المتأخر\": \"العصر العثماني المتأخر\",\n  \"العصر العباسي المبكر\": \"العصر العباسي المبكر\",\n  \"العصر البيزنطي\": \"العصر البيزنطي\",\n  \"العصر الأيوبي\": \"العصر الأيوبي\",\n  \"العصر العباسي\": \"العصر العباسي\",\n  \"العصر الفاطمي المتأخر\": \"العصر الفاطمي المتأخر\",\n  \"عصر التحديث\": \"عصر التحديث\",\n  \"العصر الحديث المبكر\": \"العصر الحديث المبكر\",\n  \"العصر المعاصر\": \"العصر المعاصر\",\n  \"العصر الأيوبي المتأخر\": \"العصر الأيوبي المتأخر\",\n  \"العصر العثماني المبكر\": \"العصر العثماني المبكر\",\n  \"العصر الأيوبي المبكر\": \"العصر الأيوبي المبكر\",\n  \"العصر المملوكي المبكر\": \"العصر المملوكي المبكر\",\n  \"عصر محمد علي\": \"عصر محمد علي\",\n  \"العصر الفاطمي المبكر\": \"العصر الفاطمي المبكر\"\n};\n\nconst eraColors: Record<string, string> = {\n  // Main eras\n  \"العصر الرسولي\": \"bg-blue-100 text-blue-800\",\n  \"العصر الذهبي\": \"bg-yellow-100 text-yellow-800\",\n  \"عصر المجامع\": \"bg-purple-100 text-purple-800\",\n  \"عصر الاضطهاد\": \"bg-red-100 text-red-800\",\n  \"العصر الحديث\": \"bg-green-100 text-green-800\",\n  \n  // Islamic eras\n  \"العصر الإسلامي المبكر\": \"bg-teal-100 text-teal-800\",\n  \"العصر العباسي\": \"bg-indigo-100 text-indigo-800\",\n  \"العصر العباسي المبكر\": \"bg-indigo-50 text-indigo-700\",\n  \"العصر الفاطمي\": \"bg-pink-100 text-pink-800\",\n  \"العصر الفاطمي المبكر\": \"bg-pink-50 text-pink-700\",\n  \"العصر الفاطمي المتأخر\": \"bg-pink-200 text-pink-900\",\n  \n  // Ottoman and Mamluk eras\n  \"العصر العثماني\": \"bg-amber-100 text-amber-800\",\n  \"العصر العثماني المبكر\": \"bg-amber-50 text-amber-700\",\n  \"العصر العثماني المتأخر\": \"bg-amber-200 text-amber-900\",\n  \"العصر المملوكي\": \"bg-orange-100 text-orange-800\",\n  \"العصر المملوكي المبكر\": \"bg-orange-50 text-orange-700\",\n  \"العصر المملوكي المتأخر\": \"bg-orange-200 text-orange-900\",\n  \n  // Ayyubid era\n  \"العصر الأيوبي\": \"bg-cyan-100 text-cyan-800\",\n  \"العصر الأيوبي المبكر\": \"bg-cyan-50 text-cyan-700\",\n  \"العصر الأيوبي المتأخر\": \"bg-cyan-200 text-cyan-900\",\n  \n  // Other periods\n  \"العصر البيزنطي\": \"bg-violet-100 text-violet-800\",\n  \"العصر القبطي المستقل\": \"bg-emerald-100 text-emerald-800\",\n  \"عصر التحديث\": \"bg-lime-100 text-lime-800\",\n  \"العصر الحديث المبكر\": \"bg-green-50 text-green-700\",\n  \"العصر المعاصر\": \"bg-slate-100 text-slate-800\",\n  \"عصر محمد علي\": \"bg-rose-100 text-rose-800\",\n};\n\nexport default function PatriarchCard({ patriarch }: PatriarchCardProps) {\n  const displayName = patriarch.arabicName || patriarch.name;\n\n  return (\n    <Card className=\"patriarch-card bg-white shadow-lg hover:shadow-2xl border border-gray-200 overflow-hidden group\">\n      <CardHeader className=\"bg-gradient-to-br from-blue-600 to-purple-600 text-white p-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-reverse space-x-4\">\n            <div className=\"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg\">\n              <i className=\"fas fa-user text-blue-600 text-2xl\"></i>\n            </div>\n            <div>\n              <h3 className=\"text-xl font-bold font-amiri leading-tight\">{displayName}</h3>\n              <p className=\"text-blue-100\">البابا {patriarch.orderNumber}</p>\n            </div>\n          </div>\n          <Badge className={eraColors[patriarch.era] || \"bg-yellow-400 text-black\"}>\n            {eraLabels[patriarch.era] || patriarch.era}\n          </Badge>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-6\">\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center text-gray-600\">\n            <i className=\"fas fa-calendar-alt ml-3 text-blue-600\"></i>\n            <span className=\"font-medium\">\n              {patriarch.startYear} - {patriarch.endYear || \"الآن\"} م\n            </span>\n          </div>\n\n          <div>\n            <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n              <i className=\"fas fa-star ml-2 text-yellow-500\"></i>\n              المساهمات الرئيسية\n            </h4>\n            <p className=\"text-gray-600 leading-relaxed line-clamp-3\">\n              {patriarch.contributions}\n            </p>\n          </div>\n\n          {(() => {\n            let heresies: string[] = [];\n            try {\n              if (Array.isArray(patriarch.heresiesFought)) {\n                heresies = patriarch.heresiesFought as string[];\n              } else if (typeof patriarch.heresiesFought === 'string') {\n                heresies = JSON.parse(patriarch.heresiesFought) as string[];\n              } else if (patriarch.heresiesFought) {\n                heresies = patriarch.heresiesFought as string[];\n              }\n            } catch (e) {\n              heresies = [];\n            }\n            \n            return heresies.length > 0 && (\n              <div>\n                <h4 className=\"font-semibold text-gray-800 mb-2 flex items-center\">\n                  <i className=\"fas fa-shield-alt ml-2 text-red-500\"></i>\n                  البدع المحاربة\n                </h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {heresies.slice(0, 3).map((heresy, index) => (\n                    <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                      {getArabicHeresyName(heresy)}\n                    </Badge>\n                  ))}\n                  {heresies.length > 3 && (\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      +{heresies.length - 3} المزيد\n                    </Badge>\n                  )}\n                </div>\n              </div>\n            );\n          })()}\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"p-6 pt-0\">\n        <Dialog>\n          <DialogTrigger asChild>\n            <Button \n              className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 transition-all duration-300\"\n            >\n              <i className=\"fas fa-book-open ml-2\"></i>\n              عرض التفاصيل\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\" dir=\"rtl\">\n            <DialogHeader>\n              <DialogTitle className=\"text-2xl font-amiri text-blue-600 flex items-center\">\n                <div className=\"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center ml-4\">\n                  <i className=\"fas fa-user text-blue-600\"></i>\n                </div>\n                {displayName} - البابا {patriarch.orderNumber}\n              </DialogTitle>\n            </DialogHeader>\n\n            <div className=\"space-y-6 mt-6\">\n              {/* Period */}\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <h3 className=\"font-semibold text-blue-800 mb-2 flex items-center\">\n                  <i className=\"fas fa-calendar-alt ml-2\"></i>\n                  فترة البطريركية\n                </h3>\n                <p className=\"text-blue-700\">\n                  {patriarch.startYear} - {patriarch.endYear || \"الآن\"} م\n                </p>\n              </div>\n\n              {/* Era */}\n              <div className=\"bg-purple-50 p-4 rounded-lg\">\n                <h3 className=\"font-semibold text-purple-800 mb-2 flex items-center\">\n                  <i className=\"fas fa-clock ml-2\"></i>\n                  العصر التاريخي\n                </h3>\n                <Badge className={eraColors[patriarch.era] || \"bg-gray-100 text-gray-800\"}>\n                  {eraLabels[patriarch.era] || patriarch.era}\n                </Badge>\n              </div>\n\n              {/* Contributions */}\n              <div className=\"bg-yellow-50 p-4 rounded-lg\">\n                <h3 className=\"font-semibold text-yellow-800 mb-3 flex items-center\">\n                  <i className=\"fas fa-star ml-2\"></i>\n                  المساهمات والإنجازات\n                </h3>\n                <p className=\"text-yellow-700 leading-relaxed\">\n                  {patriarch.contributions}\n                </p>\n              </div>\n\n              {/* Biography */}\n              {patriarch.biography && (\n                <div className=\"bg-green-50 p-4 rounded-lg\">\n                  <h3 className=\"font-semibold text-green-800 mb-3 flex items-center\">\n                    <i className=\"fas fa-book ml-2\"></i>\n                    السيرة الذاتية\n                  </h3>\n                  <p className=\"text-green-700 leading-relaxed\">\n                    {patriarch.biography}\n                  </p>\n                </div>\n              )}\n\n              {/* Heresies Fought */}\n              {(() => {\n                let heresies: string[] = [];\n                try {\n                  if (Array.isArray(patriarch.heresiesFought)) {\n                    heresies = patriarch.heresiesFought as string[];\n                  } else if (typeof patriarch.heresiesFought === 'string') {\n                    heresies = JSON.parse(patriarch.heresiesFought) as string[];\n                  } else if (patriarch.heresiesFought) {\n                    heresies = patriarch.heresiesFought as string[];\n                  }\n                } catch (e) {\n                  heresies = [];\n                }\n                \n                return heresies.length > 0 && (\n                  <div className=\"bg-red-50 p-4 rounded-lg\">\n                    <h3 className=\"font-semibold text-red-800 mb-3 flex items-center\">\n                      <i className=\"fas fa-shield-alt ml-2\"></i>\n                      البدع المحاربة\n                    </h3>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {heresies.map((heresy, index) => (\n                        <Badge key={index} variant=\"outline\" className=\"bg-white border-red-300 text-red-700\">\n                          {getArabicHeresyName(heresy)}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                );\n              })()}\n            </div>\n          </DialogContent>\n        </Dialog>\n      </CardFooter>\n    </Card>\n  );\n}","size_bytes":12220},"client/src/components/patriarch-timeline.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport type { Patriarch } from \"@shared/schema\";\n\ninterface PatriarchTimelineProps {\n  patriarchs: Patriarch[];\n}\n\n// Mock function for demonstration. Replace with actual implementation.\nconst getDisplayName = (patriarch: { arabicName?: string | null; name: string }): string => {\n  return patriarch.arabicName || patriarch.name;\n};\n\nexport default function PatriarchTimeline({ patriarchs }: PatriarchTimelineProps) {\n  // Sort patriarchs by start year\n  const sortedPatriarchs = [...patriarchs]\n    .sort((a, b) => a.startYear - b.startYear)\n    .slice(0, 10); // Show first 10 for timeline\n\n  if (sortedPatriarchs.length === 0) {\n    return (\n      <Card className=\"p-8 text-center\">\n        <CardContent>\n          <i className=\"fas fa-timeline text-4xl text-gray-400 mb-4\"></i>\n          <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">لا يوجد خط زمني</h3>\n          <p className=\"text-gray-500\">لا توجد بيانات كافية لعرض الخط الزمني</p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"relative\">\n      {/* Timeline line */}\n      <div className=\"absolute right-1/2 transform translate-x-1/2 w-1 h-full bg-yellow-400\"></div>\n\n      {/* Timeline items */}\n      <div className=\"space-y-12\">\n        {sortedPatriarchs.map((patriarch, index) => (\n          <div key={patriarch.id} className=\"relative flex items-center\">\n            {index % 2 === 0 ? (\n              // Right side\n              <>\n                <div className=\"w-1/2 text-left pl-8\">\n                  <Card className=\"border-r-4 border-yellow-400\">\n                    <CardContent className=\"p-6\">\n                      <h4 className=\"font-bold text-blue-600 font-amiri\">{getDisplayName(patriarch)}</h4>\n                      <p className=\"text-sm text-gray-600\">\n                        {patriarch.startYear} - {patriarch.endYear || \"الآن\"} م\n                      </p>\n                      <p className=\"text-sm mt-2 line-clamp-2\">{patriarch.contributions}</p>\n                    </CardContent>\n                  </Card>\n                </div>\n\n                {/* Timeline dot */}\n                <div className=\"absolute right-1/2 transform translate-x-1/2 w-6 h-6 bg-yellow-400 rounded-full border-4 border-white shadow-lg\"></div>\n\n                <div className=\"w-1/2\"></div>\n              </>\n            ) : (\n              // Left side\n              <>\n                <div className=\"w-1/2\"></div>\n\n                {/* Timeline dot */}\n                <div className=\"absolute right-1/2 transform translate-x-1/2 w-6 h-6 bg-yellow-400 rounded-full border-4 border-white shadow-lg\"></div>\n\n                <div className=\"w-1/2 text-right pr-8\">\n                  <Card className=\"border-l-4 border-yellow-400\">\n                    <CardContent className=\"p-6\">\n                      <h4 className=\"font-bold text-blue-600 font-amiri\">{getDisplayName(patriarch)}</h4>\n                      <p className=\"text-sm text-gray-600\">\n                        {patriarch.startYear} - {patriarch.endYear || \"الآن\"} م\n                      </p>\n                      <p className=\"text-sm mt-2 line-clamp-2\">{patriarch.contributions}</p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}","size_bytes":3441},"client/src/components/smart-summary-modal.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport Loading from \"@/components/ui/loading\";\n\ninterface SmartSummaryModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface PatriarchResult {\n  id: number;\n  name: string;\n  englishName: string;\n  orderNumber: number;\n  startYear: number;\n  endYear?: number;\n  era: string;\n  shortDescription: string;\n}\n\ninterface SummaryResponse {\n  summary?: string;\n  patriarch?: {\n    name: string;\n    englishName: string;\n    orderNumber: number;\n    startYear: number;\n    endYear?: number;\n    era: string;\n  };\n  multipleResults?: boolean;\n  patriarchs?: PatriarchResult[];\n  message?: string;\n}\n\nexport default function SmartSummaryModal({ isOpen, onClose }: SmartSummaryModalProps) {\n  const [patriarchName, setPatriarchName] = useState(\"\");\n  const [tone, setTone] = useState(\"easy\");\n  const [result, setResult] = useState<SummaryResponse | null>(null);\n  const [selectedPatriarch, setSelectedPatriarch] = useState<PatriarchResult | null>(null);\n\n  const summaryMutation = useMutation({\n    mutationFn: async ({ name, tone }: { name: string; tone: string }) => {\n      const response = await fetch(\"/api/generate-smart-summary\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name: name.trim(), tone }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || \"فشل في توليد الملخص\");\n      }\n\n      return response.json();\n    },\n    onSuccess: (data) => {\n      setResult(data);\n      if (data.multipleResults) {\n        setSelectedPatriarch(null);\n      }\n    },\n    onError: (error) => {\n      console.error(\"Smart summary error:\", error);\n    },\n  });\n\n  const specificSummaryMutation = useMutation({\n    mutationFn: async ({ patriarchId, tone }: { patriarchId: number; tone: string }) => {\n      const response = await fetch(\"/api/generate-summary-by-id\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ patriarchId, tone }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || \"فشل في توليد الملخص\");\n      }\n\n      return response.json();\n    },\n    onSuccess: (data) => {\n      setResult(data);\n    },\n    onError: (error) => {\n      console.error(\"Specific summary error:\", error);\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (patriarchName.trim()) {\n      summaryMutation.mutate({ name: patriarchName.trim(), tone });\n    }\n  };\n\n  const handlePatriarchSelect = (patriarch: PatriarchResult) => {\n    setSelectedPatriarch(patriarch);\n    specificSummaryMutation.mutate({ patriarchId: patriarch.id, tone });\n  };\n\n  const handleClose = () => {\n    setResult(null);\n    setPatriarchName(\"\");\n    setTone(\"easy\");\n    setSelectedPatriarch(null);\n    onClose();\n  };\n\n  const handleNewSearch = () => {\n    setResult(null);\n    setSelectedPatriarch(null);\n    setPatriarchName(\"\");\n  };\n\n  const toneLabels = {\n    easy: \"لغة سهلة ومبسطة\",\n    academic: \"لغة أكاديمية ومتخصصة\",\n    kids: \"ملخص مناسب للأطفال\"\n  };\n\n  const toneIcons = {\n    easy: \"fas fa-user-friends\",\n    academic: \"fas fa-graduation-cap\",\n    kids: \"fas fa-child\"\n  };\n\n  const isLoading = summaryMutation.isPending || specificSummaryMutation.isPending;\n  const hasError = summaryMutation.isError || specificSummaryMutation.isError;\n  const errorMessage = summaryMutation.error?.message || specificSummaryMutation.error?.message;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\" dir=\"rtl\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl font-bold text-center bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n            <i className=\"fas fa-brain ml-3\"></i>\n            الملخص الذكي لسير البطاركة\n          </DialogTitle>\n          <DialogDescription className=\"text-center text-gray-600 mt-2\">\n            أدخل اسم البطريرك واختر نوع اللغة للحصول على ملخص ذكي مفصل عن حياته وإنجازاته\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-6\">\n          {/* نموذج الإدخال */}\n          {(!result || result.multipleResults) && (\n            <Card className=\"bg-gradient-to-br from-blue-50 to-purple-50 border-blue-200\">\n              <CardContent className=\"p-6\">\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      <i className=\"fas fa-search ml-2\"></i>\n                      اسم أو رقم البطريرك\n                    </label>\n                    <Input\n                      type=\"text\"\n                      value={patriarchName}\n                      onChange={(e) => setPatriarchName(e.target.value)}\n                      placeholder=\"أدخل اسم أو رقم البطريرك (مثال: أثناسيوس، كيرلس، 117، 118...)\"\n                      className=\"text-lg py-6 px-4 bg-white shadow-md border-blue-300 focus:border-blue-500\"\n                      disabled={isLoading}\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      <i className=\"fas fa-palette ml-2\"></i>\n                      نوع اللغة والأسلوب\n                    </label>\n                    <Select value={tone} onValueChange={setTone} disabled={isLoading}>\n                      <SelectTrigger className=\"text-lg py-6 bg-white shadow-md border-blue-300\">\n                        <SelectValue />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {Object.entries(toneLabels).map(([value, label]) => (\n                          <SelectItem key={value} value={value} className=\"text-lg py-3\">\n                            <div className=\"flex items-center gap-3\">\n                              <i className={toneIcons[value as keyof typeof toneIcons]}></i>\n                              {label}\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    disabled={!patriarchName.trim() || isLoading}\n                    className=\"w-full py-6 text-lg bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg transform hover:scale-105 transition-all duration-300\"\n                  >\n                    {isLoading ? (\n                      <>\n                        <i className=\"fas fa-spinner fa-spin ml-2\"></i>\n                        جاري البحث والتحليل...\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-magic ml-2\"></i>\n                        إنشاء الملخص الذكي\n                      </>\n                    )}\n                  </Button>\n                </form>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* حالة التحميل */}\n          {isLoading && (\n            <Card className=\"border-blue-200\">\n              <CardContent className=\"p-8\">\n                <Loading />\n                <p className=\"text-center text-gray-600 mt-4\">\n                  جاري تحليل البيانات وتوليد الملخص الذكي...\n                </p>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* النتائج المتعددة */}\n          {result?.multipleResults && result.patriarchs && (\n            <Card className=\"border-orange-200 bg-gradient-to-br from-orange-50 to-yellow-50\">\n              <CardContent className=\"p-6\">\n                <h3 className=\"text-xl font-bold text-orange-700 mb-4\">\n                  <i className=\"fas fa-list ml-2\"></i>\n                  {result.message}\n                </h3>\n\n                <div className=\"grid gap-4\">\n                  {result.patriarchs.map((patriarch) => (\n                    <Card\n                      key={patriarch.id}\n                      className=\"cursor-pointer hover:shadow-lg transition-all duration-300 hover:border-blue-300\"\n                      onClick={() => handlePatriarchSelect(patriarch)}\n                    >\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex justify-between items-start\">\n                          <div className=\"flex-1\">\n                            <h4 className=\"font-bold text-lg text-gray-800 mb-2\">\n                              {patriarch.name}\n                            </h4>\n                            <p className=\"text-sm text-gray-600 mb-2\">\n                              {patriarch.englishName}\n                            </p>\n                            <p className=\"text-gray-700 text-sm leading-relaxed\">\n                              {patriarch.shortDescription}\n                            </p>\n                          </div>\n                          <div className=\"mr-4 text-center\">\n                            <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800 mb-2\">\n                              البابا {patriarch.orderNumber}\n                            </Badge>\n                            <p className=\"text-xs text-gray-500\">\n                              {patriarch.startYear} - {patriarch.endYear || \"الآن\"}\n                            </p>\n                          </div>\n                        </div>\n                        <div className=\"mt-3 pt-3 border-t border-gray-200\">\n                          <Button\n                            size=\"sm\"\n                            className=\"w-full bg-blue-600 hover:bg-blue-700\"\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handlePatriarchSelect(patriarch);\n                            }}\n                          >\n                            {specificSummaryMutation.isPending && selectedPatriarch?.id === patriarch.id ? (\n                              <>\n                                <i className=\"fas fa-spinner fa-spin ml-2\"></i>\n                                جاري التحميل...\n                              </>\n                            ) : (\n                              <>\n                                <i className=\"fas fa-file-alt ml-2\"></i>\n                                إنشاء الملخص الذكي\n                              </>\n                            )}\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n\n                <div className=\"mt-4 text-center\">\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleNewSearch}\n                    className=\"border-orange-300 text-orange-700 hover:bg-orange-50\"\n                  >\n                    <i className=\"fas fa-search ml-2\"></i>\n                    بحث جديد\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* نتيجة الملخص */}\n          {result?.summary && (\n            <Card className=\"border-green-200 bg-gradient-to-br from-green-50 to-blue-50\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-xl font-bold text-green-700\">\n                    <i className=\"fas fa-check-circle ml-2\"></i>\n                    الملخص الذكي\n                  </h3>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={handleNewSearch}\n                      className=\"border-green-300 text-green-700 hover:bg-green-50\"\n                    >\n                      <i className=\"fas fa-search ml-2\"></i>\n                      بحث جديد\n                    </Button>\n                    {result.patriarch && (\n                      <div className=\"flex gap-2\">\n                        <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800\">\n                          البابا {result.patriarch.orderNumber}\n                        </Badge>\n                        <Badge variant=\"secondary\" className=\"bg-purple-100 text-purple-800\">\n                          {result.patriarch.era}\n                        </Badge>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-lg p-6 shadow-md border-r-4 border-green-500\">\n                  <div className=\"prose prose-lg max-w-none text-gray-800 leading-relaxed\">\n                    {result.summary.split('\\n').map((paragraph, index) => (\n                      paragraph.trim() && (\n                        <p key={index} className=\"mb-4\">\n                          {paragraph.trim()}\n                        </p>\n                      )\n                    ))}\n                  </div>\n                </div>\n\n                {result.patriarch && (\n                  <div className=\"mt-4 p-4 bg-gray-50 rounded-lg\">\n                    <h4 className=\"font-semibold text-gray-700 mb-2\">\n                      <i className=\"fas fa-info-circle ml-2\"></i>\n                      معلومات سريعة\n                    </h4>\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                      <div>\n                        <span className=\"font-medium\">الاسم:</span>\n                        <p className=\"text-gray-600\">{result.patriarch.name}</p>\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">الاسم الإنجليزي:</span>\n                        <p className=\"text-gray-600\">{result.patriarch.englishName}</p>\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">الرقم:</span>\n                        <p className=\"text-gray-600\">البابا {result.patriarch.orderNumber}</p>\n                      </div>\n                      <div>\n                        <span className=\"font-medium\">فترة الخدمة:</span>\n                        <p className=\"text-gray-600\">\n                          {result.patriarch.startYear} - {result.patriarch.endYear || \"الآن\"}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          )}\n\n          {/* رسالة الخطأ */}\n          {hasError && (\n            <Card className=\"border-red-200 bg-red-50\">\n              <CardContent className=\"p-6\">\n                <div className=\"text-center text-red-600\">\n                  <i className=\"fas fa-exclamation-triangle text-2xl mb-2\"></i>\n                  <p className=\"font-medium\">حدث خطأ في توليد الملخص</p>\n                  <p className=\"text-sm mt-1\">\n                    {errorMessage || \"يرجى المحاولة مرة أخرى أو التأكد من اسم البطريرك\"}\n                  </p>\n                  <div className=\"mt-3 text-xs text-red-500\">\n                    <p>نصائح:</p>\n                    <ul className=\"list-disc list-inside mt-1 space-y-1\">\n                      <li>تأكد من كتابة الاسم بشكل صحيح</li>\n                      <li>جرب استخدام جزء من الاسم فقط</li>\n                      <li>تأكد من تكوين Gemini API بشكل صحيح</li>\n                    </ul>\n                  </div>\n                  <Button\n                    className=\"mt-4\"\n                    variant=\"outline\"\n                    onClick={handleNewSearch}\n                  >\n                    <i className=\"fas fa-redo ml-2\"></i>\n                    إعادة المحاولة\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* تعليمات الاستخدام */}\n          <Card className=\"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200\">\n            <CardContent className=\"p-4\">\n              <h4 className=\"font-semibold text-amber-800 mb-2\">\n                <i className=\"fas fa-lightbulb ml-2\"></i>\n                نصائح الاستخدام المحسنة\n              </h4>\n              <ul className=\"text-sm text-amber-700 space-y-1\">\n                <li>• <strong>البحث بكلمة واحدة:</strong> مثل \"كيرلس\" أو \"شنودة\" لإظهار جميع البطاركة بهذا الاسم</li>\n                <li>• <strong>البحث المحدد:</strong> مثل \"كيرلس السادس\" أو \"شنودة الثالث\" للبحث المباشر</li>\n                <li>• يمكنك البحث بالاسم العربي أو الإنجليزي</li>\n                <li>• الملخص الأكاديمي مناسب للطلاب والباحثين</li>\n                <li>• ملخص الأطفال مبسط ومناسب للصغار</li>\n                <li>• تأكد من تكوين Gemini API في إعدادات الإدارة أولاً</li>\n              </ul>\n            </CardContent>\n          </Card>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}","size_bytes":18564},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/hooks/useAuth.ts":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { getQueryFn } from \"../lib/queryClient\";\n\nexport function useAuth() {\n  const { data: user, isLoading } = useQuery({\n    queryKey: [\"/api/auth/user\"],\n    queryFn: getQueryFn({ on401: \"returnNull\" }),\n    retry: false,\n    refetchOnWindowFocus: false,\n    refetchInterval: false,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n\n  return {\n    user: user,\n    isLoading: isLoading,\n    isAuthenticated: !!user,\n  };\n}\n","size_bytes":477},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}","size_bytes":115},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1376},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/pages/about.tsx":{"content":"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { useLocation } from \"wouter\";\n\nexport default function About() {\n  const [, setLocation] = useLocation();\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n        \n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n              <i className=\"fas fa-info-circle text-4xl\"></i>\n            </div>\n            <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n              عن الموقع\n            </h1>\n            <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n              رسالتنا في حفظ وتوثيق تاريخ الكنيسة القبطية الأرثوذكسية\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12\">\n          {/* Mission */}\n          <Card className=\"shadow-lg border-0 bg-gradient-to-br from-blue-50 to-white\">\n            <CardHeader className=\"text-center\">\n              <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-target text-white text-2xl\"></i>\n              </div>\n              <CardTitle className=\"text-2xl font-amiri text-blue-600\">رسالتنا</CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-center\">\n              <p className=\"text-gray-700 leading-relaxed\">\n                نهدف إلى توثيق وحفظ تاريخ بطاركة الكنيسة القبطية الأرثوذكسية للأجيال القادمة، \n                وتقديم منصة رقمية شاملة تحتوي على معلومات دقيقة ومفصلة عن كل بطريرك \n                ومساهماته في تاريخ المسيحية.\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Vision */}\n          <Card className=\"shadow-lg border-0 bg-gradient-to-br from-purple-50 to-white\">\n            <CardHeader className=\"text-center\">\n              <div className=\"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <i className=\"fas fa-eye text-white text-2xl\"></i>\n              </div>\n              <CardTitle className=\"text-2xl font-amiri text-purple-600\">رؤيتنا</CardTitle>\n            </CardHeader>\n            <CardContent className=\"text-center\">\n              <p className=\"text-gray-700 leading-relaxed\">\n                أن نكون المرجع الأول والأكثر شمولية لتاريخ الكنيسة القبطية الأرثوذكسية، \n                ونوفر للباحثين والمهتمين مصدراً موثوقاً ومتاحاً للجميع لدراسة هذا التاريخ العريق.\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Features */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4\">مميزات الموقع</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-database text-blue-600 text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">قاعدة بيانات شاملة</h3>\n                <p className=\"text-gray-600\">\n                  معلومات مفصلة عن جميع البطاركة من القديس مرقس الرسول حتى اليوم\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-green-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-search text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">بحث متقدم</h3>\n                <p className=\"text-gray-600\">\n                  إمكانية البحث والفلترة حسب العصر والمساهمات والبدع المحاربة\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-red-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-timeline text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">الخط الزمني</h3>\n                <p className=\"text-gray-600\">\n                  عرض تفاعلي للبطاركة مرتبين تاريخياً مع إمكانية التنقل السهل\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-purple-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-mobile-alt text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">متوافق مع الأجهزة</h3>\n                <p className=\"text-gray-600\">\n                  يعمل بسلاسة على جميع الأجهزة من الهواتف الذكية إلى أجهزة الكمبيوتر\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-blue-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-shield-alt text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">معلومات موثقة</h3>\n                <p className=\"text-gray-600\">\n                  جميع المعلومات مراجعة ومؤكدة من مصادر تاريخية معتمدة\n                </p>\n              </div>\n\n              <div className=\"text-center\">\n                <div className=\"w-16 h-16 bg-orange-400 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-language text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-2\">باللغة العربية</h3>\n                <p className=\"text-gray-600\">\n                  محتوى كامل باللغة العربية مع أسماء البطاركة مترجمة\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Technology */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4\">التقنيات المستخدمة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n              <div className=\"bg-blue-50 p-6 rounded-lg text-center\">\n                <i className=\"fab fa-react text-4xl text-blue-600 mb-3\"></i>\n                <h4 className=\"font-semibold text-gray-800\">React</h4>\n                <p className=\"text-sm text-gray-600\">واجهة المستخدم</p>\n              </div>\n\n              <div className=\"bg-green-50 p-6 rounded-lg text-center\">\n                <i className=\"fas fa-database text-4xl text-green-600 mb-3\"></i>\n                <h4 className=\"font-semibold text-gray-800\">PostgreSQL</h4>\n                <p className=\"text-sm text-gray-600\">قاعدة البيانات</p>\n              </div>\n\n              <div className=\"bg-purple-50 p-6 rounded-lg text-center\">\n                <i className=\"fab fa-node-js text-4xl text-purple-600 mb-3\"></i>\n                <h4 className=\"font-semibold text-gray-800\">Node.js</h4>\n                <p className=\"text-sm text-gray-600\">الخادم الخلفي</p>\n              </div>\n\n              <div className=\"bg-yellow-50 p-6 rounded-lg text-center\">\n                <i className=\"fas fa-palette text-4xl text-yellow-600 mb-3\"></i>\n                <h4 className=\"font-semibold text-gray-800\">Tailwind CSS</h4>\n                <p className=\"text-sm text-gray-600\">التصميم</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Call to Action */}\n        <div className=\"text-center\">\n          <Card className=\"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n            <CardContent className=\"p-8\">\n              <h2 className=\"text-3xl font-amiri mb-4\">ابدأ رحلتك في استكشاف التاريخ</h2>\n              <p className=\"text-lg mb-6 text-blue-100\">\n                اكتشف قصص وحياة البطاركة الذين شكلوا تاريخ الكنيسة القبطية الأرثوذكسية\n              </p>\n              <div className=\"flex flex-wrap justify-center gap-4\">\n                <Button \n                  onClick={() => setLocation(\"/\")}\n                  className=\"bg-yellow-400 text-black hover:bg-yellow-500 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-home ml-2\"></i>\n                  العودة للرئيسية\n                </Button>\n                <Button \n                  onClick={() => setLocation(\"/church-history\")}\n                  variant=\"outline\" \n                  className=\"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-history ml-2\"></i>\n                  تاريخ الكنيسة\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":10938},"client/src/pages/admin.tsx":{"content":"import { useEffect, useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport PatriarchTable from \"@/components/admin/patriarch-table\";\nimport PatriarchForm from \"@/components/admin/patriarch-form-simple\";\nimport GeminiSettings from \"@/components/admin/gemini-settings\";\nimport ChartsDashboard from \"@/components/admin/charts-dashboard\";\nimport Loading from \"@/components/ui/loading\";\nimport type { Patriarch } from \"@shared/schema\";\nimport { getArabicHeresyName } from \"@shared/patriarch-names\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\"\n\nconst eraLabels: Record<string, string> = {\n  // English keys (for backwards compatibility)\n  apostolic: \"العصر الرسولي\",\n  golden: \"العصر الذهبي\", \n  councils: \"عصر المجامع\",\n  persecution: \"عصر الاضطهاد\",\n  modern: \"العصر الحديث\",\n  \n  // Arabic keys (actual database values)\n  \"العصر الرسولي\": \"العصر الرسولي\",\n  \"العصر الذهبي\": \"العصر الذهبي\",\n  \"عصر المجامع\": \"عصر المجامع\", \n  \"عصر الاضطهاد\": \"عصر الاضطهاد\",\n  \"العصر الحديث\": \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\": \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\": \"العصر العثماني\",\n  \"العصر الفاطمي\": \"العصر الفاطمي\",\n  \"العصر المملوكي المتأخر\": \"العصر المملوكي المتأخر\",\n  \"العصر المملوكي\": \"العصر المملوكي\",\n  \"العصر القبطي المستقل\": \"العصر القبطي المستقل\",\n  \"العصر العثماني المتأخر\": \"العصر العثماني المتأخر\",\n  \"العصر العباسي المبكر\": \"العصر العباسي المبكر\",\n  \"العصر البيزنطي\": \"العصر البيزنطي\",\n  \"العصر الأيوبي\": \"العصر الأيوبي\",\n  \"العصر العباسي\": \"العصر العباسي\",\n  \"العصر الفاطمي المتأخر\": \"العصر الفاطمي المتأخر\",\n  \"عصر التحديث\": \"عصر التحديث\",\n  \"العصر الحديث المبكر\": \"العصر الحديث المبكر\",\n  \"العصر المعاصر\": \"العصر المعاصر\",\n  \"العصر الأيوبي المتأخر\": \"العصر الأيوبي المتأخر\",\n  \"العصر العثماني المبكر\": \"العصر العثماني المبكر\",\n  \"العصر الأيوبي المبكر\": \"العصر الأيوبي المبكر\",\n  \"العصر المملوكي المبكر\": \"العصر المملوكي المبكر\",\n  \"عصر محمد علي\": \"عصر محمد علي\",\n  \"العصر الفاطمي المبكر\": \"العصر الفاطمي المبكر\"\n};\n\n// العصور الفعلية الموجودة في قاعدة البيانات مع عدد البطاركة\nconst eras = [\n  { value: \"all\", label: \"جميع العصور (118)\" },\n  { value: \"العصر الرسولي\", label: \"العصر الرسولي (11)\" },\n  { value: \"العصر الإسلامي المبكر\", label: \"العصر الإسلامي المبكر (10)\" },\n  { value: \"العصر العثماني\", label: \"العصر العثماني (9)\" },\n  { value: \"العصر الفاطمي\", label: \"العصر الفاطمي (8)\" },\n  { value: \"العصر المملوكي\", label: \"العصر المملوكي (8)\" },\n  { value: \"العصر المملوكي المتأخر\", label: \"العصر المملوكي المتأخر (8)\" },\n  { value: \"عصر المجامع\", label: \"عصر المجامع (7)\" },\n  { value: \"العصر الحديث\", label: \"العصر الحديث (6)\" },\n  { value: \"العصر العثماني المتأخر\", label: \"العصر العثماني المتأخر (6)\" },\n  { value: \"العصر القبطي المستقل\", label: \"العصر القبطي المستقل (6)\" },\n  { value: \"العصر الذهبي\", label: \"العصر الذهبي (5)\" },\n  { value: \"العصر العباسي المبكر\", label: \"العصر العباسي المبكر (5)\" },\n  { value: \"العصر الأيوبي\", label: \"العصر الأيوبي (4)\" },\n  { value: \"العصر البيزنطي\", label: \"العصر البيزنطي (4)\" },\n  { value: \"العصر العباسي\", label: \"العصر العباسي (3)\" },\n  { value: \"العصر الفاطمي المتأخر\", label: \"العصر الفاطمي المتأخر (3)\" },\n  { value: \"العصر الأيوبي المتأخر\", label: \"العصر الأيوبي المتأخر (2)\" },\n  { value: \"العصر الحديث المبكر\", label: \"العصر الحديث المبكر (2)\" },\n  { value: \"العصر المعاصر\", label: \"العصر المعاصر (2)\" },\n  { value: \"عصر الاضطهاد\", label: \"عصر الاضطهاد (2)\" },\n  { value: \"عصر التحديث\", label: \"عصر التحديث (2)\" },\n  { value: \"العصر الأيوبي المبكر\", label: \"العصر الأيوبي المبكر (1)\" },\n  { value: \"العصر العثماني المبكر\", label: \"العصر العثماني المبكر (1)\" },\n  { value: \"العصر الفاطمي المبكر\", label: \"العصر الفاطمي المبكر (1)\" },\n  { value: \"العصر المملوكي المبكر\", label: \"العصر المملوكي المبكر (1)\" },\n  { value: \"عصر محمد علي\", label: \"عصر محمد علي (1)\" },\n];\n\n// البدع المحاربة الفعلية مع عدد المرات\nconst heresiesList = [\n  { value: \"all\", label: \"جميع البدع\" },\n  { value: \"الخلقيدونية\", label: \"الخلقيدونية (94)\" },\n  { value: \"الوثنية الرومانية\", label: \"الوثنية الرومانية (8)\" },\n  { value: \"البروتستانتية\", label: \"البروتستانتية (8)\" },\n  { value: \"الغنوسية\", label: \"الغنوسية (7)\" },\n  { value: \"الأريوسية\", label: \"الأريوسية (4)\" },\n  { value: \"المانوية\", label: \"المانوية (2)\" },\n  { value: \"العلمانية\", label: \"العلمانية (2)\" },\n  { value: \"الأوريجانية\", label: \"الأوريجانية (1)\" },\n  { value: \"الوثنية\", label: \"الوثنية (1)\" },\n  { value: \"النسطورية\", label: \"النسطورية (1)\" },\n  { value: \"الأريوسية المبكرة\", label: \"الأريوسية المبكرة (1)\" },\n  { value: \"الثالوثية الجديدة\", label: \"الثالوثية الجديدة (1)\" },\n  { value: \"السابيلية\", label: \"السابيلية (1)\" },\n  { value: \"المونتانية\", label: \"المونتانية (1)\" },\n  { value: \"الإلحاد\", label: \"الإلحاد (1)\" },\n  { value: \"الوثنية اليونانية\", label: \"الوثنية اليونانية (1)\" },\n];\n\nexport default function Admin() {\n  const { isAuthenticated, isLoading, user } = useAuth();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedEra, setSelectedEra] = useState(\"all\");\n  const [selectedHeresy, setSelectedHeresy] = useState(\"all\");\n  const [showForm, setShowForm] = useState(false);\n  const [editingPatriarch, setEditingPatriarch] = useState<Patriarch | null>(null);\n  const [showGeminiModal, setShowGeminiModal] = useState(false);\n  const [showChartsModal, setShowChartsModal] = useState(false);\n  const [currentDateTime, setCurrentDateTime] = useState(new Date());\n\n  // Redirect to login if not authenticated\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      setLocation(\"/login\");\n      return;\n    }\n  }, [isAuthenticated, isLoading, setLocation]);\n\n  // Update date and time every second\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setCurrentDateTime(new Date());\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, []);\n\n  const { data: allPatriarchs, isLoading: patriarchsLoading } = useQuery<Patriarch[]>({\n    queryKey: [\"/api/patriarchs\"],\n    retry: false,\n    enabled: !!isAuthenticated,\n  });\n\n  // Filter patriarchs based on search, era, and heresy\n  const patriarchs = allPatriarchs?.filter(patriarch => {\n    const matchesSearch = !searchQuery || \n      patriarch.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      patriarch.arabicName?.toLowerCase().includes(searchQuery.toLowerCase());\n\n    const matchesEra = selectedEra === \"all\" || patriarch.era === selectedEra;\n\n    // Check if patriarch fought against selected heresy\n    const matchesHeresy = selectedHeresy === \"all\" || (() => {\n      if (!patriarch.heresiesFought) return false;\n      \n      let heresies = [];\n      try {\n        if (Array.isArray(patriarch.heresiesFought)) {\n          heresies = patriarch.heresiesFought;\n        } else if (typeof patriarch.heresiesFought === 'string') {\n          const heresiesString = patriarch.heresiesFought;\n          if (heresiesString.startsWith('{') && heresiesString.endsWith('}')) {\n            // PostgreSQL array format\n            const cleanString = heresiesString.slice(1, -1);\n            heresies = cleanString.split(',').map(item => item.replace(/\"/g, '').trim()).filter(item => item !== '');\n          } else {\n            heresies = JSON.parse(heresiesString || '[]');\n          }\n        }\n      } catch (error) {\n        return false;\n      }\n      \n      return heresies.includes(selectedHeresy);\n    })();\n\n    return matchesSearch && matchesEra && matchesHeresy;\n  }) || [];\n\n  // Calculate stats from all patriarchs data (not filtered)\n  const stats = allPatriarchs ? {\n    total: allPatriarchs.length,\n    byEra: allPatriarchs.reduce((acc: Record<string, number>, patriarch) => {\n      acc[patriarch.era] = (acc[patriarch.era] || 0) + 1;\n      return acc;\n    }, {}),\n    totalDefenders: allPatriarchs.filter(p => {\n      let heresies: string[] = [];\n      try {\n        heresies = Array.isArray(p.heresiesFought) \n          ? p.heresiesFought \n          : JSON.parse(p.heresiesFought || '[]');\n      } catch (e) {\n        heresies = [];\n      }\n      return heresies.length > 0;\n    }).length\n  } : null;\n\n  const finalStats = stats;\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  if (!isAuthenticated) {\n    return <Loading />;\n  }\n\n  const handleAddPatriarch = () => {\n    setEditingPatriarch(null);\n    setShowForm(true);\n  };\n\n  const handleEditPatriarch = (patriarch: Patriarch) => {\n    setEditingPatriarch(patriarch);\n    setShowForm(true);\n  };\n\n  const handleCloseForm = () => {\n    setShowForm(false);\n    setEditingPatriarch(null);\n  };\n\n  const handleExportData = () => {\n    if (!allPatriarchs || allPatriarchs.length === 0) {\n      toast({\n        title: \"لا توجد بيانات\",\n        description: \"لا توجد بيانات لتصديرها\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Create CSV content\n    const headers = [\"الاسم\", \"الرقم\", \"سنة البداية\", \"سنة النهاية\", \"العصر\", \"المساهمات\", \"البدع المحاربة\"];\n    const csvContent = [\n      headers.join(\",\"),\n      ...allPatriarchs.map(p => [\n        `\"${p.arabicName || p.name}\"`,\n        p.orderNumber,\n        p.startYear,\n        p.endYear || \"\",\n        `\"${eraLabels[p.era] || p.era}\"`,\n        `\"${p.contributions}\"`,\n        `\"${(() => {\n          let heresies: string[] = [];\n          try {\n            heresies = Array.isArray(p.heresiesFought) \n              ? p.heresiesFought \n              : JSON.parse(p.heresiesFought || '[]');\n          } catch (e) {\n            heresies = [];\n          }\n          return heresies.map(heresy => getArabicHeresyName(heresy)).join('; ');\n        })()}\"`\n      ].join(\",\"))\n    ].join(\"\\n\");\n\n    // Create and download file\n    const blob = new Blob([\"\\uFEFF\" + csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `بطاركة_الكنيسة_القبطية_${new Date().toISOString().split('T')[0]}.csv`;\n    link.click();\n\n    toast({\n      title: \"تم التصدير\",\n      description: \"تم تصدير البيانات بنجاح\",\n    });\n  };\n\n  const handleGenerateReport = () => {\n    if (!finalStats || !patriarchs) {\n      toast({\n        title: \"لا توجد بيانات\",\n        description: \"لا توجد بيانات كافية لإنشاء التقرير\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    // Generate comprehensive report\n    const reportContent = `\nتقرير شامل - بطاركة الكنيسة القبطية الأرثوذكسية\nتاريخ التقرير: ${new Date().toLocaleDateString('ar-EG')}\n\n===============================================\n\nالإحصائيات العامة:\n• إجمالي البطاركة: ${finalStats.total}\n• محاربو البدع: ${finalStats.totalDefenders}\n• نسبة محاربي البدع: ${((finalStats.totalDefenders / finalStats.total) * 100).toFixed(1)}%\n\nالتوزيع حسب العصور:\n${Object.entries(finalStats.byEra).map(([era, count]) => \n  `• ${eraLabels[era] || era}: ${count} بطريرك`\n).join('\\n')}\n\n===============================================\n\nقائمة البطاركة التفصيلية:\n\n${patriarchs.map((p, index) => `\n${index + 1}. ${p.arabicName || p.name}\n   الرقم: البابا ${p.orderNumber}\n   الفترة: ${p.startYear} - ${p.endYear || \"الآن\"} م\n   العصر: ${eraLabels[p.era] || p.era}\n   المساهمات: ${p.contributions}\n   البدع المحاربة: ${(() => {\n     let heresies: string[] = [];\n     try {\n       heresies = Array.isArray(p.heresiesFought) \n         ? p.heresiesFought \n         : JSON.parse(p.heresiesFought || '[]');\n     } catch (e) {\n       heresies = [];\n     }\n     return heresies.length > 0 ? heresies.map(heresy => getArabicHeresyName(heresy)).join(', ') : 'لا توجد';\n   })()}\n`).join('\\n')}\n\n===============================================\n\nملاحظات:\n• هذا التقرير تم إنشاؤه تلقائيًا من قاعدة البيانات\n• البيانات محدثة حتى تاريخ إنشاء التقرير\n• جميع المعلومات مستندة إلى المصادر التاريخية المعتمدة\n`;\n\n    // Create and download report\n    const blob = new Blob([reportContent], { type: \"text/plain;charset=utf-8;\" });\n    const link = document.createElement(\"a\");\n    link.href = URL.createObjectURL(blob);\n    link.download = `تقرير_بطاركة_الكنيسة_القبطية_${new Date().toISOString().split('T')[0]}.txt`;\n    link.click();\n\n    toast({\n      title: \"تم إنشاء التقرير\",\n      description: \"تم إنشاء التقرير الشامل بنجاح\",\n    });\n  };\n\n  const eras = [\n    { value: \"all\", label: \"جميع الفترات\" },\n    { value: \"apostolic\", label: \"العصر الرسولي\" },\n    { value: \"golden\", label: \"العصر الذهبي\" },\n    { value: \"councils\", label: \"عصر المجامع\" },\n    { value: \"persecution\", label: \"عصر الاضطهاد\" },\n    { value: \"modern\", label: \"العصر الحديث\" },\n  ];\n\n  const logout = async () => {\n    try {\n      // Check if demo user\n      if (localStorage.getItem('demo-auth')) {\n        localStorage.removeItem('demo-auth');\n        setLocation(\"/\");\n        return;\n      }\n      \n      // Call logout API for session users\n      const response = await fetch('/api/auth/logout', {\n        method: 'POST',\n        credentials: 'include'\n      });\n      \n      if (response.ok) {\n        // Redirect to homepage after successful logout\n        window.location.href = \"/\";\n      } else {\n        // If API call fails, still redirect to homepage\n        window.location.href = \"/\";\n      }\n    } catch (error) {\n      // In case of any error, redirect to homepage\n      window.location.href = \"/\";\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50\" dir=\"rtl\">\n      {/* Admin Header */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-6 shadow-lg\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"flex justify-between items-center\">\n            <div className=\"flex items-center space-x-reverse space-x-4\">\n              <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <i className=\"fas fa-tachometer-alt text-2xl\"></i>\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold font-amiri\">لوحة تحكم الإدارة</h2>\n                <div className=\"flex items-center space-x-reverse space-x-3\">\n                  <p className=\"text-blue-100 text-sm\">\n                    مرحبًا بك \n                    <span className=\"font-semibold text-yellow-200 mx-1\">\n                      {(user as any)?.name || 'المدير'}\n                    </span>\n                    - إدارة بيانات البطاركة\n                  </p>\n                  <div className=\"hidden md:flex items-center bg-white bg-opacity-10 rounded-lg px-3 py-1 backdrop-blur-sm\">\n                    <div className=\"flex items-center space-x-reverse space-x-2\">\n                      <i className=\"fas fa-calendar-alt text-yellow-300 text-sm\"></i>\n                      <span className=\"text-blue-100 text-xs font-medium\">\n                        {currentDateTime.toLocaleDateString('ar-EG', {\n                          weekday: 'short',\n                          year: 'numeric',\n                          month: 'short',\n                          day: 'numeric'\n                        })}\n                      </span>\n                      <div className=\"w-px h-4 bg-blue-300 opacity-50\"></div>\n                      <i className=\"fas fa-clock text-yellow-300 text-sm\"></i>\n                      <span className=\"text-blue-100 text-xs font-medium font-mono\">\n                        {currentDateTime.toLocaleTimeString('ar-EG', {\n                          hour: '2-digit',\n                          minute: '2-digit',\n                          second: '2-digit'\n                        })}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex items-center space-x-reverse space-x-4\">\n              <span className=\"text-blue-200\">{(user as any)?.firstName || \"الأدمن\"}</span>\n              \n              {/* زر عرض الرسومات البيانية */}\n              <Dialog open={showChartsModal} onOpenChange={setShowChartsModal}>\n                <DialogTrigger asChild>\n                  <Button \n                    variant=\"secondary\"\n                    className=\"bg-white text-green-600 hover:bg-gray-100\"\n                  >\n                    <i className=\"fas fa-chart-pie ml-2\"></i>\n                    عرض الرسومات البيانية\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-[95vw] max-h-[95vh] overflow-y-auto\" dir=\"rtl\">\n                  <DialogHeader>\n                    <DialogTitle className=\"text-center text-green-600 font-amiri text-xl\">\n                      الرسومات البيانية الشاملة لبطاركة الكنيسة القبطية\n                    </DialogTitle>\n                    <DialogDescription className=\"text-center text-gray-600\">\n                      تحليل شامل وتصور بياني لجميع البيانات التاريخية للبطاركة\n                    </DialogDescription>\n                  </DialogHeader>\n                  <div className=\"mt-4\">\n                    {allPatriarchs && <ChartsDashboard patriarchs={allPatriarchs} />}\n                  </div>\n                </DialogContent>\n              </Dialog>\n\n              <Dialog open={showGeminiModal} onOpenChange={setShowGeminiModal}>\n                <DialogTrigger asChild>\n                  <Button \n                    variant=\"secondary\"\n                    className=\"bg-white text-purple-600 hover:bg-gray-100\"\n                  >\n                    <i className=\"fas fa-cog ml-2\"></i>\n                    إعدادات Gemini AI\n                  </Button>\n                </DialogTrigger>\n                <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\" dir=\"rtl\">\n                  <DialogHeader>\n                    <DialogTitle className=\"text-center text-purple-600 font-amiri text-xl\">\n                      إعدادات Gemini AI\n                    </DialogTitle>\n                  </DialogHeader>\n                  <div className=\"mt-4\">\n                    <GeminiSettings />\n                  </div>\n                </DialogContent>\n              </Dialog>\n              \n              {/* زر تصدير البيانات CSV */}\n              <Button \n                variant=\"secondary\"\n                onClick={handleExportData}\n                className=\"bg-white text-orange-600 hover:bg-gray-100\"\n              >\n                <i className=\"fas fa-download ml-2\"></i>\n                تصدير CSV\n              </Button>\n              \n              <Button \n                variant=\"secondary\" \n                onClick={logout}\n                className=\"bg-white text-blue-600 hover:bg-gray-100\"\n              >\n                تسجيل خروج\n                <i className=\"fas fa-sign-out-alt mr-2\"></i>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Admin Content */}\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Enhanced Statistics Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8\">\n          <Card className=\"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-yellow-100 text-sm font-medium\">إجمالي البطاركة</p>\n                  <p className=\"text-4xl font-bold\">{finalStats?.total || 0}</p>\n                  <p className=\"text-yellow-200 text-xs mt-1\">مسجل في قاعدة البيانات</p>\n                </div>\n                <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                  <i className=\"fas fa-users text-3xl\"></i>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-green-500 to-green-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-green-100 text-sm font-medium\">العصر الحديث</p>\n                  <p className=\"text-4xl font-bold\">{(finalStats?.byEra?.[\"العصر الحديث\"] || 0) + (finalStats?.byEra?.[\"العصر المعاصر\"] || 0)}</p>\n                  <p className=\"text-green-200 text-xs mt-1\">بطريرك</p>\n                </div>\n                <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                  <i className=\"fas fa-calendar-alt text-3xl\"></i>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-purple-500 to-purple-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-purple-100 text-sm font-medium\">محاربو البدع</p>\n                  <p className=\"text-4xl font-bold\">{finalStats?.totalDefenders || 0}</p>\n                  <p className=\"text-purple-200 text-xs mt-1\">\n                    {finalStats?.total ? `${((finalStats.totalDefenders / finalStats.total) * 100).toFixed(1)}%` : '0%'} من المجموع\n                  </p>\n                </div>\n                <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                  <i className=\"fas fa-shield-alt text-3xl\"></i>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"bg-gradient-to-br from-blue-500 to-blue-700 text-white shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:scale-105\">\n            <CardContent className=\"p-6\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-blue-100 text-sm font-medium\">العصر الذهبي</p>\n                  <p className=\"text-4xl font-bold\">{finalStats?.byEra?.[\"العصر الذهبي\"] || 0}</p>\n                  <p className=\"text-blue-200 text-xs mt-1\">أزهى فترات الكنيسة</p>\n                </div>\n                <div className=\"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                  <i className=\"fas fa-crown text-3xl\"></i>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Enhanced Era Distribution Chart */}\n        <Card className=\"mb-8 shadow-xl border-0 overflow-hidden\">\n          <CardHeader className=\"bg-gradient-to-r from-amber-600 via-orange-600 to-red-600 text-white relative\">\n            <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n            <CardTitle className=\"font-amiri text-xl relative z-10 flex items-center\">\n              <i className=\"fas fa-history ml-3 text-2xl\"></i>\n              توزيع البطاركة حسب العصور التاريخية\n              <span className=\"mr-auto bg-white bg-opacity-20 px-3 py-1 rounded-full text-sm\">\n                {finalStats?.total || 0} بطريرك\n              </span>\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"p-8 bg-gradient-to-br from-gray-50 to-blue-50\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n              {/* Historical Eras List */}\n              <div className=\"lg:col-span-2 space-y-3\">\n                {Object.entries(finalStats?.byEra || {})\n                  .sort(([,a], [,b]) => (b as number) - (a as number))\n                  .map(([era, count], index) => {\n                    const eraColors = {\n                      'العصر الرسولي': 'from-purple-500 to-purple-700',\n                      'العصر الذهبي': 'from-yellow-500 to-amber-600',\n                      'عصر المجامع': 'from-blue-500 to-blue-700',\n                      'عصر الاضطهاد': 'from-red-500 to-red-700',\n                      'العصر القبطي المستقل': 'from-green-500 to-green-700',\n                      'العصر البيزنطي': 'from-indigo-500 to-indigo-700',\n                      'العصر الإسلامي المبكر': 'from-teal-500 to-teal-700',\n                      'العصر العباسي المبكر': 'from-cyan-500 to-cyan-700',\n                      'العصر العباسي': 'from-slate-500 to-slate-700',\n                      'العصر الفاطمي المبكر': 'from-emerald-500 to-emerald-700',\n                      'العصر الفاطمي': 'from-lime-500 to-lime-700',\n                      'العصر الفاطمي المتأخر': 'from-orange-500 to-orange-700',\n                      'العصر الأيوبي المبكر': 'from-rose-500 to-rose-700',\n                      'العصر الأيوبي': 'from-pink-500 to-pink-700',\n                      'العصر الأيوبي المتأخر': 'from-fuchsia-500 to-fuchsia-700',\n                      'العصر المملوكي المبكر': 'from-violet-500 to-violet-700',\n                      'العصر المملوكي': 'from-sky-500 to-sky-700',\n                      'العصر المملوكي المتأخر': 'from-blue-600 to-blue-800',\n                      'العصر العثماني المبكر': 'from-indigo-600 to-indigo-800',\n                      'العصر العثماني': 'from-purple-600 to-purple-800',\n                      'العصر العثماني المتأخر': 'from-pink-600 to-pink-800',\n                      'العصر الحديث المبكر': 'from-green-600 to-green-800',\n                      'عصر محمد علي': 'from-yellow-600 to-yellow-800',\n                      'عصر التحديث': 'from-orange-600 to-orange-800',\n                      'العصر الحديث': 'from-red-600 to-red-800',\n                      'العصر المعاصر': 'from-emerald-600 to-emerald-800'\n                    };\n\n                    const gradient = eraColors[era as keyof typeof eraColors] || 'from-gray-500 to-gray-700';\n                    const percentage = ((count as number) / (finalStats?.total || 1) * 100).toFixed(1);\n\n                    return (\n                      <div key={era} \n                           className={`relative overflow-hidden rounded-xl bg-gradient-to-r ${gradient} p-5 text-white shadow-lg transform hover:scale-105 transition-all duration-300 hover:shadow-xl`}>\n                        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n                        <div className=\"relative z-10 flex items-center justify-between\">\n                          <div className=\"flex-1\">\n                            <h3 className=\"font-bold text-lg mb-1 font-amiri\">{era}</h3>\n                            <div className=\"flex items-center space-x-reverse space-x-3\">\n                              <span className=\"text-3xl font-bold\">{count}</span>\n                              <span className=\"text-sm opacity-90\">بطريرك</span>\n                              <div className=\"mr-auto bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs font-medium\">\n                                {percentage}%\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center\">\n                            <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center backdrop-blur-sm\">\n                              <span className=\"text-xl font-bold\">{index + 1}</span>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Progress bar */}\n                        <div className=\"mt-3 bg-white bg-opacity-20 rounded-full h-2 overflow-hidden\">\n                          <div \n                            className=\"h-full bg-white bg-opacity-80 rounded-full transition-all duration-1000 ease-out\"\n                            style={{ width: `${percentage}%` }}\n                          ></div>\n                        </div>\n                      </div>\n                    );\n                  })}\n              </div>\n\n              {/* Summary Statistics */}\n              <div className=\"space-y-6\">\n                <div className=\"bg-white rounded-xl p-6 shadow-lg border border-gray-200\">\n                  <div className=\"text-center\">\n                    <div className=\"w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg\">\n                      <i className=\"fas fa-church text-3xl text-white\"></i>\n                    </div>\n                    <h3 className=\"text-2xl font-bold text-gray-800 mb-2\">مجموع البطاركة</h3>\n                    <p className=\"text-5xl font-black text-amber-600 mb-2\">{finalStats?.total || 0}</p>\n                    <p className=\"text-gray-600 text-sm\">بطريرك عبر التاريخ</p>\n                  </div>\n                </div>\n\n                <div className=\"bg-white rounded-xl p-6 shadow-lg border border-gray-200\">\n                  <h4 className=\"font-bold text-gray-800 mb-4 flex items-center\">\n                    <i className=\"fas fa-clock ml-2 text-blue-600\"></i>\n                    معلومات تاريخية\n                  </h4>\n                  <div className=\"space-y-3 text-sm\">\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                      <span className=\"text-gray-600\">أول بطريرك:</span>\n                      <span className=\"font-medium text-gray-800\">القديس مرقس الرسول (61م)</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                      <span className=\"text-gray-600\">البطريرك الحالي:</span>\n                      <span className=\"font-medium text-gray-800\">تواضروس الثاني (2012م)</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-100\">\n                      <span className=\"text-gray-600\">مدة التاريخ:</span>\n                      <span className=\"font-medium text-gray-800\">1964 سنة</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2\">\n                      <span className=\"text-gray-600\">عدد العصور:</span>\n                      <span className=\"font-medium text-gray-800\">{Object.keys(finalStats?.byEra || {}).length} عصر</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Action Buttons */}\n        <div className=\"flex flex-wrap gap-4 mb-8\">\n          <Button \n            onClick={handleAddPatriarch}\n            className=\"bg-yellow-400 text-black hover:bg-yellow-500\"\n          >\n            <i className=\"fas fa-plus ml-2\"></i>\n            إضافة بطريرك جديد\n          </Button>\n          <Button \n            variant=\"secondary\"\n            onClick={handleExportData}\n          >\n            <i className=\"fas fa-download ml-2\"></i>\n            تصدير البيانات\n          </Button>\n          <Button \n            variant=\"outline\"\n            onClick={handleGenerateReport}\n          >\n            <i className=\"fas fa-chart-bar ml-2\"></i>\n            تقرير شامل\n          </Button>\n        </div>\n\n        {/* Search and Filter */}\n        <Card className=\"mb-8\">\n          <CardHeader>\n            <CardTitle className=\"font-amiri\">البحث والفلترة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <Input\n                type=\"text\"\n                placeholder=\"البحث بالاسم...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n              <Select value={selectedEra} onValueChange={setSelectedEra}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"اختر الفترة\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {eras.map((era) => (\n                    <SelectItem key={era.value} value={era.value}>\n                      {era.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <Select value={selectedHeresy} onValueChange={setSelectedHeresy}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"اختر البدعة المحاربة\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {heresiesList.map(heresy => (\n                    <SelectItem key={heresy.value} value={heresy.value}>\n                      {heresy.label}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Patriarchs Management Table */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"font-amiri\">إدارة البطاركة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {patriarchsLoading ? (\n              <div className=\"flex justify-center py-8\">\n                <div className=\"loading-spinner\"></div>\n              </div>\n            ) : (\n              <PatriarchTable \n                patriarchs={patriarchs || []} \n                onEdit={handleEditPatriarch}\n              />\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Patriarch Form Modal */}\n      {showForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n            <PatriarchForm\n              patriarch={editingPatriarch || undefined}\n              onClose={handleCloseForm}\n              onSuccess={() => {\n                handleCloseForm();\n              }}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","size_bytes":38063},"client/src/pages/church-history.tsx":{"content":"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLocation } from \"wouter\";\n\nexport default function ChurchHistory() {\n  const [, setLocation] = useLocation();\n\n  const eras = [\n    {\n      name: \"العصر الرسولي\",\n      period: \"33 - 100 م\",\n      description: \"بداية المسيحية في مصر على يد القديس مرقس الرسول، وانتشار الإيمان المسيحي في الإسكندرية ووادي النيل.\",\n      keyEvents: [\n        \"وصول القديس مرقس إلى الإسكندرية عام 62 م\",\n        \"تأسيس أول كنيسة في مصر\",\n        \"انتشار المسيحية في صعيد مصر\",\n        \"تأسيس مدرسة الإسكندرية اللاهوتية\"\n      ],\n      color: \"bg-blue-100 text-blue-800\",\n      icon: \"fas fa-cross\"\n    },\n    {\n      name: \"العصر الذهبي\",\n      period: \"100 - 325 م\",\n      description: \"عصر ازدهار المدرسة اللاهوتية في الإسكندرية وظهور عظماء اللاهوت والفكر المسيحي.\",\n      keyEvents: [\n        \"تطوير مدرسة الإسكندرية اللاهوتية\",\n        \"ظهور العلامة أوريجانوس\",\n        \"تطوير المناهج اللاهوتية\",\n        \"انتشار الرهبنة في مصر\"\n      ],\n      color: \"bg-yellow-100 text-yellow-800\",\n      icon: \"fas fa-graduation-cap\"\n    },\n    {\n      name: \"عصر المجامع\",\n      period: \"325 - 451 م\",\n      description: \"فترة المجامع المسكونية ومحاربة البدع، وتأكيد العقيدة الأرثوذكسية.\",\n      keyEvents: [\n        \"مجمع نيقية الأول 325 م\",\n        \"مجمع القسطنطينية 381 م\",\n        \"مجمع أفسس 431 م\",\n        \"مجمع خلقيدونية 451 م\"\n      ],\n      color: \"bg-purple-100 text-purple-800\",\n      icon: \"fas fa-gavel\"\n    },\n    {\n      name: \"عصر الاضطهاد\",\n      period: \"451 - 640 م\",\n      description: \"فترة الصراع مع الإمبراطورية البيزنطية وصمود الكنيسة القبطية في وجه الضغوط.\",\n      keyEvents: [\n        \"رفض مجمع خلقيدونية\",\n        \"اضطهاد البيزنطيين للأقباط\",\n        \"صمود الكنيسة القبطية\",\n        \"تطوير الطقوس القبطية\"\n      ],\n      color: \"bg-red-100 text-red-800\",\n      icon: \"fas fa-shield-alt\"\n    },\n    {\n      name: \"العصر الحديث\",\n      period: \"640 م - الآن\",\n      description: \"من الفتح الإسلامي لمصر حتى اليوم، وتطور الكنيسة عبر العصور المختلفة.\",\n      keyEvents: [\n        \"الفتح الإسلامي لمصر 640 م\",\n        \"التعايش مع الحكم الإسلامي\",\n        \"النهضة القبطية الحديثة\",\n        \"الكنيسة في العصر المعاصر\"\n      ],\n      color: \"bg-green-100 text-green-800\",\n      icon: \"fas fa-calendar-alt\"\n    }\n  ];\n\n  const patriarchContributions = [\n    {\n      patriarch: \"القديس مرقس الرسول\",\n      contribution: \"تأسيس الكنيسة المصرية وكتابة الإنجيل الثاني\",\n      period: \"العصر الرسولي\"\n    },\n    {\n      patriarch: \"ديمتريوس الكرام\",\n      contribution: \"تنظيم مدرسة الإسكندرية وتطوير النظام الرهباني\",\n      period: \"العصر الذهبي\"\n    },\n    {\n      patriarch: \"أثناسيوس الرسولي\",\n      contribution: \"محاربة الآريوسية وتأكيد لاهوت المسيح\",\n      period: \"عصر المجامع\"\n    },\n    {\n      patriarch: \"كيرلس الكبير\",\n      contribution: \"محاربة النسطورية وتأكيد وحدة طبيعة المسيح\",\n      period: \"عصر المجامع\"\n    },\n    {\n      patriarch: \"بنيامين الأول\",\n      contribution: \"قيادة الكنيسة خلال الفتح الإسلامي\",\n      period: \"العصر الحديث\"\n    },\n    {\n      patriarch: \"كيرلس الرابع\",\n      contribution: \"النهضة التعليمية والثقافية الحديثة\",\n      period: \"العصر الحديث\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n        \n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n              <i className=\"fas fa-history text-4xl\"></i>\n            </div>\n            <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n              تاريخ الكنيسة القبطية الأرثوذكسية\n            </h1>\n            <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n              رحلة عبر عشرين قرناً من الإيمان والصمود\n            </p>\n            <p className=\"text-lg text-blue-200 max-w-3xl mx-auto\">\n              من تأسيسها على يد القديس مرقس الرسول حتى يومنا هذا، \n              تحمل الكنيسة القبطية إرثاً عريقاً من الإيمان والتقليد الأرثوذكسي\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Timeline */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4\">العصور التاريخية</CardTitle>\n            <p className=\"text-gray-600\">تطور الكنيسة القبطية عبر العصور المختلفة</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-8\">\n              {eras.map((era, index) => (\n                <div key={index} className=\"relative\">\n                  {index < eras.length - 1 && (\n                    <div className=\"absolute right-8 top-16 w-0.5 h-full bg-gray-300\"></div>\n                  )}\n                  <div className=\"flex items-start\">\n                    <div className=\"flex-shrink-0 w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center text-white relative z-10\">\n                      <i className={`${era.icon} text-xl`}></i>\n                    </div>\n                    <div className=\"mr-6 flex-1\">\n                      <Card className=\"border-r-4 border-blue-600\">\n                        <CardHeader>\n                          <div className=\"flex flex-wrap items-center justify-between gap-4\">\n                            <div>\n                              <CardTitle className=\"text-xl font-amiri text-blue-600\">{era.name}</CardTitle>\n                              <p className=\"text-gray-600\">{era.period}</p>\n                            </div>\n                            <Badge className={era.color}>{era.name}</Badge>\n                          </div>\n                        </CardHeader>\n                        <CardContent>\n                          <p className=\"text-gray-700 leading-relaxed mb-4\">{era.description}</p>\n                          <div>\n                            <h4 className=\"font-semibold text-gray-800 mb-2\">الأحداث الرئيسية:</h4>\n                            <ul className=\"list-disc list-inside space-y-1 text-gray-600\">\n                              {era.keyEvents.map((event, eventIndex) => (\n                                <li key={eventIndex}>{event}</li>\n                              ))}\n                            </ul>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Key Patriarchs */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4\">بطاركة مؤثرون في التاريخ</CardTitle>\n            <p className=\"text-gray-600\">أهم المساهمات البطريركية عبر العصور</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {patriarchContributions.map((item, index) => (\n                <Card key={index} className=\"border-r-4 border-yellow-400\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start\">\n                      <div className=\"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center ml-4 flex-shrink-0\">\n                        <i className=\"fas fa-user text-blue-600\"></i>\n                      </div>\n                      <div>\n                        <h3 className=\"font-bold text-blue-600 font-amiri\">{item.patriarch}</h3>\n                        <Badge className=\"mb-2 text-xs\" variant=\"outline\">{item.period}</Badge>\n                        <p className=\"text-gray-700\">{item.contribution}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Important Facts */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4\">حقائق مهمة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              <div className=\"text-center bg-blue-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-calendar text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-blue-600\">62 م</h3>\n                <p className=\"text-gray-700\">تأسيس الكنيسة المصرية</p>\n              </div>\n\n              <div className=\"text-center bg-yellow-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-crown text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-yellow-600\">118</h3>\n                <p className=\"text-gray-700\">عدد البطاركة حتى الآن</p>\n              </div>\n\n              <div className=\"text-center bg-green-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-globe text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-green-600\">20</h3>\n                <p className=\"text-gray-700\">قرناً من التاريخ</p>\n              </div>\n\n              <div className=\"text-center bg-purple-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-purple-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-book text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-purple-600\">الأولى</h3>\n                <p className=\"text-gray-700\">مدرسة لاهوتية في التاريخ</p>\n              </div>\n\n              <div className=\"text-center bg-red-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-church text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-red-600\">الإسكندرية</h3>\n                <p className=\"text-gray-700\">مقر البطريركية التاريخي</p>\n              </div>\n\n              <div className=\"text-center bg-orange-50 p-6 rounded-lg\">\n                <div className=\"w-16 h-16 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <i className=\"fas fa-language text-white text-2xl\"></i>\n                </div>\n                <h3 className=\"text-2xl font-bold text-orange-600\">القبطية</h3>\n                <p className=\"text-gray-700\">آخر مراحل اللغة المصرية القديمة</p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Call to Action */}\n        <div className=\"text-center\">\n          <Card className=\"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n            <CardContent className=\"p-8\">\n              <h2 className=\"text-3xl font-amiri mb-4\">استكشف المزيد</h2>\n              <p className=\"text-lg mb-6 text-blue-100\">\n                تعرف على تفاصيل أكثر عن كل بطريرك ومساهماته في هذا التاريخ العريق\n              </p>\n              <div className=\"flex flex-wrap justify-center gap-4\">\n                <Button \n                  onClick={() => setLocation(\"/\")}\n                  className=\"bg-yellow-400 text-black hover:bg-yellow-500 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-users ml-2\"></i>\n                  تصفح البطاركة\n                </Button>\n                <Button \n                  onClick={() => setLocation(\"/references\")}\n                  variant=\"outline\" \n                  className=\"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-book ml-2\"></i>\n                  المراجع\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":14823},"client/src/pages/contact.tsx":{"content":"\nimport { useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useLocation } from \"wouter\";\n\nexport default function Contact() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    subject: \"\",\n    category: \"\",\n    message: \"\"\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Here you would typically send the form data to your backend\n    toast({\n      title: \"تم إرسال رسالتك\",\n      description: \"شكراً لتواصلك معنا. سنرد عليك في أقرب وقت ممكن.\",\n    });\n    setFormData({\n      name: \"\",\n      email: \"\",\n      subject: \"\",\n      category: \"\",\n      message: \"\"\n    });\n  };\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const contactInfo = [\n    {\n      icon: \"fas fa-envelope\",\n      title: \"البريد الإلكتروني\",\n      content: \"info@coptic-patriarchs.org\",\n      color: \"text-blue-600\"\n    },\n    {\n      icon: \"fas fa-phone\",\n      title: \"الهاتف\",\n      content: \"+20 2 1234-5678\",\n      color: \"text-green-600\"\n    },\n    {\n      icon: \"fas fa-map-marker-alt\",\n      title: \"العنوان\",\n      content: \"القاهرة، جمهورية مصر العربية\",\n      color: \"text-red-600\"\n    },\n    {\n      icon: \"fas fa-clock\",\n      title: \"ساعات العمل\",\n      content: \"الأحد - الخميس: 9:00 ص - 5:00 م\",\n      color: \"text-purple-600\"\n    }\n  ];\n\n  const faqItems = [\n    {\n      question: \"كيف يمكنني المساهمة في إثراء المحتوى؟\",\n      answer: \"يمكنك إرسال معلومات موثقة أو مصادر جديدة عبر نموذج الاتصال، وسيقوم فريقنا بمراجعتها.\"\n    },\n    {\n      question: \"هل يمكنني استخدام المحتوى للأغراض الأكاديمية؟\",\n      answer: \"نعم، يمكن استخدام المحتوى للأغراض التعليمية والأكاديمية مع ذكر المصدر.\"\n    },\n    {\n      question: \"كيف تتأكدون من دقة المعلومات؟\",\n      answer: \"نعتمد على مصادر موثقة ومراجعة من قبل خبراء في التاريخ الكنسي.\"\n    },\n    {\n      question: \"هل تخططون لإضافة لغات أخرى؟\",\n      answer: \"نعمل حالياً على إضافة النسخة الإنجليزية وربما لغات أخرى في المستقبل.\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n        \n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n              <i className=\"fas fa-envelope text-4xl\"></i>\n            </div>\n            <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n              اتصل بنا\n            </h1>\n            <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n              نحن هنا للإجابة على استفساراتكم ومساعدتكم\n            </p>\n            <p className=\"text-lg text-blue-200 max-w-3xl mx-auto\">\n              سواء كانت لديكم أسئلة أو اقتراحات أو ترغبون في المساهمة، \n              فنحن نرحب بتواصلكم معنا\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12\">\n          {/* Contact Form */}\n          <Card className=\"shadow-lg\">\n            <CardHeader>\n              <CardTitle className=\"text-2xl font-amiri text-blue-600 flex items-center\">\n                <i className=\"fas fa-paper-plane ml-3\"></i>\n                أرسل رسالة\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      الاسم *\n                    </label>\n                    <Input\n                      type=\"text\"\n                      required\n                      value={formData.name}\n                      onChange={(e) => handleInputChange('name', e.target.value)}\n                      placeholder=\"اسمك الكامل\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      البريد الإلكتروني *\n                    </label>\n                    <Input\n                      type=\"email\"\n                      required\n                      value={formData.email}\n                      onChange={(e) => handleInputChange('email', e.target.value)}\n                      placeholder=\"your.email@example.com\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    نوع الاستفسار\n                  </label>\n                  <Select value={formData.category} onValueChange={(value) => handleInputChange('category', value)}>\n                    <SelectTrigger>\n                      <SelectValue placeholder=\"اختر نوع الاستفسار\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"general\">استفسار عام</SelectItem>\n                      <SelectItem value=\"content\">تصحيح أو إضافة محتوى</SelectItem>\n                      <SelectItem value=\"technical\">مشكلة تقنية</SelectItem>\n                      <SelectItem value=\"collaboration\">تعاون أو شراكة</SelectItem>\n                      <SelectItem value=\"feedback\">ملاحظات واقتراحات</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    الموضوع *\n                  </label>\n                  <Input\n                    type=\"text\"\n                    required\n                    value={formData.subject}\n                    onChange={(e) => handleInputChange('subject', e.target.value)}\n                    placeholder=\"موضوع الرسالة\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    الرسالة *\n                  </label>\n                  <Textarea\n                    required\n                    rows={6}\n                    value={formData.message}\n                    onChange={(e) => handleInputChange('message', e.target.value)}\n                    placeholder=\"اكتب رسالتك هنا...\"\n                  />\n                </div>\n\n                <Button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-3\">\n                  <i className=\"fas fa-paper-plane ml-2\"></i>\n                  إرسال الرسالة\n                </Button>\n              </form>\n            </CardContent>\n          </Card>\n\n          {/* Contact Information */}\n          <div className=\"space-y-6\">\n            <Card className=\"shadow-lg\">\n              <CardHeader>\n                <CardTitle className=\"text-2xl font-amiri text-blue-600 flex items-center\">\n                  <i className=\"fas fa-info-circle ml-3\"></i>\n                  معلومات الاتصال\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  {contactInfo.map((info, index) => (\n                    <div key={index} className=\"flex items-center\">\n                      <div className={`w-12 h-12 rounded-full flex items-center justify-center ml-4 ${info.color.replace('text-', 'bg-').replace('-600', '-100')}`}>\n                        <i className={`${info.icon} ${info.color}`}></i>\n                      </div>\n                      <div>\n                        <h3 className=\"font-semibold text-gray-800\">{info.title}</h3>\n                        <p className=\"text-gray-600\">{info.content}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"shadow-lg\">\n              <CardHeader>\n                <CardTitle className=\"text-2xl font-amiri text-purple-600 flex items-center\">\n                  <i className=\"fas fa-users ml-3\"></i>\n                  فريق العمل\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-3\">\n                      <i className=\"fas fa-user-tie text-white text-xl\"></i>\n                    </div>\n                    <h3 className=\"font-semibold text-gray-800\">فريق البحث التاريخي</h3>\n                    <p className=\"text-sm text-gray-600\">متخصصون في التاريخ الكنسي</p>\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-3\">\n                      <i className=\"fas fa-code text-white text-xl\"></i>\n                    </div>\n                    <h3 className=\"font-semibold text-gray-800\">فريق التطوير التقني</h3>\n                    <p className=\"text-sm text-gray-600\">مطورون ومصممون</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n\n        {/* FAQ Section */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-question-circle ml-3\"></i>\n              الأسئلة الشائعة\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {faqItems.map((item, index) => (\n                <Card key={index} className=\"border-r-4 border-yellow-400\">\n                  <CardContent className=\"p-6\">\n                    <h3 className=\"font-semibold text-gray-800 mb-3 flex items-start\">\n                      <i className=\"fas fa-question text-yellow-600 mt-1 ml-2 flex-shrink-0\"></i>\n                      {item.question}\n                    </h3>\n                    <p className=\"text-gray-700 leading-relaxed\">{item.answer}</p>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Social Media */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-purple-600 mb-4\">تابعنا على وسائل التواصل</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex justify-center space-x-reverse space-x-6\">\n              <Button variant=\"outline\" className=\"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white\">\n                <i className=\"fab fa-facebook text-xl\"></i>\n              </Button>\n              <Button variant=\"outline\" className=\"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-white\">\n                <i className=\"fab fa-twitter text-xl\"></i>\n              </Button>\n              <Button variant=\"outline\" className=\"border-red-600 text-red-600 hover:bg-red-600 hover:text-white\">\n                <i className=\"fab fa-youtube text-xl\"></i>\n              </Button>\n              <Button variant=\"outline\" className=\"border-green-600 text-green-600 hover:bg-green-600 hover:text-white\">\n                <i className=\"fab fa-whatsapp text-xl\"></i>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Call to Action */}\n        <div className=\"text-center\">\n          <Card className=\"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n            <CardContent className=\"p-8\">\n              <h2 className=\"text-3xl font-amiri mb-4\">نقدر تواصلكم معنا</h2>\n              <p className=\"text-lg mb-6 text-blue-100\">\n                رأيكم واقتراحاتكم تساعدنا في تطوير الموقع وتحسين الخدمة\n              </p>\n              <Button \n                onClick={() => setLocation(\"/\")}\n                className=\"bg-yellow-400 text-black hover:bg-yellow-500 px-8 py-3 text-lg\"\n              >\n                <i className=\"fas fa-home ml-2\"></i>\n                العودة للرئيسية\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":14601},"client/src/pages/home.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\";\nimport PatriarchTimeline from \"@/components/patriarch-timeline\";\nimport PatriarchCard from \"@/components/patriarch-card\";\nimport AskPatriarchChatbot from \"@/components/ask-patriarch-chatbot\";\nimport SmartSummaryModal from \"@/components/smart-summary-modal\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport HomeCharts from \"@/components/home-charts\";\nimport Loading from \"@/components/ui/loading\";\nimport type { Patriarch } from \"@shared/schema\";\nimport { getArabicHeresyName } from \"@shared/patriarch-names\";\nimport { MessageCircle, Crown } from \"lucide-react\";\n\nexport default function Home() {\n  const { isAuthenticated } = useAuth();\n  const [, setLocation] = useLocation();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [selectedEra, setSelectedEra] = useState(\"all\");\n  const [selectedHeresies, setSelectedHeresies] = useState<string[]>([]);\n  const [viewMode, setViewMode] = useState<\"cards\" | \"timeline\" | \"charts\">(\"cards\");\n  const [showChatbot, setShowChatbot] = useState(false);\n  const [showSmartSummary, setShowSmartSummary] = useState(false);\n\n  // Build query parameters properly\n  const queryParams = new URLSearchParams();\n  if (searchQuery && searchQuery.trim()) {\n    queryParams.set('search', searchQuery.trim());\n  }\n  if (selectedEra !== 'all') {\n    queryParams.set('era', selectedEra);\n  }\n  if (selectedHeresies.length > 0) {\n    queryParams.set('heresies', selectedHeresies.join(','));\n  }\n\n  const { data: patriarchs = [], isLoading, refetch } = useQuery<Patriarch[]>({\n    queryKey: [\"/api/patriarchs\", searchQuery, selectedEra, selectedHeresies],\n    queryFn: async () => {\n      const params = new URLSearchParams();\n      if (searchQuery?.trim()) {\n        params.append('search', searchQuery.trim());\n      }\n      if (selectedEra && selectedEra !== 'all') {\n        params.append('era', selectedEra);\n      }\n      if (selectedHeresies.length > 0) {\n        params.append('heresies', selectedHeresies.join(','));\n      }\n\n      const response = await fetch(`/api/patriarchs?${params.toString()}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch patriarchs');\n      }\n      return response.json();\n    },\n    retry: false,\n    refetchOnWindowFocus: false,\n  });\n\n  const handleSearch = () => {\n    const trimmedInput = searchInput.trim();\n    console.log('Manual search triggered for:', trimmedInput);\n    setSearchQuery(trimmedInput);\n  };\n\n  // Real-time search with debounce effect\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      const trimmedInput = searchInput.trim();\n      console.log('Auto search triggered for:', trimmedInput);\n      setSearchQuery(trimmedInput);\n    }, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [searchInput]);\n\n  // Auto-search when filters change\n  useEffect(() => {\n    console.log('Filters changed - forcing refetch:', { selectedEra, selectedHeresies });\n    refetch();\n  }, [selectedEra, selectedHeresies, searchQuery, refetch]);\n\n  // Extract unique eras from database\n  const uniqueEras = Array.from(new Set((patriarchs || []).map(p => p.era))).filter(Boolean).sort();\n\n  // Extract unique heresies for filtering with proper parsing\n  const allHeresies = Array.from(\n    new Set(\n      (patriarchs || []).flatMap(p => {\n        let heresies = [];\n        try {\n          if (Array.isArray(p.heresiesFought)) {\n            heresies = p.heresiesFought;\n          } else if (typeof p.heresiesFought === 'string') {\n            const heresiesString = p.heresiesFought;\n            if (heresiesString.startsWith('{') && heresiesString.endsWith('}')) {\n              // PostgreSQL array format\n              const cleanString = heresiesString.slice(1, -1);\n              heresies = cleanString.split(',').map(item => item.replace(/\"/g, '').trim()).filter(item => item !== '');\n            } else if (heresiesString.trim().startsWith('[')) {\n              // JSON array format\n              heresies = JSON.parse(heresiesString || '[]');\n            } else if (heresiesString.includes(',')) {\n              // Comma-separated format\n              heresies = heresiesString.split(',').map(item => item.trim()).filter(item => item !== '');\n            } else if (heresiesString.trim()) {\n              // Single heresy\n              heresies = [heresiesString.trim()];\n            }\n          }\n        } catch (e) {\n          console.error('Error parsing heresies for patriarch:', p.name, e);\n          heresies = [];\n        }\n        return heresies;\n      })\n    )\n  ).filter(Boolean);\n\n  // Define preferred heresies order - الأريوسية should ALWAYS be first\n  const sortedHeresies = [];\n\n  // Force الأريوسية to be first if it exists\n  if (allHeresies.includes('الأريوسية')) {\n    sortedHeresies.push('الأريوسية');\n  }\n\n  // Add other important heresies in preferred order\n  const preferredOrder = ['النسطورية', 'الخلقيدونية', 'الغنوصية', 'المونوثيليتية', 'الأبوليناريوسية', 'السابيلية'];\n  preferredOrder.forEach(heresy => {\n    if (allHeresies.includes(heresy) && !sortedHeresies.includes(heresy)) {\n      sortedHeresies.push(heresy);\n    }\n  });\n\n  // Add remaining heresies alphabetically\n  const remainingHeresies = allHeresies\n    .filter(heresy => !sortedHeresies.includes(heresy))\n    .sort((a, b) => a.localeCompare(b, 'ar'));\n\n  sortedHeresies.push(...remainingHeresies);\n\n  console.log('All extracted heresies:', allHeresies);\n  console.log('Sorted heresies (الأريوسية forced first):', sortedHeresies);\n\n  // Use patriarchs directly from backend - no frontend filtering needed\n  const filteredPatriarchs = patriarchs || [];\n\n  const handleHeresyToggle = (heresy: string) => {\n    setSelectedHeresies(prev => {\n      const newSelection = prev.includes(heresy)\n        ? prev.filter(h => h !== heresy)\n        : [...prev, heresy];\n      console.log('Heresy selection changed:', newSelection);\n      return newSelection;\n    });\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n\n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"mb-8\">\n              <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n                <i className=\"fas fa-church text-4xl\"></i>\n              </div>\n              <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n                بطاركة الكنيسة القبطية الأرثوذكسية\n              </h1>\n              <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n                رحلة عبر التاريخ مع أعظم رجال الإيمان في المسيحية الشرقية\n              </p>\n              <p className=\"text-lg text-blue-200 max-w-3xl mx-auto\">\n                اكتشف تاريخ وحياة بطاركة الكنيسة القبطية الأرثوذكسية عبر العصور،\n                من العصر الرسولي حتى يومنا هذا\n              </p>\n            </div>\n\n            {/* Search Section */}\n            <Card className=\"bg-white bg-opacity-10 backdrop-blur-md border-white border-opacity-20 shadow-2xl\">\n              <CardContent className=\"p-8\">\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                  {/* Main Search */}\n                  <div className=\"md:col-span-2\">\n                    <div className=\"relative\">\n                      <i className=\"fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n                      <Input\n                        type=\"text\"\n                        placeholder=\"ابحث عن بطريرك بالاسم أو السيرة... (اكتب واضغط Enter)\"\n                        value={searchInput}\n                        onChange={(e) => {\n                          const newValue = e.target.value;\n                          setSearchInput(newValue);\n                          console.log('Search input changed:', newValue);\n                        }}\n                        onKeyDown={(e) => {\n                          if (e.key === 'Enter') {\n                            e.preventDefault();\n                            handleSearch();\n                          }\n                        }}\n                        className=\"pl-4 pr-12 py-4 text-lg bg-white bg-opacity-90 border-none rounded-xl shadow-lg focus:shadow-xl transition-all duration-300\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Search Button */}\n                  <div>\n                    <Button\n                      onClick={handleSearch}\n                      className=\"w-full py-4 text-lg bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center\"\n                      disabled={isLoading}\n                    >\n                      {isLoading ? (\n                        <>\n                          <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                          جاري البحث...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"fas fa-search mr-2\"></i>\n                          بحث\n                        </>\n                      )}\n                    </Button>\n                  </div>\n\n                  {/* Era Filter */}\n                  <div>\n                    <Select value={selectedEra} onValueChange={setSelectedEra}>\n                      <SelectTrigger className=\"py-4 text-lg bg-white bg-opacity-90 border-none rounded-xl shadow-lg\">\n                        <SelectValue placeholder=\"اختر العصر\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">جميع العصور ({filteredPatriarchs.length})</SelectItem>\n                        {uniqueEras.map((era) => {\n                          const count = patriarchs?.filter(p => p.era === era).length || 0;\n                          return (\n                            <SelectItem key={era} value={era}>{era} ({count})</SelectItem>\n                          );\n                        })}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n\n                {/* Heresies Filter - الأريوسية appears first */}\n                {sortedHeresies.length > 0 && (\n                  <div className=\"mt-6\">\n                    <p className=\"text-white text-sm font-medium mb-3\">\n                      <i className=\"fas fa-filter ml-2\"></i>\n                      تصفية حسب البدع المحاربة:\n                    </p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {sortedHeresies.slice(0, 12).map((heresy) => (\n                        <Badge\n                          key={heresy}\n                          variant={selectedHeresies.includes(heresy) ? \"default\" : \"outline\"}\n                          className={`cursor-pointer transition-all duration-200 ${\n                            selectedHeresies.includes(heresy)\n                              ? \"bg-yellow-400 text-black hover:bg-yellow-500\"\n                              : \"bg-white bg-opacity-20 text-white hover:bg-white hover:bg-opacity-30\"\n                          } ${heresy === 'الأريوسية' ? 'ring-2 ring-yellow-300 font-bold text-lg' : ''}`}\n                          onClick={() => handleHeresyToggle(heresy)}\n                        >\n                          {heresy === 'الأريوسية' && '⭐ '}\n                          {getArabicHeresyName(heresy)}\n                          {heresy === 'الأريوسية' && ' (الأهم)'}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* Clear Filters Button */}\n                {(searchQuery || selectedEra !== \"all\" || selectedHeresies.length > 0) && (\n                  <div className=\"flex justify-center mt-4\">\n                    <Button\n                      onClick={() => {\n                        setSearchQuery(\"\");\n                        setSearchInput(\"\");\n                        setSelectedEra(\"all\");\n                        setSelectedHeresies([]);\n                      }}\n                      variant=\"outline\"\n                      className=\"bg-white bg-opacity-20 text-white border-white border-opacity-30 hover:bg-white hover:bg-opacity-30\"\n                    >\n                      <i className=\"fas fa-times ml-2\"></i>\n                      إزالة جميع الفلاتر\n                    </Button>\n                  </div>\n                )}\n\n                {/* View Mode Toggle */}\n                <div className=\"flex justify-center gap-4 mt-6 flex-wrap\">\n                  <Button\n                    variant={viewMode === \"cards\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"cards\")}\n                    className={`${viewMode === \"cards\" ? \"bg-blue-600 text-white\" : \"bg-white bg-opacity-20 text-blue-600 border-blue-600\"} px-6 py-3`}\n                  >\n                    <i className=\"fas fa-th-large ml-2\"></i>\n                    البطاقات\n                  </Button>\n\n                  <Button\n                    variant={viewMode === \"timeline\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"timeline\")}\n                    className={`${viewMode === \"timeline\" ? \"bg-purple-600 text-white\" : \"bg-white bg-opacity-20 text-purple-600 border-purple-600\"} px-6 py-3`}\n                  >\n                    <i className=\"fas fa-history ml-2\"></i>\n                    الخط الزمني\n                  </Button>\n\n                  <Button\n                    variant={viewMode === \"charts\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"charts\")}\n                    className={`${viewMode === \"charts\" ? \"bg-orange-600 text-white\" : \"bg-white bg-opacity-20 text-orange-600 border-orange-600\"} px-6 py-3`}\n                  >\n                    <i className=\"fas fa-chart-bar ml-2\"></i>\n                    الإحصائيات والتحليلات\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Results Section */}\n      <div className=\"container mx-auto px-4 py-12\">\n        {/* Stats Bar */}\n        <div className=\"bg-white rounded-2xl shadow-lg p-6 mb-8\">\n          {/* Active Filters Display */}\n          {(searchQuery || selectedEra !== \"all\" || selectedHeresies.length > 0) && (\n            <div className=\"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200\">\n              <p className=\"text-sm text-blue-800 font-medium mb-2\">الفلاتر المطبقة:</p>\n              <div className=\"flex flex-wrap gap-2\">\n                {searchQuery && (\n                  <Badge className=\"bg-blue-100 text-blue-800\">\n                    بحث: \"{searchQuery}\"\n                  </Badge>\n                )}\n                {selectedEra !== \"all\" && (\n                  <Badge className=\"bg-purple-100 text-purple-800\">\n                    العصر: {selectedEra}\n                  </Badge>\n                )}\n                {selectedHeresies.map(heresy => (\n                  <Badge key={heresy} className=\"bg-red-100 text-red-800\">\n                    بدعة: {heresy}\n                  </Badge>\n                ))}\n              </div>\n            </div>\n          )}\n\n          <div className=\"flex flex-wrap items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-8\">\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-blue-600\">{filteredPatriarchs.length}</p>\n                <p className=\"text-sm text-gray-600\">\n                  بطريرك {(searchQuery || selectedEra !== \"all\" || selectedHeresies.length > 0) && \"مطابق\"}\n                </p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-purple-600\">\n                  {filteredPatriarchs.filter(p => {\n                    let heresies = [];\n                    try {\n                      if (Array.isArray(p.heresiesFought)) {\n                        heresies = p.heresiesFought;\n                      } else if (typeof p.heresiesFought === 'string') {\n                        const heresiesString = p.heresiesFought;\n                        if (heresiesString.startsWith('{') && heresiesString.endsWith('}')) {\n                          const cleanString = heresiesString.slice(1, -1);\n                          heresies = cleanString.split(',').map(item => item.replace(/\"/g, '').trim()).filter(item => item !== '');\n                        } else {\n                          heresies = JSON.parse(heresiesString || '[]');\n                        }\n                      }\n                    } catch (e) {\n                      heresies = [];\n                    }\n                    return heresies.length > 0;\n                  }).length}\n                </p>\n                <p className=\"text-sm text-gray-600\">محارب بدع</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-green-600\">\n                  {new Set(filteredPatriarchs.map(p => p.era)).size}\n                </p>\n                <p className=\"text-sm text-gray-600\">عصر تاريخي</p>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 flex-wrap justify-center md:justify-start\">\n              <Button\n                onClick={() => setShowChatbot(true)}\n                className=\"bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 px-6 py-3 shadow-md hover:shadow-lg transition-all duration-300\"\n              >\n                <i className=\"fas fa-comments ml-2\"></i>\n                اسأل البطريرك\n              </Button>\n\n              {isAuthenticated && (\n                <Button\n                  onClick={() => setLocation(\"/admin\")}\n                  className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 px-6 py-3\"\n                >\n                  <i className=\"fas fa-cog ml-2\"></i>\n                  لوحة الإدارة\n                </Button>\n              )}\n\n              {!isAuthenticated && (\n                <Button\n                  onClick={() => setLocation(\"/login\")}\n                  variant=\"outline\"\n                  className=\"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white px-6 py-3\"\n                >\n                  <i className=\"fas fa-sign-in-alt ml-2\"></i>\n                  دخول الإدارة\n                </Button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Content Display */}\n        {viewMode === \"timeline\" ? (\n          <PatriarchTimeline patriarchs={filteredPatriarchs} />\n        ) : viewMode === \"charts\" ? (\n          <HomeCharts patriarchs={filteredPatriarchs} />\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8\">\n            {filteredPatriarchs.map((patriarch) => (\n              <PatriarchCard key={patriarch.id} patriarch={patriarch} />\n            ))}\n          </div>\n        )}\n\n        {filteredPatriarchs.length === 0 && (\n          <Card className=\"text-center py-16\">\n            <CardContent>\n              <i className=\"fas fa-search text-6xl text-gray-300 mb-4\"></i>\n              <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">لا توجد نتائج</h3>\n              <p className=\"text-gray-500\">جرب تغيير معايير البحث أو المرشحات</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Chatbot */}\n      {showChatbot && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] relative\">\n            <Button\n              onClick={() => setShowChatbot(false)}\n              className=\"absolute top-4 left-4 z-10 rounded-full w-8 h-8 p-0\"\n              variant=\"ghost\"\n            >\n              ✕\n            </Button>\n            <AskPatriarchChatbot />\n          </div>\n        </div>\n      )}\n\n      {/* Smart Summary Modal */}\n      <SmartSummaryModal\n        isOpen={showSmartSummary}\n        onClose={() => setShowSmartSummary(false)}\n      />\n    </div>\n  );\n}","size_bytes":22268},"client/src/pages/landing.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from \"@/components/ui/sheet\";\nimport PatriarchTimeline from \"@/components/patriarch-timeline\";\nimport PatriarchCard from \"@/components/patriarch-card\";\nimport AskPatriarchChatbot from \"@/components/ask-patriarch-chatbot\";\nimport HomeCharts from \"@/components/home-charts\";\nimport Loading from \"@/components/ui/loading\";\nimport type { Patriarch } from \"@shared/schema\";\nimport { getArabicHeresyName } from \"@shared/patriarch-names\";\nimport { MessageCircle, Crown } from \"lucide-react\";\n\n// Era values as they exist in the database\nconst arabicEras = [\n  \"العصر الرسولي\",\n  \"العصر الذهبي\", \n  \"العصر الوسيط\",\n  \"العصر الإسلامي المبكر\",\n  \"العصر الوسيط المتأخر\",\n  \"العصر العثماني المبكر\",\n  \"العصر الحديث\"\n];\n\nexport default function Landing() {\n  const { isAuthenticated } = useAuth();\n  const [, setLocation] = useLocation();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [selectedEra, setSelectedEra] = useState(\"all\");\n  const [selectedHeresies, setSelectedHeresies] = useState<string[]>([]);\n  const [viewMode, setViewMode] = useState<\"cards\" | \"timeline\" | \"charts\">(\"cards\");\n\n  const { data: patriarchs, isLoading } = useQuery<Patriarch[]>({\n    queryKey: [\"/api/patriarchs\", { search: searchQuery, era: selectedEra !== \"all\" ? selectedEra : undefined }],\n    retry: false,\n  });\n\n  const handleSearch = () => {\n    setSearchQuery(searchInput);\n  };\n\n  // Important heresies for filtering (most significant ones only)\n  const importantHeresies = [\n    \"الآريوسية\",\n    \"النسطورية\", \n    \"الخلقيدونية\",\n    \"الغنوصية\",\n    \"المونوفيزيتية\",\n    \"الوثنية الرومانية\",\n    \"المونوثيليتية\",\n    \"الأبوليناريوسية\",\n    \"السابيلية\",\n    \"المانوية\",\n    \"البيلاجية\",\n    \"التطرف الإسلامي\",\n    \"العلمانية\",\n    \"البروتستانتية\"\n  ];\n\n  // Filter to show only important heresies that exist in the database\n  const allHeresies = importantHeresies.filter(heresy => {\n    return (patriarchs || []).some(p => {\n      let heresies = [];\n      try {\n        heresies = Array.isArray(p.heresiesFought) \n          ? p.heresiesFought \n          : JSON.parse(p.heresiesFought || '[]');\n      } catch (e) {\n        heresies = [];\n      }\n      return heresies.includes(heresy);\n    });\n  });\n\n  // Filter patriarchs based on search criteria\n  const filteredPatriarchs = (patriarchs || []).filter(patriarch => {\n    const matchesSearch = !searchQuery || \n      patriarch.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      patriarch.biography?.toLowerCase().includes(searchQuery.toLowerCase());\n\n    const matchesEra = selectedEra === \"all\" || patriarch.era === selectedEra;\n\n    const matchesHeresies = selectedHeresies.length === 0 || \n      selectedHeresies.some(heresy => {\n        const heresies = Array.isArray(patriarch.heresiesFought) \n          ? patriarch.heresiesFought \n          : JSON.parse(patriarch.heresiesFought || '[]');\n        return heresies.includes(heresy);\n      });\n\n    return matchesSearch && matchesEra && matchesHeresies;\n  });\n\n  const handleHeresyToggle = (heresy: string) => {\n    setSelectedHeresies(prev => \n      prev.includes(heresy) \n        ? prev.filter(h => h !== heresy)\n        : [...prev, heresy]\n    );\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n\n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"mb-8\">\n              <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n                <i className=\"fas fa-church text-4xl\"></i>\n              </div>\n              <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n                بطاركة الكنيسة القبطية الأرثوذكسية\n              </h1>\n              <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n                رحلة عبر التاريخ مع أعظم رجال الإيمان في المسيحية الشرقية\n              </p>\n              <p className=\"text-lg text-blue-200 max-w-3xl mx-auto\">\n                اكتشف تاريخ وحياة بطاركة الكنيسة القبطية الأرثوذكسية عبر العصور، \n                من العصر الرسولي حتى يومنا هذا\n              </p>\n            </div>\n\n            {/* Search Section */}\n            <Card className=\"bg-white bg-opacity-10 backdrop-blur-md border-white border-opacity-20 shadow-2xl\">\n              <CardContent className=\"p-8\">\n                <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                  {/* Main Search */}\n                  <div className=\"md:col-span-2\">\n                    <div className=\"relative\">\n                      <i className=\"fas fa-search absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n                      <Input\n                        type=\"text\"\n                        placeholder=\"ابحث عن بطريرك بالاسم أو السيرة الذاتية...\"\n                        value={searchInput}\n                        onChange={(e) => setSearchInput(e.target.value)}\n                        onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                        className=\"pl-4 pr-12 py-4 text-lg bg-white bg-opacity-90 border-none rounded-xl shadow-lg focus:shadow-xl transition-all duration-300\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Search Buttons */}\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n                    <Button\n                      onClick={handleSearch}\n                      className=\"w-full py-4 text-lg bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center\"\n                      disabled={isLoading}\n                    >\n                      {isLoading ? (\n                        <>\n                          <i className=\"fas fa-spinner fa-spin mr-2\"></i>\n                          جاري البحث...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"fas fa-search mr-2\"></i>\n                          بحث\n                        </>\n                      )}\n                    </Button>\n                    \n                    {/* AI Search Button opens chatbot directly */}\n                    <Sheet>\n                      <SheetTrigger asChild>\n                        <Button\n                          className=\"w-full py-4 text-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-xl shadow-lg transform hover:scale-105 transition-all duration-300 flex items-center justify-center\"\n                          onClick={() => {\n                            // Send search input to chatbot if available\n                            if (searchInput.trim()) {\n                              setTimeout(() => {\n                                const event = new CustomEvent('sendToChatbot', { \n                                  detail: { message: searchInput.trim() } \n                                });\n                                window.dispatchEvent(event);\n                              }, 500);\n                            }\n                          }}\n                        >\n                          <i className=\"fas fa-brain mr-2\"></i>\n                          بحث\n                        </Button>\n                      </SheetTrigger>\n                      <SheetContent className=\"w-full sm:max-w-2xl p-0 overflow-hidden\" side=\"right\">\n                        <SheetHeader className=\"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6\">\n                          <SheetTitle className=\"text-right text-xl font-bold flex items-center justify-center gap-3\">\n                            <i className=\"fas fa-brain\"></i>\n                            🔍 البحث الذكي عن البطاركة\n                            <i className=\"fas fa-brain\"></i>\n                          </SheetTitle>\n                        </SheetHeader>\n                        <div className=\"p-6 h-full overflow-auto\">\n                          <AskPatriarchChatbot />\n                        </div>\n                      </SheetContent>\n                    </Sheet>\n                  </div>\n\n                  {/* Era Filter */}\n                  <div>\n                    <Select value={selectedEra} onValueChange={setSelectedEra}>\n                      <SelectTrigger className=\"py-4 text-lg bg-white bg-opacity-90 border-none rounded-xl shadow-lg\">\n                        <SelectValue placeholder=\"اختر العصر\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">جميع العصور</SelectItem>\n                        {arabicEras.map((era) => (\n                          <SelectItem key={era} value={era}>{era}</SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                </div>\n\n                {/* Advanced Filters */}\n                {allHeresies.length > 0 && (\n                  <div className=\"mt-6\">\n                    <p className=\"text-white text-sm font-medium mb-3\">\n                      <i className=\"fas fa-filter ml-2\"></i>\n                      تصفية حسب البدع المحاربة:\n                    </p>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {allHeresies.slice(0, 6).map(heresy => (\n                        <Badge\n                          key={heresy}\n                          variant={selectedHeresies.includes(heresy) ? \"default\" : \"outline\"}\n                          className={`cursor-pointer transition-all duration-200 ${\n                            selectedHeresies.includes(heresy) \n                              ? \"bg-yellow-400 text-black hover:bg-yellow-500\" \n                              : \"bg-white bg-opacity-20 text-white hover:bg-white hover:bg-opacity-30\"\n                          }`}\n                          onClick={() => handleHeresyToggle(heresy)}\n                        >\n                          {getArabicHeresyName(heresy)}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* View Mode Toggle */}\n                <div className=\"flex justify-center gap-3 mt-6\">\n                  <Button\n                    variant={viewMode === \"cards\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"cards\")}\n                    className={`${viewMode === \"cards\" ? \"bg-yellow-400 text-black\" : \"bg-white bg-opacity-20 text-white border-white border-opacity-30\"} hover:bg-yellow-500 transition-all duration-200`}\n                  >\n                    <i className=\"fas fa-th-large ml-2\"></i>\n                    عرض بطاقات\n                  </Button>\n                  <Button\n                    variant={viewMode === \"timeline\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"timeline\")}\n                    className={`${viewMode === \"timeline\" ? \"bg-yellow-400 text-black\" : \"bg-white bg-opacity-20 text-white border-white border-opacity-30\"} hover:bg-yellow-500 transition-all duration-200`}\n                  >\n                    <i className=\"fas fa-clock ml-2\"></i>\n                    الخط الزمني\n                  </Button>\n                  <Button\n                    variant={viewMode === \"charts\" ? \"default\" : \"outline\"}\n                    onClick={() => setViewMode(\"charts\")}\n                    className={`${viewMode === \"charts\" ? \"bg-yellow-400 text-black\" : \"bg-white bg-opacity-20 text-white border-white border-opacity-30\"} hover:bg-yellow-500 transition-all duration-200`}\n                  >\n                    <i className=\"fas fa-chart-pie ml-2\"></i>\n                    الإحصائيات والتحليلات\n                  </Button>\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setLocation(\"/recommendations\")}\n                    className=\"bg-gradient-to-r from-amber-500 to-orange-500 text-white border-none hover:from-amber-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-105\"\n                  >\n                    <i className=\"fas fa-magic ml-2\"></i>\n                    الاقتراحات الذكية\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n\n      {/* Results Section */}\n      <div className=\"container mx-auto px-4 py-12\">\n        {/* Stats Bar */}\n        <div className=\"bg-white rounded-2xl shadow-lg p-6 mb-8\">\n          <div className=\"flex flex-wrap items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-8\">\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-blue-600\">{filteredPatriarchs.length}</p>\n                <p className=\"text-sm text-gray-600\">بطريرك</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-purple-600\">\n                  {filteredPatriarchs.filter(p => p.heresiesFought.length > 0).length}\n                </p>\n                <p className=\"text-sm text-gray-600\">محارب بدع</p>\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-bold text-green-600\">\n                  {new Set(filteredPatriarchs.map(p => p.era)).size}\n                </p>\n                <p className=\"text-sm text-gray-600\">عصر تاريخي</p>\n              </div>\n            </div>\n\n            {isAuthenticated && (\n              <Button\n                onClick={() => setLocation(\"/admin\")}\n                className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700\"\n              >\n                <i className=\"fas fa-cog ml-2\"></i>\n                لوحة الإدارة\n              </Button>\n            )}\n\n            {!isAuthenticated && (\n              <Button\n                onClick={() => setLocation(\"/login\")}\n                variant=\"outline\"\n                className=\"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white\"\n              >\n                <i className=\"fas fa-sign-in-alt ml-2\"></i>\n                دخول الإدارة\n              </Button>\n            )}\n          </div>\n        </div>\n\n        {/* Content Display */}\n        {viewMode === \"timeline\" ? (\n          <PatriarchTimeline patriarchs={filteredPatriarchs} />\n        ) : viewMode === \"charts\" ? (\n          patriarchs && patriarchs.length > 0 && (\n            <HomeCharts patriarchs={patriarchs} />\n          )\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8\">\n            {filteredPatriarchs.map((patriarch) => (\n              <PatriarchCard key={patriarch.id} patriarch={patriarch} />\n            ))}\n          </div>\n        )}\n\n        {filteredPatriarchs.length === 0 && viewMode !== \"charts\" && (\n          <Card className=\"text-center py-16\">\n            <CardContent>\n              <i className=\"fas fa-search text-6xl text-gray-300 mb-4\"></i>\n              <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">لا توجد نتائج</h3>\n              <p className=\"text-gray-500\">جرب تغيير معايير البحث أو المرشحات</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Floating Ask Patriarch Button */}\n      <Sheet>\n        <SheetTrigger asChild>\n          <Button \n            size=\"lg\"\n            className=\"fixed bottom-6 right-6 z-50 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white shadow-2xl rounded-full p-4 h-16 w-16 md:w-auto md:h-auto md:px-6 md:py-3 transition-all duration-300 hover:scale-105\"\n          >\n            <div className=\"flex items-center gap-2\">\n              <Crown className=\"h-6 w-6\" />\n              <span className=\"hidden md:inline font-bold\">💬 اسأل البطريرك</span>\n            </div>\n          </Button>\n        </SheetTrigger>\n        <SheetContent className=\"w-full sm:max-w-2xl p-0 overflow-hidden\" side=\"right\">\n          <SheetHeader className=\"bg-gradient-to-r from-amber-600 to-orange-600 text-white p-6\">\n            <SheetTitle className=\"text-right text-xl font-bold flex items-center justify-center gap-3\">\n              <Crown className=\"h-6 w-6\" />\n              💬 اسأل البطريرك - الخبير الذكي\n              <Crown className=\"h-6 w-6\" />\n            </SheetTitle>\n          </SheetHeader>\n          <div className=\"p-6 h-full overflow-auto\">\n            <AskPatriarchChatbot />\n          </div>\n        </SheetContent>\n      </Sheet>\n\n      {/* Footer */}\n      <footer className=\"bg-blue-600 text-white py-12 mt-12\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n            <div>\n              <div className=\"flex items-center space-x-reverse space-x-4 mb-4\">\n                <div className=\"w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center\">\n                  <i className=\"fas fa-cross text-blue-600 text-lg\"></i>\n                </div>\n                <div>\n                  <h3 className=\"text-xl font-bold font-amiri\">بطاركة الكنيسة القبطية</h3>\n                  <p className=\"text-blue-200 text-sm\">الأرثوذكسية</p>\n                </div>\n              </div>\n              <p className=\"text-blue-200 leading-relaxed\">\n                قاعدة بيانات تاريخية شاملة للبطاركة الذين حافظوا على الإيمان الأرثوذكسي عبر التاريخ.\n              </p>\n            </div>\n\n            <div>\n              <div className=\"space-y-4\">\n                <h3 className=\"text-xl font-bold text-white mb-6\">روابط مهمة</h3>\n                <div className=\"grid grid-cols-1 gap-4\">\n                  <button\n                    onClick={() => setLocation(\"/smart-summary\")}\n                    className=\"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20 group w-full text-right\"\n                  >\n                    <div className=\"flex items-center space-x-3 space-x-reverse\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-green-400 to-emerald-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                        <i className=\"fas fa-brain text-white\"></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white\">الملخص الذكي</h4>\n                        <p className=\"text-sm text-blue-100\">ملخص ذكي بالذكاء الاصطناعي</p>\n                      </div>\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setLocation(\"/recommendations\")}\n                    className=\"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20 group w-full text-right\"\n                  >\n                    <div className=\"flex items-center space-x-3 space-x-reverse\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-amber-400 to-orange-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                        <i className=\"fas fa-magic text-white\"></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white\">الاقتراحات الذكية</h4>\n                        <p className=\"text-sm text-blue-100\">اكتشف البطاركة حسب اهتمامك</p>\n                      </div>\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setLocation(\"/about\")}\n                    className=\"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20 group w-full text-right\"\n                  >\n                    <div className=\"flex items-center space-x-3 space-x-reverse\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                        <i className=\"fas fa-info-circle text-white\"></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white\">عن الموقع</h4>\n                        <p className=\"text-sm text-blue-100\">تعرف على أهداف الموقع</p>\n                      </div>\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setLocation(\"/church-history\")}\n                    className=\"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20 group w-full text-right\"\n                  >\n                    <div className=\"flex items-center space-x-3 space-x-reverse\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-green-400 to-blue-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                        <i className=\"fas fa-church text-white\"></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white\">تاريخ الكنيسة</h4>\n                        <p className=\"text-sm text-blue-100\">تاريخ الكنيسة القبطية</p>\n                      </div>\n                    </div>\n                  </button>\n\n                  <button\n                    onClick={() => setLocation(\"/references\")}\n                    className=\"bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-4 hover:bg-opacity-20 transition-all duration-300 border border-white border-opacity-20 group w-full text-right\"\n                  >\n                    <div className=\"flex items-center space-x-3 space-x-reverse\">\n                      <div className=\"w-10 h-10 bg-gradient-to-r from-purple-400 to-pink-400 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300\">\n                        <i className=\"fas fa-book text-white\"></i>\n                      </div>\n                      <div>\n                        <h4 className=\"font-medium text-white\">المراجع</h4>\n                        <p className=\"text-sm text-blue-100\">المصادر والمراجع</p>\n                      </div>\n                    </div>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <h4 className=\"text-lg font-semibold mb-4 font-amiri\">معلومات تقنية</h4>\n              <ul className=\"space-y-2 text-blue-200\">\n                <li><i className=\"fas fa-database ml-2\"></i>قاعدة بيانات PostgreSQL</li>\n                <li><i className=\"fas fa-shield-alt ml-2\"></i>حماية متقدمة للبيانات</li>\n                <li><i className=\"fas fa-mobile-alt ml-2\"></i>متوافق مع جميع الأجهزة</li>\n                <li><i className=\"fas fa-search ml-2\"></i>بحث متقدم وفلترة</li>\n              </ul>\n            </div>\n          </div>\n\n          <div className=\"border-t border-blue-400 pt-8 mt-8 text-center\">\n            <p className=\"text-blue-200\">\n              © 2025 بطاركة الكنيسة القبطية الأرثوذكسية. جميع الحقوق محفوظة.\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}","size_bytes":25990},"client/src/pages/login.tsx":{"content":"\nimport { useEffect, useState } from \"react\";\nimport { useLocation } from \"wouter\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport Loading from \"@/components/ui/loading\";\n\nexport default function Login() {\n  const { isAuthenticated, isLoading } = useAuth();\n  const [, setLocation] = useLocation();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [username, setUsername] = useState(\"admin@coptic-patriarchs.org\");\n  const [password, setPassword] = useState(\"CopticPatriarchs2025!\");\n  const [loginError, setLoginError] = useState(\"\");\n  const [isLoggingIn, setIsLoggingIn] = useState(false);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      setLocation(\"/admin\");\n    }\n  }, [isAuthenticated, setLocation]);\n\n  const handleModalLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoggingIn(true);\n    setLoginError(\"\");\n\n    try {\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        }),\n        credentials: 'include'\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      const result = await response.json();\n\n      if (result.success) {\n        setIsModalOpen(false);\n        setLocation(\"/admin\");\n        setIsLoggingIn(false);\n        // Force page reload to update auth state\n        window.location.href = \"/admin\";\n      } else {\n        setLoginError(result.message || \"اسم المستخدم أو كلمة المرور غير صحيحة\");\n        setIsLoggingIn(false);\n      }\n    } catch (error) {\n      setLoginError(\"حدث خطأ أثناء تسجيل الدخول\");\n      setIsLoggingIn(false);\n    }\n  };\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  if (isAuthenticated) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\" dir=\"rtl\">\n      {/* Home Button */}\n      <Button\n        onClick={() => setLocation(\"/\")}\n        variant=\"outline\"\n        className=\"fixed top-4 right-4 z-10 bg-white/90 backdrop-blur-sm border-blue-300 text-blue-600 hover:bg-blue-50\"\n      >\n        <i className=\"fas fa-home ml-2\"></i>\n        الصفحة الرئيسية\n      </Button>\n      \n      <div className=\"w-full max-w-md\">\n        {/* Logo Section */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <i className=\"fas fa-cross text-white text-2xl\"></i>\n          </div>\n          <h1 className=\"text-2xl font-bold text-blue-600 font-amiri\">\n            بطاركة الكنيسة القبطية الأرثوذكسية\n          </h1>\n          <p className=\"text-gray-600 mt-2\">\n            لوحة تحكم إدارة بطاركة، يرجى تسجيل الدخول باستخدام حسابك المعتمد.\n          </p>\n        </div>\n\n        <Card className=\"shadow-lg\">\n          <CardHeader>\n            <CardTitle className=\"text-center text-blue-600 font-amiri\">تسجيل الدخول</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {/* Demo Account Info */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\" dir=\"ltr\">\n              <div className=\"flex items-center mb-2\">\n                <i className=\"fas fa-info-circle text-blue-600 ml-2\"></i>\n                <span className=\"text-blue-800 font-semibold text-sm\">Demo Account Information</span>\n              </div>\n              <div className=\"text-xs text-blue-700 space-y-1\">\n                <div><strong>Username:</strong> admin@coptic-patriarchs.org</div>\n                <div><strong>Password:</strong> CopticPatriarchs2025!</div>\n              </div>\n            </div>\n\n            {/* Modal Login Button */}\n            <Dialog open={isModalOpen} onOpenChange={setIsModalOpen}>\n              <DialogTrigger asChild>\n                <Button \n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg font-semibold rounded-lg transition-all duration-300 transform hover:scale-105\"\n                >\n                  <i className=\"fas fa-sign-in-alt ml-2\"></i>\n                  تسجيل الدخول\n                </Button>\n              </DialogTrigger>\n              <DialogContent className=\"sm:max-w-md\" dir=\"rtl\">\n                <DialogHeader>\n                  <DialogTitle className=\"text-center text-blue-600 font-amiri\">\n                    تسجيل الدخول للنظام\n                  </DialogTitle>\n                </DialogHeader>\n                <form onSubmit={handleModalLogin} className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"username\">اسم المستخدم</Label>\n                    <Input\n                      id=\"username\"\n                      type=\"email\"\n                      value={username}\n                      onChange={(e) => setUsername(e.target.value)}\n                      placeholder=\"admin@coptic-patriarchs.org\"\n                      required\n                      className=\"mt-1\"\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"password\">كلمة المرور</Label>\n                    <Input\n                      id=\"password\"\n                      type=\"password\"\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      placeholder=\"CopticPatriarchs2025!\"\n                      required\n                      className=\"mt-1\"\n                    />\n                  </div>\n                  {loginError && (\n                    <div className=\"text-red-600 text-sm text-center\">\n                      {loginError}\n                    </div>\n                  )}\n                  <Button \n                    type=\"submit\" \n                    className=\"w-full bg-blue-600 hover:bg-blue-700\"\n                    disabled={isLoggingIn}\n                  >\n                    {isLoggingIn ? (\n                      <>\n                        <i className=\"fas fa-spinner fa-spin ml-2\"></i>\n                        جاري تسجيل الدخول...\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-sign-in-alt ml-2\"></i>\n                        دخول\n                      </>\n                    )}\n                  </Button>\n                </form>\n              </DialogContent>\n            </Dialog>\n\n\n          </CardContent>\n        </Card>\n\n        {/* Footer */}\n        <div className=\"text-center mt-8 text-gray-500 text-sm\">\n          <p>© 2025 بطاركة الكنيسة القبطية الأرثوذكسية. جميع الحقوق محفوظة.</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":7393},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/recommendations-broken.tsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport PatriarchCard from \"@/components/patriarch-card\";\nimport { Search, Sparkles, Clock, BookOpen, Shield, Brain, Zap } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { Patriarch } from \"@/../../shared/schema\";\n\ninterface RecommendationCriteria {\n  selectedEras: string[];\n  selectedHeresies: string[];\n  timeInterest: string;\n  topicInterest: string;\n  personalityTrait: string;\n}\n\ninterface RecommendationResult {\n  patriarch: Patriarch;\n  score: number;\n  reasons: string[];\n}\n\nexport default function Recommendations() {\n  const [criteria, setCriteria] = useState<RecommendationCriteria>({\n    selectedEras: [],\n    selectedHeresies: [],\n    timeInterest: \"\",\n    topicInterest: \"\",\n    personalityTrait: \"\"\n  });\n  const [recommendations, setRecommendations] = useState<RecommendationResult[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [aiRecommendations, setAiRecommendations] = useState<any>(null);\n  const [userDescription, setUserDescription] = useState(\"\");\n\n  const { data: patriarchs = [], isLoading } = useQuery<Patriarch[]>({\n    queryKey: [\"/api/patriarchs\"],\n  });\n\n  // Extract unique eras and heresies for filters\n  const uniqueEras = Array.from(new Set(patriarchs.map(p => p.era))).filter(Boolean);\n  const uniqueHeresies = Array.from(new Set(patriarchs.flatMap(p => p.heresiesFought || []))).filter(Boolean);\n\n  // AI Recommendations mutation\n  const aiRecommendationsMutation = useMutation({\n    mutationFn: async () => {\n      const userProfile = {\n        description: userDescription\n      };\n      \n      const response = await apiRequest(\"POST\", \"/api/ai-recommendations\", {\n        userProfile,\n        preferences: criteria\n      });\n      \n      return response.json();\n    },\n    onSuccess: (data) => {\n      setAiRecommendations(data);\n    },\n    onError: (error) => {\n      console.error(\"Failed to generate AI recommendations:\", error);\n    }\n  });\n\n  const timeInterests = [\n    { id: \"early\", label: \"العصور المبكرة\", value: \"early\" },\n    { id: \"golden\", label: \"العصر الذهبي\", value: \"golden\" },\n    { id: \"councils\", label: \"عصر المجامع\", value: \"councils\" },\n    { id: \"modern\", label: \"العصر الحديث\", value: \"modern\" }\n  ];\n\n  const topicInterests = [\n    { id: \"theology\", label: \"اللاهوت والعقيدة\", value: \"theology\" },\n    { id: \"leadership\", label: \"القيادة والإدارة\", value: \"leadership\" },\n    { id: \"missions\", label: \"الإرساليات والكرازة\", value: \"missions\" },\n    { id: \"defense\", label: \"الدفاع عن الإيمان\", value: \"defense\" }\n  ];\n\n  const personalityTraits = [\n    { id: \"scholar\", label: \"العالم المثقف\", value: \"scholar\" },\n    { id: \"defender\", label: \"المدافع الشجاع\", value: \"defender\" },\n    { id: \"builder\", label: \"البناء والمؤسس\", value: \"builder\" },\n    { id: \"mystic\", label: \"الروحاني المتصوف\", value: \"mystic\" }\n  ];\n\n  // Smart recommendation algorithm\n  const generateRecommendations = () => {\n    if (!patriarchs.length) return;\n\n    const scoredPatriarchs: RecommendationResult[] = patriarchs.map(patriarch => {\n      let score = 0;\n      const reasons: string[] = [];\n\n      // Era matching\n      if (criteria.selectedEras.includes(patriarch.era)) {\n        score += 30;\n        reasons.push(`من ${patriarch.era}`);\n      }\n\n      // Heresies matching\n      const matchingHeresies = patriarch.heresiesFought?.filter(h => \n        criteria.selectedHeresies.includes(h)\n      ) || [];\n      if (matchingHeresies.length > 0) {\n        score += matchingHeresies.length * 20;\n        reasons.push(`حارب ${matchingHeresies.join('، ')}`);\n      }\n\n      // Time interest matching\n      if (criteria.timeInterest) {\n        if (criteria.timeInterest === \"early\" && patriarch.startYear < 400) {\n          score += 25;\n          reasons.push(\"من العصور المسيحية المبكرة\");\n        } else if (criteria.timeInterest === \"golden\" && patriarch.startYear >= 300 && patriarch.startYear <= 600) {\n          score += 25;\n          reasons.push(\"من العصر الذهبي للكنيسة\");\n        } else if (criteria.timeInterest === \"councils\" && patriarch.startYear >= 300 && patriarch.startYear <= 800) {\n          score += 25;\n          reasons.push(\"شارك في عصر المجامع المسكونية\");\n        } else if (criteria.timeInterest === \"modern\" && patriarch.startYear >= 1800) {\n          score += 25;\n          reasons.push(\"من العصر الحديث\");\n        }\n      }\n\n      // Topic interest matching\n      if (criteria.topicInterest) {\n        const contributions = patriarch.contributions.toLowerCase();\n        if (criteria.topicInterest === \"theology\" && \n            (contributions.includes(\"لاهوت\") || contributions.includes(\"عقيدة\") || contributions.includes(\"تعليم\"))) {\n          score += 20;\n          reasons.push(\"متخصص في اللاهوت والعقيدة\");\n        } else if (criteria.topicInterest === \"leadership\" && \n                   (contributions.includes(\"قيادة\") || contributions.includes(\"إدارة\") || contributions.includes(\"تنظيم\"))) {\n          score += 20;\n          reasons.push(\"قائد وإداري ماهر\");\n        } else if (criteria.topicInterest === \"missions\" && \n                   (contributions.includes(\"كرازة\") || contributions.includes(\"تبشير\") || contributions.includes(\"انتشار\"))) {\n          score += 20;\n          reasons.push(\"رائد في الكرازة والإرساليات\");\n        } else if (criteria.topicInterest === \"defense\" && \n                   (contributions.includes(\"دفاع\") || contributions.includes(\"حماية\") || contributions.includes(\"رد\"))) {\n          score += 20;\n          reasons.push(\"مدافع قوي عن الإيمان\");\n        }\n      }\n\n      // Personality trait matching\n      if (criteria.personalityTrait) {\n        const bio = `${patriarch.contributions} ${patriarch.biography || \"\"}`.toLowerCase();\n        if (criteria.personalityTrait === \"scholar\" && \n            (bio.includes(\"علم\") || bio.includes(\"كتب\") || bio.includes(\"تأليف\") || bio.includes(\"دراسة\"))) {\n          score += 15;\n          reasons.push(\"عالم ومثقف\");\n        } else if (criteria.personalityTrait === \"defender\" && \n                   (bio.includes(\"حارب\") || bio.includes(\"دافع\") || bio.includes(\"قاوم\"))) {\n          score += 15;\n          reasons.push(\"مدافع شجاع\");\n        } else if (criteria.personalityTrait === \"builder\" && \n                   (bio.includes(\"بنى\") || bio.includes(\"أسس\") || bio.includes(\"شيد\") || bio.includes(\"طور\"))) {\n          score += 15;\n          reasons.push(\"بناء ومؤسس\");\n        } else if (criteria.personalityTrait === \"mystic\" && \n                   (bio.includes(\"روحاني\") || bio.includes(\"تصوف\") || bio.includes(\"عبادة\") || bio.includes(\"تقوى\"))) {\n          score += 15;\n          reasons.push(\"روحاني متصوف\");\n        }\n      }\n\n      // Search term matching\n      if (searchTerm) {\n        const searchLower = searchTerm.toLowerCase();\n        if (patriarch.name.toLowerCase().includes(searchLower) ||\n            patriarch.arabicName?.toLowerCase().includes(searchLower) ||\n            patriarch.contributions.toLowerCase().includes(searchLower)) {\n          score += 10;\n          reasons.push(\"يطابق البحث الخاص بك\");\n        }\n      }\n\n      return { patriarch, score, reasons };\n    });\n\n    // Sort by score and take top 6\n    const topRecommendations = scoredPatriarchs\n      .filter(r => r.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 6);\n\n    setRecommendations(topRecommendations);\n  };\n\n  useEffect(() => {\n    generateRecommendations();\n  }, [criteria, searchTerm, patriarchs]);\n\n  const updateCriteria = (key: keyof RecommendationCriteria, value: any) => {\n    setCriteria(prev => ({ ...prev, [key]: value }));\n  };\n\n  const handleEraChange = (era: string, checked: boolean) => {\n    setCriteria(prev => ({\n      ...prev,\n      selectedEras: checked \n        ? [...prev.selectedEras, era]\n        : prev.selectedEras.filter(e => e !== era)\n    }));\n  };\n\n  const handleHeresyChange = (heresy: string, checked: boolean) => {\n    setCriteria(prev => ({\n      ...prev,\n      selectedHeresies: checked \n        ? [...prev.selectedHeresies, heresy]\n        : prev.selectedHeresies.filter(h => h !== heresy)\n    }));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Sparkles className=\"mx-auto h-12 w-12 text-amber-600 animate-spin\" />\n          <p className=\"mt-4 text-lg text-gray-600\">جاري تحضير الاقتراحات...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100\" dir=\"rtl\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Sparkles className=\"h-8 w-8 text-amber-600\" />\n            <h1 className=\"text-4xl font-bold text-gray-800\">محرك الاقتراحات الذكي</h1>\n            <Sparkles className=\"h-8 w-8 text-amber-600\" />\n          </div>\n          <p className=\"text-lg text-gray-600 max-w-3xl mx-auto\">\n            اكتشف البطاركة المناسبين لاهتماماتك من خلال نظام الاقتراحات الذكي المخصص\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Filters Panel */}\n          <div className=\"lg:col-span-1\">\n            <Card className=\"sticky top-4\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Search className=\"h-5 w-5\" />\n                  فلاتر البحث\n                </CardTitle>\n                <CardDescription>\n                  اختر اهتماماتك لنقترح عليك أفضل البطاركة\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Search Input */}\n                <div>\n                  <Label htmlFor=\"search\">البحث النصي</Label>\n                  <Input\n                    id=\"search\"\n                    placeholder=\"ابحث بالاسم أو المساهمات...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"mt-1\"\n                  />\n                </div>\n\n                <Separator />\n\n                {/* Time Interest */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Clock className=\"h-4 w-4\" />\n                    الفترة الزمنية المفضلة\n                  </Label>\n                  <div className=\"mt-2 space-y-2\">\n                    {timeInterests.map((interest) => (\n                      <div key={interest.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={interest.id}\n                          checked={criteria.timeInterest === interest.value}\n                          onCheckedChange={(checked) => \n                            updateCriteria(\"timeInterest\", checked ? interest.value : \"\")\n                          }\n                        />\n                        <Label htmlFor={interest.id} className=\"text-sm cursor-pointer\">\n                          {interest.label}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Topic Interest */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <BookOpen className=\"h-4 w-4\" />\n                    المجال المفضل\n                  </Label>\n                  <div className=\"mt-2 space-y-2\">\n                    {topicInterests.map((interest) => (\n                      <div key={interest.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={interest.id}\n                          checked={criteria.topicInterest === interest.value}\n                          onCheckedChange={(checked) => \n                            updateCriteria(\"topicInterest\", checked ? interest.value : \"\")\n                          }\n                        />\n                        <Label htmlFor={interest.id} className=\"text-sm cursor-pointer\">\n                          {interest.label}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Personality Trait */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Shield className=\"h-4 w-4\" />\n                    نوع الشخصية\n                  </Label>\n                  <div className=\"mt-2 space-y-2\">\n                    {personalityTraits.map((trait) => (\n                      <div key={trait.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={trait.id}\n                          checked={criteria.personalityTrait === trait.value}\n                          onCheckedChange={(checked) => \n                            updateCriteria(\"personalityTrait\", checked ? trait.value : \"\")\n                          }\n                        />\n                        <Label htmlFor={trait.id} className=\"text-sm cursor-pointer\">\n                          {trait.label}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Eras */}\n                <div>\n                  <Label className=\"text-sm font-medium\">العصور التاريخية</Label>\n                  <div className=\"mt-2 space-y-2 max-h-32 overflow-y-auto\">\n                    {uniqueEras.map((era) => (\n                      <div key={era} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={era}\n                          checked={criteria.selectedEras.includes(era)}\n                          onCheckedChange={(checked) => handleEraChange(era, !!checked)}\n                        />\n                        <Label htmlFor={era} className=\"text-sm cursor-pointer\">\n                          {era}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Heresies */}\n                <div>\n                  <Label className=\"text-sm font-medium\">البدع المحاربة</Label>\n                  <div className=\"mt-2 space-y-2 max-h-32 overflow-y-auto\">\n                    {uniqueHeresies.map((heresy) => (\n                      <div key={heresy} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={heresy}\n                          checked={criteria.selectedHeresies.includes(heresy)}\n                          onCheckedChange={(checked) => handleHeresyChange(heresy, !!checked)}\n                        />\n                        <Label htmlFor={heresy} className=\"text-sm cursor-pointer\">\n                          {heresy}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Button \n                  onClick={() => setCriteria({\n                    selectedEras: [],\n                    selectedHeresies: [],\n                    timeInterest: \"\",\n                    topicInterest: \"\",\n                    personalityTrait: \"\"\n                  })}\n                  variant=\"outline\"\n                  className=\"w-full\"\n                >\n                  مسح الفلاتر\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Recommendations Results */}\n          <div className=\"lg:col-span-3\">\n            <Tabs defaultValue=\"smart\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n                <TabsTrigger value=\"smart\" className=\"flex items-center gap-2\">\n                  <Brain className=\"h-4 w-4\" />\n                  اقتراحات الذكاء الاصطناعي\n                </TabsTrigger>\n                <TabsTrigger value=\"traditional\" className=\"flex items-center gap-2\">\n                  <Search className=\"h-4 w-4\" />\n                  الفلترة التقليدية\n                </TabsTrigger>\n              </TabsList>\n\n              {/* AI Recommendations Tab */}\n              <TabsContent value=\"smart\">\n                <Card className=\"mb-6\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2\">\n                      <Brain className=\"h-5 w-5 text-purple-600\" />\n                      محرك الاقتراحات الذكي بـ Gemini AI\n                    </CardTitle>\n                    <CardDescription>\n                      أخبرنا عن اهتماماتك وسيقوم الذكاء الاصطناعي بتحليلها واقتراح أفضل البطاركة المناسبين لك\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"user-description\">صف اهتماماتك وما تبحث عنه</Label>\n                      <Textarea\n                        id=\"user-description\"\n                        placeholder=\"مثال: أهتم بتاريخ الكنيسة المبكرة والدفاع عن العقيدة ضد البدع، وأريد أن أتعلم عن البطاركة الذين واجهوا تحديات مشابهة لما نواجهه اليوم...\"\n                        value={userDescription}\n                        onChange={(e) => setUserDescription(e.target.value)}\n                        rows={4}\n                        className=\"mt-1\"\n                      />\n                    </div>\n                    \n                    <Button\n                      onClick={() => aiRecommendationsMutation.mutate()}\n                      disabled={aiRecommendationsMutation.isPending || !userDescription.trim()}\n                      className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700\"\n                    >\n                      {aiRecommendationsMutation.isPending ? (\n                        <>\n                          <Sparkles className=\"h-4 w-4 mr-2 animate-spin\" />\n                          جاري التحليل بالذكاء الاصطناعي...\n                        </>\n                      ) : (\n                        <>\n                          <Zap className=\"h-4 w-4 mr-2\" />\n                          احصل على اقتراحات ذكية\n                        </>\n                      )}\n                    </Button>\n                  </CardContent>\n                </Card>\n\n                {/* AI Recommendations Display */}\n                {aiRecommendations && (\n                  <div className=\"space-y-6\">\n                    <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200\">\n                      <h3 className=\"text-xl font-bold text-purple-800 mb-2\">\n                        نصائح الذكاء الاصطناعي لك\n                      </h3>\n                      <p className=\"text-purple-700 leading-relaxed\">\n                        {aiRecommendations.overallAdvice}\n                      </p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      {aiRecommendations.recommendations.map((rec: any, index: number) => (\n                        <div key={index} className=\"relative\">\n                          {/* AI Score Badge */}\n                          <div className=\"absolute top-4 left-4 z-10\">\n                            <Badge className=\"bg-purple-100 text-purple-800\">\n                              AI Score: {rec.score}%\n                            </Badge>\n                          </div>\n                          \n                          {rec.patriarch && <PatriarchCard patriarch={rec.patriarch} />}\n                          \n                          {/* AI Analysis */}\n                          <Card className=\"mt-2 border-purple-200 bg-purple-50\">\n                            <CardContent className=\"p-4\">\n                              <div className=\"space-y-3\">\n                                <div>\n                                  <p className=\"text-sm font-medium text-purple-800 mb-2\">\n                                    🤖 تحليل الذكاء الاصطناعي:\n                                  </p>\n                                  <div className=\"space-y-1\">\n                                    {rec.reasons.map((reason: string, idx: number) => (\n                                      <Badge key={idx} variant=\"outline\" className=\"text-xs mr-1 mb-1\">\n                                        {reason}\n                                      </Badge>\n                                    ))}\n                                  </div>\n                                </div>\n                                \n                                {rec.personalAdvice && (\n                                  <div className=\"border-t pt-2\">\n                                    <p className=\"text-sm font-medium text-purple-800 mb-1\">\n                                      💡 نصيحة شخصية:\n                                    </p>\n                                    <p className=\"text-sm text-purple-700\">\n                                      {rec.personalAdvice}\n                                    </p>\n                                  </div>\n                                )}\n\n                                {rec.highlights && rec.highlights.length > 0 && (\n                                  <div className=\"border-t pt-2\">\n                                    <p className=\"text-sm font-medium text-purple-800 mb-1\">\n                                      ⭐ نقاط مميزة:\n                                    </p>\n                                    <div className=\"flex flex-wrap gap-1\">\n                                      {rec.highlights.map((highlight: string, idx: number) => (\n                                        <Badge key={idx} className=\"text-xs bg-yellow-100 text-yellow-800\">\n                                          {highlight}\n                                        </Badge>\n                                      ))}\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </CardContent>\n                          </Card>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* No AI recommendations yet */}\n                {!aiRecommendations && !aiRecommendationsMutation.isPending && (\n                  <Card className=\"text-center py-16\">\n                    <CardContent>\n                      <Brain className=\"mx-auto h-16 w-16 text-purple-400 mb-4\" />\n                      <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">\n                        جاهز للاقتراحات الذكية\n                      </h3>\n                      <p className=\"text-gray-500 mb-4\">\n                        اكتب وصفاً لاهتماماتك أعلاه وسيقوم الذكاء الاصطناعي بتحليلها وتقديم اقتراحات مخصصة لك\n                      </p>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n\n              {/* Traditional Recommendations Tab */}\n              <TabsContent value=\"traditional\">\n                {recommendations.length > 0 ? (\n                  <>\n                    <div className=\"mb-6\">\n                      <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                        الاقتراحات المخصصة لك ({recommendations.length})\n                      </h2>\n                      <p className=\"text-gray-600\">\n                        تم ترتيب النتائج بناءً على مطابقة اهتماماتك\n                      </p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      {recommendations.map((rec, index) => (\n                        <div key={rec.patriarch.id} className=\"relative\">\n                          {/* Recommendation Score Badge */}\n                          <div className=\"absolute top-4 left-4 z-10\">\n                            <Badge variant=\"secondary\" className=\"bg-amber-100 text-amber-800\">\n                              #{index + 1}\n                            </Badge>\n                          </div>\n                          \n                          <PatriarchCard patriarch={rec.patriarch} />\n                          \n                          {/* Recommendation Reasons */}\n                          {rec.reasons.length > 0 && (\n                            <Card className=\"mt-2 border-amber-200 bg-amber-50\">\n                              <CardContent className=\"p-3\">\n                                <p className=\"text-sm font-medium text-amber-800 mb-1\">\n                                  لماذا يناسبك هذا البطريرك:\n                                </p>\n                                <div className=\"flex flex-wrap gap-1\">\n                                  {rec.reasons.map((reason: string, idx: number) => (\n                                    <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                      {reason}\n                                    </Badge>\n                                  ))}\n                                </div>\n                              </CardContent>\n                            </Card>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <Card className=\"text-center py-16\">\n                    <CardContent>\n                      <Sparkles className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n                      <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">\n                        لا توجد اقتراحات بعد\n                      </h3>\n                      <p className=\"text-gray-500 mb-4\">\n                        اختر اهتماماتك من القائمة الجانبية لنقترح عليك البطاركة المناسبين\n                      </p>\n                      <Button onClick={() => updateCriteria(\"timeInterest\", \"golden\")} className=\"mt-2\">\n                        ابدأ بالعصر الذهبي\n                      </Button>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n            </Tabs>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":28574},"client/src/pages/recommendations.tsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport PatriarchCard from \"@/components/patriarch-card\";\nimport { Search, Sparkles, Clock, BookOpen, Shield, Brain, Zap, Home } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { Patriarch } from \"@/../../shared/schema\";\n\ninterface RecommendationCriteria {\n  selectedEras: string[];\n  selectedHeresies: string[];\n  timeInterest: string;\n  topicInterest: string;\n  personalityTrait: string;\n}\n\ninterface RecommendationResult {\n  patriarch: Patriarch;\n  score: number;\n  reasons: string[];\n}\n\nexport default function Recommendations() {\n  const [, setLocation] = useLocation();\n  const [criteria, setCriteria] = useState<RecommendationCriteria>({\n    selectedEras: [],\n    selectedHeresies: [],\n    timeInterest: \"\",\n    topicInterest: \"\",\n    personalityTrait: \"\"\n  });\n  const [recommendations, setRecommendations] = useState<RecommendationResult[]>([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [aiRecommendations, setAiRecommendations] = useState<any>(null);\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [loadingProgress, setLoadingProgress] = useState(0);\n\n  const { data: patriarchs = [], isLoading } = useQuery<Patriarch[]>({\n    queryKey: [\"/api/patriarchs\"],\n  });\n\n  // Extract unique eras and heresies for filters\n  const uniqueEras = Array.from(new Set(patriarchs.map(p => p.era))).filter(Boolean);\n  const uniqueHeresies = Array.from(new Set(patriarchs.flatMap(p => {\n    let heresies = [];\n    try {\n      if (Array.isArray(p.heresiesFought)) {\n        heresies = p.heresiesFought;\n      } else if (typeof p.heresiesFought === 'string') {\n        heresies = p.heresiesFought.trim() ? JSON.parse(p.heresiesFought) : [];\n      }\n    } catch (e) {\n      // If parsing fails, try to split by comma as fallback\n      if (typeof p.heresiesFought === 'string') {\n        heresies = p.heresiesFought.split(',').map(h => h.trim()).filter(h => h);\n      }\n    }\n    return heresies.filter((h: string) => h && h.trim());\n  }))).filter(Boolean);\n\n  // Check API key status\n  const { data: apiStatus, isLoading: isLoadingApiStatus } = useQuery({\n    queryKey: ['/api/gemini-status'],\n    queryFn: async () => {\n      const response = await fetch('/api/gemini-status', {\n        headers: { 'Content-Type': 'application/json' }\n      });\n      if (!response.ok) throw new Error('Failed to fetch API status');\n      return response.json();\n    }\n  });\n\n  // AI Recommendations mutation\n  const aiRecommendationsMutation = useMutation({\n    mutationFn: async () => {\n      // Check if API key is configured\n      if (!apiStatus?.connected) {\n        throw new Error(\"مفتاح Gemini API غير متصل. يرجى التحقق من المفتاح في لوحة الإدارة.\");\n      }\n\n      // Reset progress\n      setLoadingProgress(0);\n\n      // Simulate progress stages\n      const progressInterval = setInterval(() => {\n        setLoadingProgress(prev => {\n          if (prev >= 90) return prev;\n          return prev + Math.random() * 15;\n        });\n      }, 300);\n\n      try {\n        const userProfile = {\n          description: userDescription\n        };\n\n        setLoadingProgress(20);\n        const response = await apiRequest(\"POST\", \"/api/ai-recommendations\", {\n          userProfile,\n          preferences: criteria\n        });\n\n        setLoadingProgress(80);\n        const result = await response.json();\n        setLoadingProgress(100);\n\n        clearInterval(progressInterval);\n        return result;\n      } catch (error) {\n        clearInterval(progressInterval);\n        setLoadingProgress(0);\n        throw error;\n      }\n    },\n    onSuccess: (data) => {\n      setAiRecommendations(data);\n      setLoadingProgress(0);\n    },\n    onError: (error) => {\n      console.error(\"Failed to generate AI recommendations:\", error);\n      setLoadingProgress(0);\n    }\n  });\n\n  const timeInterests = [\n    { id: \"early\", label: \"العصور المبكرة\", value: \"early\" },\n    { id: \"golden\", label: \"العصر الذهبي\", value: \"golden\" },\n    { id: \"councils\", label: \"عصر المجامع\", value: \"councils\" },\n    { id: \"modern\", label: \"العصر الحديث\", value: \"modern\" }\n  ];\n\n  const topicInterests = [\n    { id: \"theology\", label: \"اللاهوت والعقيدة\", value: \"theology\" },\n    { id: \"leadership\", label: \"القيادة والإدارة\", value: \"leadership\" },\n    { id: \"missions\", label: \"الإرساليات والكرازة\", value: \"missions\" },\n    { id: \"defense\", label: \"الدفاع عن الإيمان\", value: \"defense\" }\n  ];\n\n  const personalityTraits = [\n    { id: \"scholar\", label: \"العالم المثقف\", value: \"scholar\" },\n    { id: \"defender\", label: \"المدافع الشجاع\", value: \"defender\" },\n    { id: \"builder\", label: \"البناء والمؤسس\", value: \"builder\" },\n    { id: \"mystic\", label: \"الروحاني المتصوف\", value: \"mystic\" }\n  ];\n\n  // Smart recommendation algorithm\n  const generateRecommendations = () => {\n    if (!patriarchs.length) return;\n\n    const scoredPatriarchs: RecommendationResult[] = patriarchs.map(patriarch => {\n      let score = 0;\n      const reasons: string[] = [];\n\n      // Era matching\n      if (criteria.selectedEras.includes(patriarch.era)) {\n        score += 30;\n        reasons.push(`من ${patriarch.era}`);\n      }\n\n      // Heresies matching\n      let patriarchHeresies = [];\n      try {\n        if (Array.isArray(patriarch.heresiesFought)) {\n          patriarchHeresies = patriarch.heresiesFought;\n        } else if (typeof patriarch.heresiesFought === 'string') {\n          patriarchHeresies = patriarch.heresiesFought.trim() ? JSON.parse(patriarch.heresiesFought) : [];\n        }\n      } catch (e) {\n        // If parsing fails, try to split by comma as fallback\n        if (typeof patriarch.heresiesFought === 'string') {\n          patriarchHeresies = patriarch.heresiesFought.split(',').map(h => h.trim()).filter(h => h);\n        }\n      }\n\n      const matchingHeresies = patriarchHeresies.filter((h: string) => \n        criteria.selectedHeresies.includes(h)\n      );\n      if (matchingHeresies.length > 0) {\n        score += matchingHeresies.length * 20;\n        reasons.push(`حارب ${matchingHeresies.join('، ')}`);\n      }\n\n      // Time interest matching\n      if (criteria.timeInterest) {\n        if (criteria.timeInterest === \"early\" && patriarch.startYear < 400) {\n          score += 25;\n          reasons.push(\"من العصور المسيحية المبكرة\");\n        } else if (criteria.timeInterest === \"golden\" && patriarch.startYear >= 300 && patriarch.startYear <= 600) {\n          score += 25;\n          reasons.push(\"من العصر الذهبي للكنيسة\");\n        } else if (criteria.timeInterest === \"councils\" && patriarch.startYear >= 300 && patriarch.startYear <= 800) {\n          score += 25;\n          reasons.push(\"شارك في عصر المجامع المسكونية\");\n        } else if (criteria.timeInterest === \"modern\" && patriarch.startYear >= 1800) {\n          score += 25;\n          reasons.push(\"من العصر الحديث\");\n        }\n      }\n\n      // Topic interest matching\n      if (criteria.topicInterest) {\n        const contributions = patriarch.contributions.toLowerCase();\n        if (criteria.topicInterest === \"theology\" && \n            (contributions.includes(\"لاهوت\") || contributions.includes(\"عقيدة\") || contributions.includes(\"تعليم\"))) {\n          score += 20;\n          reasons.push(\"متخصص في اللاهوت والعقيدة\");\n        } else if (criteria.topicInterest === \"leadership\" && \n                   (contributions.includes(\"قيادة\") || contributions.includes(\"إدارة\") || contributions.includes(\"تنظيم\"))) {\n          score += 20;\n          reasons.push(\"قائد وإداري ماهر\");\n        } else if (criteria.topicInterest === \"missions\" && \n                   (contributions.includes(\"كرازة\") || contributions.includes(\"تبشير\") || contributions.includes(\"انتشار\"))) {\n          score += 20;\n          reasons.push(\"رائد في الكرازة والإرساليات\");\n        } else if (criteria.topicInterest === \"defense\" && \n                   (contributions.includes(\"دفاع\") || contributions.includes(\"حماية\") || contributions.includes(\"رد\"))) {\n          score += 20;\n          reasons.push(\"مدافع قوي عن الإيمان\");\n        }\n      }\n\n      // Personality trait matching\n      if (criteria.personalityTrait) {\n        const bio = `${patriarch.contributions} ${patriarch.biography || \"\"}`.toLowerCase();\n        if (criteria.personalityTrait === \"scholar\" && \n            (bio.includes(\"علم\") || bio.includes(\"كتب\") || bio.includes(\"تأليف\") || bio.includes(\"دراسة\"))) {\n          score += 15;\n          reasons.push(\"عالم ومثقف\");\n        } else if (criteria.personalityTrait === \"defender\" && \n                   (bio.includes(\"حارب\") || bio.includes(\"دافع\") || bio.includes(\"قاوم\"))) {\n          score += 15;\n          reasons.push(\"مدافع شجاع\");\n        } else if (criteria.personalityTrait === \"builder\" && \n                   (bio.includes(\"بنى\") || bio.includes(\"أسس\") || bio.includes(\"شيد\") || bio.includes(\"طور\"))) {\n          score += 15;\n          reasons.push(\"بناء ومؤسس\");\n        } else if (criteria.personalityTrait === \"mystic\" && \n                   (bio.includes(\"روحاني\") || bio.includes(\"تصوف\") || bio.includes(\"عبادة\") || bio.includes(\"تقوى\"))) {\n          score += 15;\n          reasons.push(\"روحاني متصوف\");\n        }\n      }\n\n      // Search term matching\n      if (searchTerm) {\n        const searchLower = searchTerm.toLowerCase();\n        if (patriarch.name.toLowerCase().includes(searchLower) ||\n            patriarch.arabicName?.toLowerCase().includes(searchLower) ||\n            patriarch.contributions.toLowerCase().includes(searchLower)) {\n          score += 10;\n          reasons.push(\"يطابق البحث الخاص بك\");\n        }\n      }\n\n      return { patriarch, score, reasons };\n    });\n\n    // Sort by score and take top 6\n    const topRecommendations = scoredPatriarchs\n      .filter(r => r.score > 0)\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 6);\n\n    setRecommendations(topRecommendations);\n  };\n\n  useEffect(() => {\n    generateRecommendations();\n  }, [criteria, searchTerm, patriarchs]);\n\n  const updateCriteria = (key: keyof RecommendationCriteria, value: any) => {\n    setCriteria(prev => ({ ...prev, [key]: value }));\n  };\n\n  const handleEraChange = (era: string, checked: boolean) => {\n    setCriteria(prev => ({\n      ...prev,\n      selectedEras: checked \n        ? [...prev.selectedEras, era]\n        : prev.selectedEras.filter(e => e !== era)\n    }));\n  };\n\n  const handleHeresyChange = (heresy: string, checked: boolean) => {\n    setCriteria(prev => ({\n      ...prev,\n      selectedHeresies: checked \n        ? [...prev.selectedHeresies, heresy]\n        : prev.selectedHeresies.filter(h => h !== heresy)\n    }));\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Sparkles className=\"mx-auto h-12 w-12 text-amber-600 animate-spin\" />\n          <p className=\"mt-4 text-lg text-gray-600\">جاري تحضير الاقتراحات</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-amber-50 to-orange-100\" dir=\"rtl\">\n      <div className=\"container mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"text-center mb-8 relative\">\n          {/* Home Button */}\n          <div className=\"absolute top-0 right-0\">\n            <Button\n              onClick={() => setLocation(\"/\")}\n              className=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center gap-2\"\n            >\n              <Home className=\"h-5 w-5\" />\n              الصفحة الرئيسية\n            </Button>\n          </div>\n\n          <div className=\"flex items-center justify-center gap-3 mb-4\">\n            <Brain className=\"h-8 w-8 text-purple-600\" />\n            <h1 className=\"text-4xl font-bold text-gray-800\">محرك الاقتراحات الذكي</h1>\n            <Sparkles className=\"h-8 w-8 text-amber-600\" />\n          </div>\n          <p className=\"text-lg text-gray-600 max-w-3xl mx-auto\">\n            اكتشف البطاركة المناسبين لاهتماماتك بالذكاء الاصطناعي أو الفلترة التقليدية\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\n          {/* Filters Panel */}\n          <div className=\"lg:col-span-1\">\n            <Card className=\"sticky top-4\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Search className=\"h-5 w-5\" />\n                  فلاتر البحث\n                </CardTitle>\n                <CardDescription>\n                  اختر اهتماماتك لنقترح عليك أفضل البطاركة\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Search Input */}\n                <div>\n                  <Label htmlFor=\"search\">البحث النصي</Label>\n                  <Input\n                    id=\"search\"\n                    placeholder=\"ابحث بالاسم أو المساهمات...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"mt-1\"\n                  />\n                </div>\n\n                <Separator />\n\n                {/* Era Filter */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Clock className=\"h-4 w-4\" />\n                    العصور التاريخية\n                  </Label>\n                  <div className=\"mt-2 space-y-2 max-h-40 overflow-y-auto\">\n                    {uniqueEras.map((era) => (\n                      <div key={era} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={`era-${era}`}\n                          checked={criteria.selectedEras.includes(era)}\n                          onCheckedChange={(checked) => handleEraChange(era, checked as boolean)}\n                        />\n                        <Label htmlFor={`era-${era}`} className=\"text-sm cursor-pointer\">\n                          {era}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Heresies Filter */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Shield className=\"h-4 w-4\" />\n                    البدع المحاربة\n                  </Label>\n                  <div className=\"mt-2 space-y-2 max-h-40 overflow-y-auto\">\n                    {uniqueHeresies.slice(0, 10).map((heresy) => (\n                      <div key={heresy} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={`heresy-${heresy}`}\n                          checked={criteria.selectedHeresies.includes(heresy)}\n                          onCheckedChange={(checked) => handleHeresyChange(heresy, checked as boolean)}\n                        />\n                        <Label htmlFor={`heresy-${heresy}`} className=\"text-sm cursor-pointer\">\n                          {heresy}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Separator />\n\n                {/* Time Interest */}\n                <div>\n                  <Label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Clock className=\"h-4 w-4\" />\n                    الفترة الزمنية المفضلة\n                  </Label>\n                  <div className=\"mt-2 space-y-2\">\n                    {timeInterests.map((interest) => (\n                      <div key={interest.id} className=\"flex items-center space-x-2\">\n                        <Checkbox\n                          id={interest.id}\n                          checked={criteria.timeInterest === interest.value}\n                          onCheckedChange={(checked) => \n                            updateCriteria(\"timeInterest\", checked ? interest.value : \"\")\n                          }\n                        />\n                        <Label htmlFor={interest.id} className=\"text-sm cursor-pointer\">\n                          {interest.label}\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <Button \n                  onClick={() => setCriteria({\n                    selectedEras: [],\n                    selectedHeresies: [],\n                    timeInterest: \"\",\n                    topicInterest: \"\",\n                    personalityTrait: \"\"\n                  })}\n                  variant=\"outline\"\n                  className=\"w-full\"\n                >\n                  مسح الفلاتر\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n\n          {/* Recommendations Results */}\n          <div className=\"lg:col-span-3\">\n            <Tabs defaultValue=\"smart\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n                <TabsTrigger value=\"smart\" className=\"flex items-center gap-2\">\n                  <Brain className=\"h-4 w-4\" />\n                  اقتراحات الذكاء الاصطناعي\n                </TabsTrigger>\n                <TabsTrigger value=\"traditional\" className=\"flex items-center gap-2\">\n                  <Search className=\"h-4 w-4\" />\n                  الفلترة التقليدية\n                </TabsTrigger>\n              </TabsList>\n\n              {/* AI Recommendations Tab */}\n              <TabsContent value=\"smart\">\n                <Card className=\"mb-6\">\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center gap-2 text-right\">\n                      <Brain className=\"h-5 w-5 text-purple-600\" />\n                      محرك الاقتراحات الذكية\n                    </CardTitle>\n                    <CardDescription className=\"text-right\">\n                      أخبرنا عن اهتماماتك وسيقوم الذكاء الاصطناعي بتحليلها واقتراح أفضل البطاركة المناسبين لك\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div>\n                      <Label htmlFor=\"user-description\" className=\"text-right block\">صف اهتماماتك وما تبحث عنه</Label>\n                      <Textarea\n                        id=\"user-description\"\n                        placeholder=\"مثال: أهتم بتاريخ الكنيسة المبكرة والدفاع عن العقيدة ضد البدع، وأريد أن أتعلم عن البطاركة الذين واجهوا تحديات مشابهة لما نواجهه اليوم...\"\n                        value={userDescription}\n                        onChange={(e) => setUserDescription(e.target.value)}\n                        rows={4}\n                        className=\"mt-1\"\n                      />\n                    </div>\n\n                    {isLoadingApiStatus ? (\n                      <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-6 text-center\">\n                        <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                          <i className=\"fas fa-spinner fa-spin text-blue-500 text-2xl\"></i>\n                        </div>\n                        <h3 className=\"text-xl font-bold text-blue-600 mb-2\">\n                          جاري فحص حالة الذكاء الاصطناعي\n                        </h3>\n                        <p className=\"text-blue-500 text-lg\">\n                          يرجى الانتظار بينما نتحقق من إعدادات Gemini API\n                        </p>\n                      </div>\n                    ) : !apiStatus?.connected ? (\n                      <div className=\"bg-red-50 border border-red-200 rounded-xl p-6 text-center\">\n                        <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                          <i className=\"fas fa-exclamation-triangle text-red-500 text-2xl\"></i>\n                        </div>\n                        <h3 className=\"text-xl font-bold text-red-600 mb-2\">\n                          {!apiStatus?.hasApiKey ? 'مفتاح Gemini API غير مُكوَّن' : 'مفتاح Gemini API غير متصل'}\n                        </h3>\n                        <p className=\"text-red-500 text-lg mb-4\">\n                          {!apiStatus?.hasApiKey ? 'يجب تكوين مفتاح API في لوحة الإدارة أولاً لاستخدام الاقتراحات الذكية' : 'يرجى التحقق من صحة مفتاح API في لوحة الإدارة'}\n                        </p>\n                        <Button \n                          onClick={() => setLocation(\"/admin\")}\n                          className=\"bg-red-600 hover:bg-red-700 text-white\"\n                        >\n                          <i className=\"fas fa-cog mr-2\"></i>\n                          الذهاب إلى لوحة الإدارة\n                        </Button>\n                      </div>\n                    ) : (\n                      <Button\n                        onClick={() => aiRecommendationsMutation.mutate()}\n                        disabled={aiRecommendationsMutation.isPending || !userDescription.trim()}\n                        className=\"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700\"\n                      >\n                        {aiRecommendationsMutation.isPending ? (\n                          <>\n                            <Sparkles className=\"h-4 w-4 mr-2 animate-spin\" />\n                            جاري التحليل بالذكاء الاصطناعي ({Math.round(loadingProgress)}%)\n                          </>\n                        ) : (\n                          <>\n                            <Zap className=\"h-4 w-4 mr-2\" />\n                            احصل على اقتراحات ذكية\n                          </>\n                        )}\n                      </Button>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* AI Recommendations Display */}\n                {aiRecommendations && (\n                  <div className=\"space-y-6\">\n                    <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200\">\n                      <h3 className=\"text-xl font-bold text-purple-800 mb-2\">\n                        نصائح الذكاء الاصطناعي لك\n                      </h3>\n                      <p className=\"text-purple-700 leading-relaxed\">\n                        {aiRecommendations.overallAdvice}\n                      </p>\n                    </div>\n\n                    {/* Brief Description Section */}\n                    <div className=\"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-6 border border-amber-200\">\n                      <h3 className=\"text-xl font-bold text-amber-800 mb-4 flex items-center gap-2\">\n                        <BookOpen className=\"h-5 w-5\" />\n                        نبذة مختصرة عن البطاركة المقترحين\n                      </h3>\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        {aiRecommendations.recommendations.map((rec: any, index: number) => (\n                          rec.patriarch && (\n                            <div key={index} className=\"bg-white rounded-lg p-4 border border-amber-200 shadow-sm\">\n                              <h4 className=\"font-semibold text-amber-900 mb-2 flex items-center gap-2\">\n                                <div className=\"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center\">\n                                  <span className=\"text-amber-700 font-bold text-sm\">{rec.patriarch.orderNumber}</span>\n                                </div>\n                                {rec.patriarch.arabicName || rec.patriarch.name}\n                              </h4>\n                              <div className=\"space-y-2 text-sm text-amber-800\">\n                                <p><strong>الفترة:</strong> {rec.patriarch.startYear} - {rec.patriarch.endYear || \"الآن\"} م</p>\n                                <p><strong>العصر:</strong> {rec.patriarch.era}</p>\n                                <p className=\"text-amber-700 leading-relaxed\">\n                                  <strong>المساهمات:</strong> {rec.patriarch.contributions?.substring(0, 150)}\n                                  {rec.patriarch.contributions?.length > 150 && \"...\"}\n                                </p>\n                                {rec.patriarch.heresiesFought && rec.patriarch.heresiesFought !== '[]' && (\n                                  <div>\n                                    <strong>البدع المحاربة:</strong>\n                                    <div className=\"flex flex-wrap gap-1 mt-1\">\n                                      {(() => {\n                                        try {\n                                          const heresies = Array.isArray(rec.patriarch.heresiesFought) \n                                            ? rec.patriarch.heresiesFought \n                                            : JSON.parse(rec.patriarch.heresiesFought);\n                                          return heresies.slice(0, 3).map((heresy: string, idx: number) => (\n                                            <Badge key={idx} variant=\"outline\" className=\"text-xs bg-red-50 text-red-700 border-red-200\">\n                                              {heresy}\n                                            </Badge>\n                                          ));\n                                        } catch (e) {\n                                          return null;\n                                        }\n                                      })()}\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </div>\n                          )\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      {aiRecommendations.recommendations.map((rec: any, index: number) => (\n                        <div key={index} className=\"relative\">\n                          <div className=\"absolute top-4 left-4 z-10\">\n                            <Badge className=\"bg-purple-100 text-purple-800\">\n                              AI Score: {rec.score}%\n                            </Badge>\n                          </div>\n\n                          {rec.patriarch && <PatriarchCard patriarch={rec.patriarch} />}\n\n                          <Card className=\"mt-2 border-purple-200 bg-purple-50\">\n                            <CardContent className=\"p-4\">\n                              <div className=\"space-y-3\">\n                                <div>\n                                  <p className=\"text-sm font-medium text-purple-800 mb-2\">\n                                    🤖 تحليل الذكاء الاصطناعي:\n                                  </p>\n                                  <div className=\"space-y-1\">\n                                    {rec.reasons.map((reason: string, idx: number) => (\n                                      <Badge key={idx} variant=\"outline\" className=\"text-xs mr-1 mb-1\">\n                                        {reason}\n                                      </Badge>\n                                    ))}\n                                  </div>\n                                </div>\n\n                                {rec.personalAdvice && (\n                                  <div className=\"border-t pt-2\">\n                                    <p className=\"text-sm font-medium text-purple-800 mb-1\">\n                                      💡 نصيحة شخصية:\n                                    </p>\n                                    <p className=\"text-sm text-purple-700\">\n                                      {rec.personalAdvice}\n                                    </p>\n                                  </div>\n                                )}\n\n                                {rec.highlights && rec.highlights.length > 0 && (\n                                  <div className=\"border-t pt-2\">\n                                    <p className=\"text-sm font-medium text-purple-800 mb-1\">\n                                      ⭐ نقاط مميزة:\n                                    </p>\n                                    <div className=\"flex flex-wrap gap-1\">\n                                      {rec.highlights.map((highlight: string, idx: number) => (\n                                        <Badge key={idx} className=\"text-xs bg-yellow-100 text-yellow-800\">\n                                          {highlight}\n                                        </Badge>\n                                      ))}\n                                    </div>\n                                  </div>\n                                )}\n                              </div>\n                            </CardContent>\n                          </Card>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {/* No AI recommendations yet */}\n                {!aiRecommendations && !aiRecommendationsMutation.isPending && (\n                  <Card className=\"text-center py-16\">\n                    <CardContent>\n                      <Brain className=\"mx-auto h-16 w-16 text-purple-400 mb-4\" />\n                      <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">\n                        جاهز للاقتراحات الذكية\n                      </h3>\n                      <p className=\"text-gray-500 mb-4\">\n                        اكتب وصفاً لاهتماماتك أعلاه وسيقوم الذكاء الاصطناعي بتحليلها وتقديم اقتراحات مخصصة لك\n                      </p>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n\n              {/* Traditional Recommendations Tab */}\n              <TabsContent value=\"traditional\">\n                {recommendations.length > 0 ? (\n                  <>\n                    <div className=\"mb-6\">\n                      <h2 className=\"text-2xl font-bold text-gray-800 mb-2\">\n                        الاقتراحات المخصصة لك ({recommendations.length})\n                      </h2>\n                      <p className=\"text-gray-600\">\n                        تم ترتيب النتائج بناءً على مطابقة اهتماماتك\n                      </p>\n                    </div>\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                      {recommendations.map((rec, index) => (\n                        <div key={rec.patriarch.id} className=\"relative\">\n                          <div className=\"absolute top-4 left-4 z-10\">\n                            <Badge variant=\"secondary\" className=\"bg-amber-100 text-amber-800\">\n                              #{index + 1}\n                            </Badge>\n                          </div>\n\n                          <PatriarchCard patriarch={rec.patriarch} />\n\n                          {rec.reasons.length > 0 && (\n                            <Card className=\"mt-2 border-amber-200 bg-amber-50\">\n                              <CardContent className=\"p-3\">\n                                <p className=\"text-sm font-medium text-amber-800 mb-1\">\n                                  لماذا يناسبك هذا البطريرك:\n                                </p>\n                                <div className=\"flex flex-wrap gap-1\">\n                                  {rec.reasons.map((reason, idx) => (\n                                    <Badge key={idx} variant=\"outline\" className=\"text-xs\">\n                                      {reason}\n                                    </Badge>\n                                  ))}\n                                </div>\n                              </CardContent>\n                            </Card>\n                          )}\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <Card className=\"text-center py-16\">\n                    <CardContent>\n                      <Sparkles className=\"mx-auto h-16 w-16 text-gray-400 mb-4\" />\n                      <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">\n                        لا توجد اقتراحات بعد\n                      </h3>\n                      <p className=\"text-gray-500 mb-4\">\n                        اختر اهتماماتك من القائمة الجانبية لنقترح عليك البطاركة المناسبين\n                      </p>\n                      <Button onClick={() => updateCriteria(\"timeInterest\", \"golden\")} className=\"mt-2\">\n                        ابدأ بالعصر الذهبي\n                      </Button>\n                    </CardContent>\n                  </Card>\n                )}\n              </TabsContent>\n            </Tabs>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":35208},"client/src/pages/references.tsx":{"content":"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useLocation } from \"wouter\";\n\nexport default function References() {\n  const [, setLocation] = useLocation();\n\n  const books = [\n    {\n      title: \"تاريخ الكنيسة القبطية\",\n      author: \"الأنبا يوأنس\",\n      year: \"1983\",\n      publisher: \"مطبعة دير القديس أنبا مقار\",\n      description: \"دراسة شاملة لتاريخ الكنيسة القبطية من العصر الرسولي حتى القرن العشرين\",\n      type: \"كتاب\"\n    },\n    {\n      title: \"بطاركة الكرسي الإسكندري\",\n      author: \"الدكتور جورج فيلوثاوس\",\n      year: \"1996\",\n      publisher: \"الكلية الإكليريكية\",\n      description: \"سير مفصلة لجميع بطاركة الإسكندرية مع تحليل لفترات حكمهم\",\n      type: \"كتاب\"\n    },\n    {\n      title: \"مجمع خلقيدونية وموقف الكنيسة القبطية\",\n      author: \"الأنبا بيشوي\",\n      year: \"2001\",\n      publisher: \"مكتبة المحبة\",\n      description: \"دراسة لاهوتية حول مجمع خلقيدونية وأسباب رفض الكنيسة القبطية له\",\n      type: \"كتاب\"\n    },\n    {\n      title: \"القديس أثناسيوس الرسولي\",\n      author: \"الأنبا مكاريوس\",\n      year: \"1988\",\n      publisher: \"دار الطباعة القومية\",\n      description: \"سيرة شاملة للقديس أثناسيوس ودوره في محاربة الآريوسية\",\n      type: \"كتاب\"\n    },\n    {\n      title: \"الكنيسة القبطية في العصور الوسطى\",\n      author: \"الدكتور عزيز سوريال عطية\",\n      year: \"1979\",\n      publisher: \"دار المعارف\",\n      description: \"تحليل تاريخي لفترة الحكم الإسلامي وتأثيره على الكنيسة القبطية\",\n      type: \"كتاب\"\n    },\n    {\n      title: \"مدرسة الإسكندرية اللاهوتية\",\n      author: \"الأنبا متاؤس\",\n      year: \"1995\",\n      publisher: \"مكتبة الكاروز\",\n      description: \"تاريخ وتطور مدرسة الإسكندرية ودورها في الفكر المسيحي\",\n      type: \"كتاب\"\n    }\n  ];\n\n  const articles = [\n    {\n      title: \"البطريرك كيرلس السادس ودوره في النهضة القبطية\",\n      author: \"الدكتور ميلاد حنا\",\n      journal: \"مجلة الكرازة\",\n      year: \"2003\",\n      description: \"دراسة عن إنجازات البطريرك كيرلس السادس\",\n      type: \"مقال\"\n    },\n    {\n      title: \"التقويم القبطي وأهميته التاريخية\",\n      author: \"الأستاذ رؤوف حبيب\",\n      journal: \"مجلة كنيستي\",\n      year: \"2005\",\n      description: \"شرح مفصل للتقويم القبطي وعلاقته بالتاريخ الكنسي\",\n      type: \"مقال\"\n    },\n    {\n      title: \"الرهبنة القبطية في القرون الأولى\",\n      author: \"الأب متى المسكين\",\n      journal: \"مجلة مار جرجس\",\n      year: \"1992\",\n      description: \"تطور الحياة الرهبانية في مصر وتأثيرها على العالم\",\n      type: \"مقال\"\n    }\n  ];\n\n  const digitalResources = [\n    {\n      title: \"موقع الكنيسة القبطية الأرثوذكسية\",\n      url: \"copticchurch.net\",\n      description: \"الموقع الرسمي للكنيسة القبطية الأرثوذكسية\",\n      type: \"موقع إلكتروني\"\n    },\n    {\n      title: \"مكتبة المشروع القبطي\",\n      url: \"coptic-treasures.com\",\n      description: \"مجموعة رقمية من النصوص والوثائق القبطية\",\n      type: \"مكتبة رقمية\"\n    },\n    {\n      title: \"أرشيف القديس تكلا\",\n      url: \"st-takla.org\",\n      description: \"موسوعة شاملة للتراث المسيحي القبطي\",\n      type: \"موسوعة\"\n    }\n  ];\n\n  const manuscripts = [\n    {\n      title: \"مخطوطات دير سانت كاترين\",\n      location: \"دير سانت كاترين، سيناء\",\n      description: \"مجموعة نادرة من المخطوطات القبطية واليونانية\",\n      date: \"القرون 4-15\",\n      type: \"مخطوطات\"\n    },\n    {\n      title: \"مخطوطات المتحف القبطي\",\n      location: \"المتحف القبطي، القاهرة\",\n      description: \"أكبر مجموعة من المخطوطات القبطية في العالم\",\n      date: \"القرون 3-18\",\n      type: \"مخطوطات\"\n    },\n    {\n      title: \"أوراق البردي القبطية\",\n      location: \"المتحف المصري، القاهرة\",\n      description: \"وثائق تاريخية على البردي تحكي قصة المسيحيين الأوائل\",\n      date: \"القرون 3-8\",\n      type: \"بردي\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\" dir=\"rtl\">\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n        \n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n              <i className=\"fas fa-book text-4xl\"></i>\n            </div>\n            <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n              المراجع والمصادر\n            </h1>\n            <p className=\"text-xl md:text-2xl text-blue-100 mb-6 leading-relaxed\">\n              مصادر موثوقة لدراسة تاريخ الكنيسة القبطية الأرثوذكسية\n            </p>\n            <p className=\"text-lg text-blue-200 max-w-3xl mx-auto\">\n              مجموعة شاملة من الكتب والمقالات والمخطوطات والمصادر الرقمية \n              للباحثين والمهتمين بالتاريخ القبطي\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"container mx-auto px-4 py-12\">\n        {/* Books Section */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-blue-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-book ml-3\"></i>\n              الكتب والمؤلفات\n            </CardTitle>\n            <p className=\"text-gray-600\">مراجع أساسية في تاريخ الكنيسة القبطية</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              {books.map((book, index) => (\n                <Card key={index} className=\"border-r-4 border-blue-600\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start\">\n                      <div className=\"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center ml-4 flex-shrink-0\">\n                        <i className=\"fas fa-book-open text-white\"></i>\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold text-blue-600 font-amiri mb-1\">{book.title}</h3>\n                        <p className=\"text-gray-700 mb-2\">{book.author}</p>\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Badge variant=\"outline\" className=\"text-xs\">{book.year}</Badge>\n                          <Badge variant=\"outline\" className=\"text-xs\">{book.type}</Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-2\">{book.publisher}</p>\n                        <p className=\"text-sm text-gray-700\">{book.description}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Articles Section */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-purple-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-newspaper ml-3\"></i>\n              المقالات والدراسات\n            </CardTitle>\n            <p className=\"text-gray-600\">بحوث ودراسات متخصصة</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {articles.map((article, index) => (\n                <Card key={index} className=\"border-r-4 border-purple-600\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start\">\n                      <div className=\"w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center ml-4 flex-shrink-0\">\n                        <i className=\"fas fa-file-alt text-white\"></i>\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold text-purple-600 font-amiri mb-1\">{article.title}</h3>\n                        <p className=\"text-gray-700 mb-2\">{article.author}</p>\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Badge variant=\"outline\" className=\"text-xs\">{article.year}</Badge>\n                          <Badge variant=\"outline\" className=\"text-xs\">{article.type}</Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-2\">{article.journal}</p>\n                        <p className=\"text-sm text-gray-700\">{article.description}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Digital Resources */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-green-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-globe ml-3\"></i>\n              المصادر الرقمية\n            </CardTitle>\n            <p className=\"text-gray-600\">مواقع ومكتبات إلكترونية</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {digitalResources.map((resource, index) => (\n                <Card key={index} className=\"border-r-4 border-green-600\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"text-center\">\n                      <div className=\"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                        <i className=\"fas fa-laptop text-white text-xl\"></i>\n                      </div>\n                      <h3 className=\"font-bold text-green-600 font-amiri mb-2\">{resource.title}</h3>\n                      <Badge variant=\"outline\" className=\"mb-2 text-xs\">{resource.type}</Badge>\n                      <p className=\"text-sm text-blue-600 mb-2\">{resource.url}</p>\n                      <p className=\"text-sm text-gray-700\">{resource.description}</p>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Manuscripts */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-yellow-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-scroll ml-3\"></i>\n              المخطوطات والوثائق التاريخية\n            </CardTitle>\n            <p className=\"text-gray-600\">مصادر أولية من التراث القبطي</p>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {manuscripts.map((manuscript, index) => (\n                <Card key={index} className=\"border-r-4 border-yellow-600\">\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-start\">\n                      <div className=\"w-12 h-12 bg-yellow-600 rounded-lg flex items-center justify-center ml-4 flex-shrink-0\">\n                        <i className=\"fas fa-scroll text-white\"></i>\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"font-bold text-yellow-600 font-amiri mb-1\">{manuscript.title}</h3>\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <Badge variant=\"outline\" className=\"text-xs\">{manuscript.date}</Badge>\n                          <Badge variant=\"outline\" className=\"text-xs\">{manuscript.type}</Badge>\n                        </div>\n                        <p className=\"text-sm text-gray-600 mb-2\">{manuscript.location}</p>\n                        <p className=\"text-sm text-gray-700\">{manuscript.description}</p>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Research Guidelines */}\n        <Card className=\"shadow-lg mb-12\">\n          <CardHeader className=\"text-center\">\n            <CardTitle className=\"text-3xl font-amiri text-red-600 mb-4 flex items-center justify-center\">\n              <i className=\"fas fa-search ml-3\"></i>\n              إرشادات البحث\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n              <div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">للباحثين المبتدئين</h3>\n                <ul className=\"space-y-2 text-gray-600\">\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-green-600 mt-1 ml-2\"></i>\n                    ابدأ بالكتب العامة عن تاريخ الكنيسة القبطية\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-green-600 mt-1 ml-2\"></i>\n                    اطلع على المواقع الإلكترونية الرسمية\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-green-600 mt-1 ml-2\"></i>\n                    تعرف على العصور التاريخية المختلفة\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-green-600 mt-1 ml-2\"></i>\n                    ادرس السياق التاريخي لكل فترة\n                  </li>\n                </ul>\n              </div>\n              \n              <div>\n                <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">للباحثين المتقدمين</h3>\n                <ul className=\"space-y-2 text-gray-600\">\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-blue-600 mt-1 ml-2\"></i>\n                    اعتمد على المصادر الأولية والمخطوطات\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-blue-600 mt-1 ml-2\"></i>\n                    قارن بين المصادر المختلفة\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-blue-600 mt-1 ml-2\"></i>\n                    ادرس اللغة القبطية واليونانية\n                  </li>\n                  <li className=\"flex items-start\">\n                    <i className=\"fas fa-check text-blue-600 mt-1 ml-2\"></i>\n                    تواصل مع المؤسسات الأكاديمية\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Call to Action */}\n        <div className=\"text-center\">\n          <Card className=\"shadow-lg bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n            <CardContent className=\"p-8\">\n              <h2 className=\"text-3xl font-amiri mb-4\">ابدأ رحلة البحث</h2>\n              <p className=\"text-lg mb-6 text-blue-100\">\n                استخدم هذه المصادر لاستكشاف تاريخ الكنيسة القبطية الأرثوذكسية بعمق أكبر\n              </p>\n              <div className=\"flex flex-wrap justify-center gap-4\">\n                <Button \n                  onClick={() => setLocation(\"/\")}\n                  className=\"bg-yellow-400 text-black hover:bg-yellow-500 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-users ml-2\"></i>\n                  تصفح البطاركة\n                </Button>\n                <Button \n                  onClick={() => setLocation(\"/contact\")}\n                  variant=\"outline\" \n                  className=\"border-white text-white hover:bg-white hover:text-blue-600 px-8 py-3 text-lg\"\n                >\n                  <i className=\"fas fa-envelope ml-2\"></i>\n                  اتصل بنا\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":18494},"client/src/pages/smart-summary.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport Loading from \"@/components/ui/loading\";\nimport { useLocation } from \"wouter\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\n// Component for handling multiple patriarch results\nfunction MultiplePatriarchsResults({ \n  patriarchs, \n  tone, \n  onResultSelect, \n  summaryMutation \n}: {\n  patriarchs: PatriarchResult[];\n  tone: string;\n  onResultSelect: (result: SummaryResponse) => void;\n  summaryMutation: any;\n}) {\n  const [generatingIds, setGeneratingIds] = useState<Set<number>>(new Set());\n\n  const handleGenerateSummary = async (patriarch: PatriarchResult) => {\n    setGeneratingIds(prev => new Set(prev).add(patriarch.id));\n\n    try {\n      const response = await fetch(\"/api/generate-summary-by-id\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ patriarchId: patriarch.id, tone }),\n      });\n\n      const data = await response.json();\n\n      if (data.error) {\n        summaryMutation.mutate({ name: `${patriarch.name}`, tone });\n      } else {\n        onResultSelect(data);\n      }\n    } catch (error) {\n      // Fallback to name-based search\n      summaryMutation.mutate({ name: `${patriarch.name}`, tone });\n    } finally {\n      setGeneratingIds(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(patriarch.id);\n        return newSet;\n      });\n    }\n  };\n\n  return (\n    <Card className=\"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50 shadow-xl\">\n      <CardContent className=\"p-8\">\n        <div className=\"text-center mb-6\">\n          <h3 className=\"text-2xl font-bold text-blue-700 mb-2\">\n            <i className=\"fas fa-list ml-3\"></i>\n            عدة بطاركة بنفس الاسم\n          </h3>\n          <p className=\"text-blue-600 text-lg\">اختر البطريرك المطلوب للحصول على الملخص التفصيلي</p>\n        </div>\n\n        <div className=\"grid gap-4\">\n          {patriarchs.map((patriarch) => {\n            const isGenerating = generatingIds.has(patriarch.id);\n\n            return (\n              <Card key={patriarch.id} className=\"bg-white border-blue-200 hover:border-blue-400 transition-colors cursor-pointer\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"text-xl font-bold text-gray-800 mb-2\">{patriarch.name}</h4>\n                      <div className=\"flex gap-3 mb-3\">\n                        <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800\">\n                          البابا {patriarch.orderNumber}\n                        </Badge>\n                        <Badge variant=\"outline\" className=\"text-gray-600\">\n                          {patriarch.startYear} - {patriarch.endYear || \"الآن\"}\n                        </Badge>\n                        <Badge variant=\"outline\" className=\"text-purple-600\">\n                          {patriarch.era}\n                        </Badge>\n                      </div>\n                      <p className=\"text-gray-600\">{patriarch.shortDescription}</p>\n                    </div>\n                    <Button \n                      onClick={() => handleGenerateSummary(patriarch)}\n                      disabled={isGenerating || generatingIds.size > 0}\n                      className=\"bg-blue-600 hover:bg-blue-700 text-white min-w-[140px]\"\n                    >\n                      {isGenerating ? (\n                        <>\n                          <i className=\"fas fa-spinner fa-spin ml-2\"></i>\n                          جاري التحميل...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"fas fa-magic ml-2\"></i>\n                          إنشاء الملخص\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface PatriarchResult {\n  id: number;\n  name: string;\n  englishName: string;\n  orderNumber: number;\n  startYear: number;\n  endYear?: number;\n  era: string;\n  shortDescription: string;\n}\n\ninterface SummaryResponse {\n  summary?: string;\n  patriarch?: {\n    name: string;\n    orderNumber: number;\n    startYear: number;\n    endYear?: number;\n    era: string;\n  };\n  multipleResults?: boolean;\n  patriarchs?: PatriarchResult[];\n  message?: string;\n}\n\nexport default function SmartSummary() {\n  const [, setLocation] = useLocation();\n  const [patriarchName, setPatriarchName] = useState(\"\");\n  const [tone, setTone] = useState(\"easy\");\n  const [result, setResult] = useState<SummaryResponse | null>(null);\n\n  // Check API key status\n  const { data: apiStatus, isLoading: isLoadingApiStatus } = useQuery({\n    queryKey: ['/api/gemini-status'],\n    queryFn: async () => {\n      const response = await fetch('/api/gemini-status', {\n        headers: { 'Content-Type': 'application/json' }\n      });\n      if (!response.ok) throw new Error('Failed to fetch API status');\n      return response.json();\n    }\n  });\n\n  const summaryMutation = useMutation({\n    mutationFn: async ({ name, tone }: { name: string; tone: string }) => {\n      const response = await fetch(\"/api/generate-smart-summary\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ name, tone }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"فشل في توليد الملخص\");\n      }\n\n      return response.json();\n    },\n    onSuccess: (data) => {\n      setResult(data);\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (patriarchName.trim()) {\n      if (!apiStatus?.connected) {\n        alert(\"مفتاح Gemini API غير متصل. يرجى تكوين المفتاح في لوحة الإدارة أولاً.\");\n        return;\n      }\n      summaryMutation.mutate({ name: patriarchName.trim(), tone });\n    }\n  };\n\n  const toneLabels = {\n    easy: \"لغة سهلة ومبسطة\",\n    academic: \"لغة أكاديمية ومتخصصة\", \n    kids: \"ملخص مناسب للأطفال\"\n  };\n\n  const toneIcons = {\n    easy: \"fas fa-user-friends\",\n    academic: \"fas fa-graduation-cap\",\n    kids: \"fas fa-child\"\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-teal-50\" dir=\"rtl\">\n      {/* Home Button */}\n      <Button\n        onClick={() => setLocation(\"/\")}\n        variant=\"outline\"\n        className=\"fixed top-4 right-4 z-10 bg-white/90 backdrop-blur-sm border-green-300 text-green-600 hover:bg-green-50 shadow-lg\"\n      >\n        <i className=\"fas fa-home ml-2\"></i>\n        الصفحة الرئيسية\n      </Button>\n\n      {/* Hero Section */}\n      <div className=\"bg-gradient-to-r from-green-600 via-teal-600 to-green-800 text-white relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black bg-opacity-10\"></div>\n        <div className=\"absolute top-0 left-0 w-full h-full\">\n          <div className=\"absolute top-10 right-10 w-64 h-64 bg-white bg-opacity-10 rounded-full blur-3xl\"></div>\n          <div className=\"absolute bottom-10 left-10 w-48 h-48 bg-yellow-300 bg-opacity-20 rounded-full blur-2xl\"></div>\n        </div>\n\n        <div className=\"relative container mx-auto px-4 py-16\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"mb-8\">\n              <div className=\"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm\">\n                <i className=\"fas fa-brain text-4xl\"></i>\n              </div>\n              <h1 className=\"text-5xl md:text-6xl font-bold font-amiri mb-4 bg-gradient-to-r from-yellow-300 to-white bg-clip-text text-transparent\">\n                الملخص الذكي للبطاركة\n              </h1>\n              <p className=\"text-xl md:text-2xl text-green-100 mb-6 leading-relaxed\">\n                احصل على ملخص ذكي ومفصل عن أي بطريرك من بطاركة الكنيسة القبطية\n              </p>\n              <p className=\"text-lg text-green-200 max-w-3xl mx-auto\">\n                استخدم الذكاء الاصطناعي للحصول على معلومات شاملة ومنسقة عن حياة ومساهمات البطاركة\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"container mx-auto px-4 py-12\">\n        <div className=\"max-w-4xl mx-auto space-y-8\">\n          {/* Form Section */}\n          <Card className=\"bg-gradient-to-br from-green-50 to-teal-50 border-green-200 shadow-xl\">\n            <CardHeader>\n              <CardTitle className=\"text-3xl font-bold text-center bg-gradient-to-r from-green-600 to-teal-600 bg-clip-text text-transparent\">\n                <i className=\"fas fa-brain ml-3\"></i>\n                إنشاء ملخص ذكي\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-8\">\n              <form onSubmit={handleSubmit} className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-lg font-medium text-gray-700 mb-3\">\n                    <i className=\"fas fa-search ml-2\"></i>\n                    اسم أو رقم البطريرك\n                  </label>\n                  <Input\n                    type=\"text\"\n                    value={patriarchName}\n                    onChange={(e) => setPatriarchName(e.target.value)}\n                    placeholder=\"أدخل اسم أو رقم البطريرك (مثال: أثناسيوس، كيرلس، 117، 118...)\"\n                    className=\"text-xl py-6 px-6 bg-white shadow-lg border-green-300 focus:border-green-500 rounded-xl\"\n                    disabled={summaryMutation.isPending}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-lg font-medium text-gray-700 mb-3\">\n                    <i className=\"fas fa-palette ml-2\"></i>\n                    نوع اللغة والأسلوب\n                  </label>\n                  <Select value={tone} onValueChange={setTone} disabled={summaryMutation.isPending}>\n                    <SelectTrigger className=\"text-xl py-6 bg-white shadow-lg border-green-300 rounded-xl\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {Object.entries(toneLabels).map(([value, label]) => (\n                        <SelectItem key={value} value={value} className=\"text-lg py-4\">\n                          <div className=\"flex items-center gap-3\">\n                            <i className={toneIcons[value as keyof typeof toneIcons]}></i>\n                            {label}\n                          </div>\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                {isLoadingApiStatus ? (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-6 text-center\">\n                    <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <i className=\"fas fa-spinner fa-spin text-blue-500 text-2xl\"></i>\n                    </div>\n                    <h3 className=\"text-xl font-bold text-blue-600 mb-2\">\n                      جاري فحص حالة الذكاء الاصطناعي...\n                    </h3>\n                    <p className=\"text-blue-500 text-lg\">\n                      يرجى الانتظار بينما نتحقق من إعدادات Gemini API\n                    </p>\n                  </div>\n                ) : !apiStatus?.connected ? (\n                  <div className=\"bg-red-50 border border-red-200 rounded-xl p-6 text-center\">\n                    <div className=\"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <i className=\"fas fa-exclamation-triangle text-red-500 text-2xl\"></i>\n                    </div>\n                    <h3 className=\"text-xl font-bold text-red-600 mb-2\">\n                      {!apiStatus?.hasApiKey ? 'مفتاح Gemini API غير مُكوَّن' : 'مفتاح Gemini API غير متصل'}\n                    </h3>\n                    <p className=\"text-red-500 text-lg mb-4\">\n                      {!apiStatus?.hasApiKey ? 'يجب تكوين مفتاح API في لوحة الإدارة أولاً لاستخدام الملخص الذكي' : 'يرجى التحقق من صحة مفتاح API في لوحة الإدارة'}\n                    </p>\n                    <Button \n                      onClick={() => setLocation(\"/admin\")}\n                      className=\"bg-red-600 hover:bg-red-700 text-white\"\n                    >\n                      <i className=\"fas fa-cog mr-2\"></i>\n                      الذهاب إلى لوحة الإدارة\n                    </Button>\n                  </div>\n                ) : (\n                  <Button\n                    type=\"submit\"\n                    disabled={!patriarchName.trim() || summaryMutation.isPending}\n                    className=\"w-full py-8 text-xl bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white shadow-xl transform hover:scale-105 transition-all duration-300 rounded-xl\"\n                  >\n                    {summaryMutation.isPending ? (\n                      <>\n                        <i className=\"fas fa-spinner fa-spin ml-3 text-xl\"></i>\n                        جاري توليد الملخص الذكي...\n                      </>\n                    ) : (\n                      <>\n                        <i className=\"fas fa-magic ml-3 text-xl\"></i>\n                        إنشاء الملخص الذكي\n                      </>\n                    )}\n                  </Button>\n                )}\n              </form>\n            </CardContent>\n          </Card>\n\n          {/* Loading State */}\n          {summaryMutation.isPending && (\n            <Card className=\"border-green-200 shadow-lg\">\n              <CardContent className=\"p-12\">\n                <Loading />\n                <p className=\"text-center text-gray-600 mt-6 text-lg\">\n                  جاري تحليل البيانات وتوليد الملخص الذكي...\n                </p>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Error State - Show in place of summary */}\n          {summaryMutation.isError && !result && (\n            <Card className=\"border-red-200 bg-red-50 shadow-lg\">\n              <CardContent className=\"p-8\">\n                <div className=\"text-center text-red-600\">\n                  <i className=\"fas fa-exclamation-triangle text-4xl mb-4\"></i>\n                  <p className=\"font-bold text-xl\">حدث خطأ في توليد الملخص</p>\n                  <p className=\"text-lg mt-2 mb-4\">\n                    {summaryMutation.error?.message || \"فشل في توليد الملخص\"}\n                  </p>\n                  <div className=\"space-y-2 text-sm\">\n                    <p><strong>نصائح للبحث:</strong></p>\n                    <ul className=\"text-right list-disc list-inside space-y-1\">\n                      <li>تأكد من كتابة الاسم بالطريقة الصحيحة</li>\n                      <li>جرب استخدام اسم البطريرك فقط (مثل: كيرلس)</li>\n                      <li>تحقق من وجود البطريرك في قاعدة البيانات</li>\n                      <li>تأكد من اتصال الإنترنت</li>\n                      <li>جرب استخدام أسماء مختلفة: \"شنوده\" بدلاً من \"شنودة\"</li>\n                    </ul>\n                  </div>\n                  <Button \n                    onClick={() => {\n                      summaryMutation.reset();\n                      setResult(null);\n                    }}\n                    className=\"mt-4 bg-blue-600 hover:bg-blue-700\"\n                  >\n                    <i className=\"fas fa-redo ml-2\"></i>\n                    إعادة المحاولة\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Multiple Results Section */}\n          {result && result.multipleResults && result.patriarchs && (\n            <MultiplePatriarchsResults \n              patriarchs={result.patriarchs} \n              tone={tone} \n              onResultSelect={setResult}\n              summaryMutation={summaryMutation}\n            />\n          )}\n\n          {/* Results Section */}\n          {result && result.summary && (\n            <Card className=\"border-green-200 bg-gradient-to-br from-green-50 to-blue-50 shadow-xl\">\n              <CardContent className=\"p-8\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"text-2xl font-bold text-green-700\">\n                    <i className=\"fas fa-check-circle ml-3\"></i>\n                    الملخص الذكي جاهز\n                  </h3>\n                  {result.patriarch && (\n                    <div className=\"flex gap-3\">\n                      <Badge variant=\"secondary\" className=\"bg-blue-100 text-blue-800 text-lg px-4 py-2\">\n                        البابا {result.patriarch.orderNumber}\n                      </Badge>\n                      <Badge variant=\"secondary\" className=\"bg-purple-100 text-purple-800 text-lg px-4 py-2\">\n                        {result.patriarch.era}\n                      </Badge>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"bg-white rounded-xl p-8 shadow-lg border-r-4 border-green-500\">\n                  <div className=\"prose prose-xl max-w-none text-gray-800 leading-relaxed\">\n                    {result.summary.split('\\n').map((paragraph, index) => (\n                      paragraph.trim() && (\n                        <p key={index} className=\"mb-6 text-lg leading-relaxed\">\n                          {paragraph.trim()}\n                        </p>\n                      )\n                    ))}\n                  </div>\n                </div>\n\n                {result.patriarch && (\n                  <div className=\"mt-6 p-6 bg-gray-50 rounded-xl\">\n                    <h4 className=\"font-bold text-gray-700 mb-4 text-xl\">\n                      <i className=\"fas fa-info-circle ml-2\"></i>\n                      معلومات سريعة\n                    </h4>\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-lg\">\n                      <div>\n                        <span className=\"font-bold\">الاسم:</span>\n                        <p className=\"text-gray-600\">{result.patriarch.name}</p>\n                      </div>\n                      <div>\n                        <span className=\"font-bold\">الرقم:</span>\n                        <p className=\"text-gray-600\">البابا {result.patriarch.orderNumber}</p>\n                      </div>\n                      <div>\n                        <span className=\"font-bold\">فترة الخدمة:</span>\n                        <p className=\"text-gray-600\">\n                          {result.patriarch.startYear} - {result.patriarch.endYear || \"الآن\"}\n                        </p>\n                      </div>\n                      <div>\n                        <span className=\"font-bold\">العصر:</span>\n                        <p className=\"text-gray-600\">{result.patriarch.era}</p>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          )}\n\n\n\n          {/* Instructions */}\n          <Card className=\"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 shadow-lg\">\n            <CardContent className=\"p-6\">\n              <h4 className=\"font-bold text-amber-800 mb-4 text-xl\">\n                <i className=\"fas fa-lightbulb ml-2\"></i>\n                نصائح للاستخدام\n              </h4>\n              <ul className=\"text-lg text-amber-700 space-y-2\">\n                <li>• يمكنك البحث باستخدام اسم البطريرك أو رقم ترتيبه</li>\n                <li>• البحث بالرقم (مثل: 117، 118) للوصول المباشر للبطريرك</li>\n                <li>• جرب أنواع اللغة المختلفة حسب الجمهور المستهدف</li>\n                <li>• الملخص الأكاديمي مناسب للطلاب والباحثين</li>\n                <li>• ملخص الأطفال مبسط ومناسب للصغار</li>\n                <li>• تأكد من كتابة الاسم أو الرقم بشكل صحيح للحصول على أفضل النتائج</li>\n              </ul>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}","size_bytes":21681},"client/src/components/admin/charts-dashboard.tsx":{"content":"import { useMemo } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  LineChart,\n  Line,\n  Area,\n  AreaChart,\n  ScatterChart,\n  Scatter,\n\n  Legend\n} from \"recharts\";\nimport type { Patriarch } from \"@shared/schema\";\n\ninterface ChartsDashboardProps {\n  patriarchs: Patriarch[];\n}\n\nconst COLORS = [\n  '#8B5CF6', '#10B981', '#F59E0B', '#EF4444', '#3B82F6', \n  '#EC4899', '#14B8A6', '#F97316', '#8B5CF6', '#06B6D4',\n  '#84CC16', '#F59E0B', '#EF4444', '#6366F1', '#8B5CF6'\n];\n\nconst eraLabels: Record<string, string> = {\n  \"العصر الرسولي\": \"العصر الرسولي\",\n  \"العصر الذهبي\": \"العصر الذهبي\",\n  \"عصر المجامع\": \"عصر المجامع\", \n  \"عصر الاضطهاد\": \"عصر الاضطهاد\",\n  \"العصر الحديث\": \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\": \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\": \"العصر العثماني\",\n  \"العصر الفاطمي\": \"العصر الفاطمي\",\n  \"العصر المملوكي المتأخر\": \"العصر المملوكي المتأخر\",\n  \"العصر المملوكي\": \"العصر المملوكي\",\n  \"العصر القبطي المستقل\": \"العصر القبطي المستقل\",\n  \"العصر العثماني المتأخر\": \"العصر العثماني المتأخر\",\n  \"العصر العباسي المبكر\": \"العصر العباسي المبكر\",\n  \"العصر البيزنطي\": \"العصر البيزنطي\",\n  \"العصر الأيوبي\": \"العصر الأيوبي\",\n  \"العصر العباسي\": \"العصر العباسي\",\n  \"العصر الفاطمي المتأخر\": \"العصر الفاطمي المتأخر\",\n  \"عصر التحديث\": \"عصر التحديث\",\n  \"العصر الحديث المبكر\": \"العصر الحديث المبكر\",\n  \"العصر المعاصر\": \"العصر المعاصر\",\n  \"العصر الأيوبي المتأخر\": \"العصر الأيوبي المتأخر\",\n  \"العصر العثماني المبكر\": \"العصر العثماني المبكر\",\n  \"العصر الأيوبي المبكر\": \"العصر الأيوبي المبكر\",\n  \"العصر المملوكي المبكر\": \"العصر المملوكي المبكر\",\n  \"عصر محمد علي\": \"عصر محمد علي\",\n  \"العصر الفاطمي المبكر\": \"العصر الفاطمي المبكر\"\n};\n\nexport default function ChartsDashboard({ patriarchs }: ChartsDashboardProps) {\n  \n  const chartsData = useMemo(() => {\n    // توزيع البطاركة حسب العصور\n    const eraDistribution = patriarchs.reduce((acc: Record<string, number>, patriarch) => {\n      const era = eraLabels[patriarch.era] || patriarch.era;\n      acc[era] = (acc[era] || 0) + 1;\n      return acc;\n    }, {});\n\n    const eraChartData = Object.entries(eraDistribution).map(([era, count], index) => ({\n      era: era.length > 15 ? era.substring(0, 15) + \"...\" : era,\n      fullEra: era,\n      count,\n      color: COLORS[index % COLORS.length]\n    })).sort((a, b) => b.count - a.count);\n\n    // توزيع البطاركة عبر القرون\n    const centuryDistribution = patriarchs.reduce((acc: Record<number, number>, patriarch) => {\n      const century = Math.floor(patriarch.startYear / 100) + 1;\n      acc[century] = (acc[century] || 0) + 1;\n      return acc;\n    }, {});\n\n    const centuryChartData = Object.entries(centuryDistribution)\n      .map(([century, count]) => ({\n        century: `القرن ${century}`,\n        count,\n        year: parseInt(century) * 100\n      }))\n      .sort((a, b) => a.year - b.year);\n\n    // مدة الخدمة\n    const serviceData = patriarchs\n      .filter(p => p.endYear)\n      .map(p => ({\n        name: p.arabicName || p.name,\n        fullName: p.arabicName || p.name,\n        duration: p.endYear! - p.startYear,\n        startYear: p.startYear,\n        era: eraLabels[p.era] || p.era\n      }))\n      .sort((a, b) => b.duration - a.duration)\n      .slice(0, 15);\n\n    // البدع المحاربة\n    const heresiesCount = patriarchs.reduce((acc: Record<string, number>, patriarch) => {\n      let heresies: string[] = [];\n      try {\n        heresies = Array.isArray(patriarch.heresiesFought) \n          ? patriarch.heresiesFought \n          : JSON.parse(patriarch.heresiesFought || '[]');\n      } catch (e) {\n        heresies = [];\n      }\n      \n      heresies.forEach(heresy => {\n        acc[heresy] = (acc[heresy] || 0) + 1;\n      });\n      return acc;\n    }, {});\n\n    const heresiesChartData = Object.entries(heresiesCount)\n      .map(([heresy, count], index) => ({\n        heresy: heresy.length > 20 ? heresy.substring(0, 20) + \"...\" : heresy,\n        fullHeresy: heresy,\n        count,\n        color: COLORS[index % COLORS.length]\n      }))\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 10);\n\n    // الخط الزمني للبطاركة\n    const timelineData = patriarchs\n      .sort((a, b) => a.startYear - b.startYear)\n      .map(p => ({\n        name: p.name,\n        startYear: p.startYear,\n        endYear: p.endYear || 2025,\n        duration: (p.endYear || 2025) - p.startYear,\n        era: eraLabels[p.era] || p.era,\n        orderNumber: p.orderNumber\n      }));\n\n    // إحصائيات متقدمة\n    const advancedStats = {\n      averageService: Math.round(\n        patriarchs\n          .filter(p => p.endYear)\n          .reduce((sum, p) => sum + (p.endYear! - p.startYear), 0) /\n        patriarchs.filter(p => p.endYear).length\n      ),\n      longestService: Math.max(\n        ...patriarchs\n          .filter(p => p.endYear)\n          .map(p => p.endYear! - p.startYear)\n      ),\n      shortestService: Math.min(\n        ...patriarchs\n          .filter(p => p.endYear)\n          .map(p => p.endYear! - p.startYear)\n      ),\n      totalYearsOfService: patriarchs\n        .filter(p => p.endYear)\n        .reduce((sum, p) => sum + (p.endYear! - p.startYear), 0),\n      defendersCount: patriarchs.filter(p => {\n        let heresies: string[] = [];\n        try {\n          heresies = Array.isArray(p.heresiesFought) \n            ? p.heresiesFought \n            : JSON.parse(p.heresiesFought || '[]');\n        } catch (e) {\n          heresies = [];\n        }\n        return heresies.length > 0;\n      }).length\n    };\n\n    return {\n      eraChartData,\n      centuryChartData,\n      serviceData,\n      heresiesChartData,\n      timelineData,\n      advancedStats\n    };\n  }, [patriarchs]);\n\n  const CustomTooltip = ({ active, payload, label }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\n          <p className=\"text-gray-800 font-semibold\">{label}</p>\n          {payload.map((entry: any, index: number) => (\n            <p key={index} style={{ color: entry.color }}>\n              {entry.name}: {entry.value}\n            </p>\n          ))}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className=\"space-y-8\" dir=\"rtl\">\n      {/* إحصائيات متقدمة */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card className=\"bg-gradient-to-br from-blue-500 to-blue-600 text-white\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-blue-100 text-sm\">متوسط مدة الخدمة</p>\n                <p className=\"text-3xl font-bold\">{chartsData.advancedStats.averageService}</p>\n                <p className=\"text-blue-200 text-xs\">سنة</p>\n              </div>\n              <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <i className=\"fas fa-clock text-2xl\"></i>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gradient-to-br from-green-500 to-green-600 text-white\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-green-100 text-sm\">أطول مدة خدمة</p>\n                <p className=\"text-3xl font-bold\">{chartsData.advancedStats.longestService}</p>\n                <p className=\"text-green-200 text-xs\">سنة</p>\n              </div>\n              <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <i className=\"fas fa-crown text-2xl\"></i>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gradient-to-br from-purple-500 to-purple-600 text-white\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-purple-100 text-sm\">محاربو البدع</p>\n                <p className=\"text-3xl font-bold\">{chartsData.advancedStats.defendersCount}</p>\n                <p className=\"text-purple-200 text-xs\">بطريرك</p>\n              </div>\n              <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <i className=\"fas fa-shield-alt text-2xl\"></i>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"bg-gradient-to-br from-orange-500 to-orange-600 text-white\">\n          <CardContent className=\"p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-orange-100 text-sm\">إجمالي سنوات الخدمة</p>\n                <p className=\"text-3xl font-bold\">{chartsData.advancedStats.totalYearsOfService}</p>\n                <p className=\"text-orange-200 text-xs\">سنة</p>\n              </div>\n              <div className=\"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\n                <i className=\"fas fa-calendar-check text-2xl\"></i>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* الرسوم البيانية الرئيسية */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* توزيع البطاركة حسب العصور - رسم بياني عمودي */}\n        <Card>\n          <CardHeader className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white\">\n            <CardTitle className=\"text-center font-amiri text-lg\">توزيع البطاركة عبر العصور التاريخية</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={500}>\n              <BarChart\n                data={chartsData.eraChartData}\n                margin={{ top: 20, right: 30, left: 20, bottom: 120 }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n                <XAxis \n                  dataKey=\"era\"\n                  angle={-35}\n                  textAnchor=\"end\"\n                  height={120}\n                  fontSize={11}\n                  interval={0}\n                  tick={{ fill: '#333', fontSize: 11, fontWeight: 'bold' }}\n                />\n                <YAxis \n                  fontSize={12}\n                  tick={{ fill: '#666' }}\n                />\n                <Tooltip \n                  formatter={(value) => [`${value} بطريرك`, 'العدد']}\n                  labelFormatter={(label) => chartsData.eraChartData.find(d => d.era === label)?.fullEra || label}\n                  contentStyle={{\n                    backgroundColor: 'rgba(255, 255, 255, 0.98)',\n                    border: '2px solid #3b82f6',\n                    borderRadius: '12px',\n                    fontSize: '14px',\n                    direction: 'rtl',\n                    boxShadow: '0 8px 16px rgba(0,0,0,0.15)',\n                    fontWeight: 'bold'\n                  }}\n                />\n                <Bar dataKey=\"count\" radius={[6, 6, 0, 0]}>\n                  {chartsData.eraChartData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.color} />\n                  ))}\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n            \n            {/* قائمة العصور خارج الرسم البياني */}\n            <div className=\"mt-6 grid grid-cols-2 lg:grid-cols-3 gap-3\">\n              {chartsData.eraChartData.map((item, index) => (\n                <div key={index} className=\"flex items-center space-x-reverse space-x-2 p-2 bg-gray-50 rounded-lg\">\n                  <div \n                    className=\"w-4 h-4 rounded-full\"\n                    style={{ backgroundColor: item.color }}\n                  ></div>\n                  <div className=\"flex-1\">\n                    <span className=\"text-sm font-semibold text-gray-800\">{item.fullEra}</span>\n                    <div className=\"text-xs text-gray-600\">{item.count} بطريرك</div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* توزيع البطاركة عبر القرون - رسم بياني منطقي */}\n        <Card>\n          <CardHeader className=\"bg-gradient-to-r from-green-600 to-teal-600 text-white\">\n            <CardTitle className=\"text-center font-amiri text-lg\">توزيع البطاركة عبر القرون</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={450}>\n              <AreaChart data={chartsData.centuryChartData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\n                <defs>\n                  <linearGradient id=\"colorCentury\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                    <stop offset=\"5%\" stopColor=\"#10B981\" stopOpacity={0.8}/>\n                    <stop offset=\"95%\" stopColor=\"#10B981\" stopOpacity={0.2}/>\n                  </linearGradient>\n                </defs>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e0e0e0\" />\n                <XAxis \n                  dataKey=\"century\" \n                  fontSize={12}\n                  tick={{ fill: '#666' }}\n                />\n                <YAxis \n                  fontSize={12}\n                  tick={{ fill: '#666' }}\n                />\n                <Tooltip \n                  formatter={(value) => [`${value} بطريرك`, 'العدد']}\n                  labelFormatter={(label) => `القرن ${label}`}\n                  contentStyle={{\n                    backgroundColor: 'white',\n                    border: '2px solid #10B981',\n                    borderRadius: '10px',\n                    fontSize: '14px',\n                    direction: 'rtl'\n                  }}\n                />\n                <Area \n                  type=\"monotone\" \n                  dataKey=\"count\" \n                  stroke=\"#10B981\" \n                  strokeWidth={3}\n                  fillOpacity={1} \n                  fill=\"url(#colorCentury)\" \n                />\n              </AreaChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* رسوم بيانية إضافية */}\n      <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n        {/* مدة الخدمة للبطاركة - رسم بياني عمودي محسن */}\n        <Card>\n          <CardHeader className=\"bg-gradient-to-r from-orange-600 to-red-600 text-white\">\n            <CardTitle className=\"text-center font-amiri text-lg\">أطول فترات الخدمة للبطاركة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <BarChart \n                data={chartsData.serviceData.slice(0, 8)} \n                margin={{ top: 20, right: 30, left: 20, bottom: 20 }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                <XAxis \n                  dataKey=\"name\"\n                  fontSize={11}\n                  tick={false}\n                />\n                <YAxis \n                  fontSize={12}\n                  tick={{ fill: '#666' }}\n                />\n                <Tooltip \n                  formatter={(value, name, props) => [`${value} سنة`, 'مدة الخدمة']}\n                  labelFormatter={(label) => `البابا ${label}`}\n                  contentStyle={{\n                    backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                    border: '2px solid #f97316',\n                    borderRadius: '12px',\n                    fontSize: '14px',\n                    direction: 'rtl',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n                  }}\n                />\n                <Bar \n                  dataKey=\"duration\" \n                  radius={[6, 6, 0, 0]}\n                >\n                  {chartsData.serviceData.slice(0, 8).map((entry, index) => (\n                    <Cell \n                      key={`cell-${index}`} \n                      fill={\n                        index === 0 ? '#f59e0b' : \n                        index === 1 ? '#ef4444' : \n                        index === 2 ? '#ec4899' : \n                        '#f97316'\n                      } \n                    />\n                  ))}\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n            \n            {/* قائمة البطاركة خارج الرسم البياني */}\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 gap-3\">\n              {chartsData.serviceData.slice(0, 8).map((patriarch, index) => (\n                <div key={index} className=\"flex items-center justify-between p-3 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border\">\n                  <div className=\"flex items-center space-x-reverse space-x-3\">\n                    <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${\n                      index === 0 ? 'bg-yellow-500' : \n                      index === 1 ? 'bg-gray-400' : \n                      index === 2 ? 'bg-orange-500' : 'bg-blue-500'\n                    }`}>\n                      {index + 1}\n                    </div>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-800 text-sm\">{patriarch.fullName}</h4>\n                      <p className=\"text-xs text-gray-600\">{patriarch.era}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-left\">\n                    <Badge variant=\"secondary\" className=\"font-bold\">{patriarch.duration} سنة</Badge>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* البدع الأكثر محاربة - رسم بياني بسيط */}\n        <Card>\n          <CardHeader className=\"bg-gradient-to-r from-red-600 to-pink-600 text-white\">\n            <CardTitle className=\"text-center font-amiri text-lg\">البدع الأكثر محاربة</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={350}>\n              <BarChart \n                data={chartsData.heresiesChartData.slice(0, 6)} \n                margin={{ top: 20, right: 30, left: 20, bottom: 20 }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                <XAxis \n                  dataKey=\"heresy\"\n                  fontSize={11}\n                  tick={false}\n                />\n                <YAxis \n                  fontSize={12}\n                  tick={{ fill: '#666' }}\n                />\n                <Tooltip \n                  formatter={(value) => [`${value} بطريرك`, 'عدد المحاربين']}\n                  labelFormatter={(label) => chartsData.heresiesChartData.find(d => d.heresy === label)?.fullHeresy || label}\n                  contentStyle={{\n                    backgroundColor: 'rgba(255, 255, 255, 0.95)',\n                    border: '2px solid #dc2626',\n                    borderRadius: '12px',\n                    fontSize: '14px',\n                    direction: 'rtl',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.1)'\n                  }}\n                />\n                <Bar dataKey=\"count\" radius={[6, 6, 0, 0]}>\n                  {chartsData.heresiesChartData.slice(0, 6).map((entry, index) => (\n                    <Cell \n                      key={`cell-${index}`} \n                      fill={\n                        index === 0 ? '#dc2626' : \n                        index === 1 ? '#ea580c' : \n                        index === 2 ? '#d97706' : \n                        index === 3 ? '#ca8a04' : \n                        index === 4 ? '#65a30d' : \n                        '#6366f1'\n                      } \n                    />\n                  ))}\n                </Bar>\n              </BarChart>\n            </ResponsiveContainer>\n            \n            {/* قائمة البدع خارج الرسم البياني */}\n            <div className=\"mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\n              {chartsData.heresiesChartData.slice(0, 6).map((heresy, index) => (\n                <div key={index} className=\"flex items-center justify-between p-3 bg-gradient-to-r from-red-50 to-pink-50 rounded-lg border\">\n                  <div className=\"flex items-center space-x-reverse space-x-3\">\n                    <div \n                      className=\"w-6 h-6 rounded-full\"\n                      style={{ \n                        backgroundColor: index === 0 ? '#dc2626' : \n                          index === 1 ? '#ea580c' : \n                          index === 2 ? '#d97706' : \n                          index === 3 ? '#ca8a04' : \n                          index === 4 ? '#65a30d' : '#6366f1'\n                      }}\n                    ></div>\n                    <div>\n                      <h4 className=\"font-semibold text-gray-800 text-sm\">{heresy.fullHeresy}</h4>\n                    </div>\n                  </div>\n                  <div>\n                    <Badge variant=\"secondary\" className=\"font-bold\">{heresy.count}</Badge>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* الخط الزمني للبطاركة */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-center font-amiri text-lg\">الخط الزمني لخدمة البطاركة عبر التاريخ</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={500}>\n            <AreaChart data={chartsData.timelineData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"startYear\" />\n              <YAxis />\n              <Tooltip \n                formatter={(value, name) => {\n                  if (name === 'duration') return [`${value} سنة`, 'مدة الخدمة'];\n                  return [value, name];\n                }}\n                labelFormatter={(label) => `بداية الخدمة: ${label}م`}\n              />\n              <Area \n                type=\"monotone\" \n                dataKey=\"duration\" \n                stroke=\"#3B82F6\" \n                fill=\"#3B82F6\" \n                fillOpacity={0.3}\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* رسم بياني مبعثر للعلاقة بين سنة البداية ومدة الخدمة */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-center font-amiri text-lg\">العلاقة بين فترة الخدمة والزمن التاريخي</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <ResponsiveContainer width=\"100%\" height={400}>\n            <ScatterChart data={chartsData.serviceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"startYear\" name=\"سنة البداية\" />\n              <YAxis dataKey=\"duration\" name=\"مدة الخدمة\" />\n              <Tooltip \n                formatter={(value, name) => {\n                  if (name === 'duration') return [`${value} سنة`, 'مدة الخدمة'];\n                  if (name === 'startYear') return [`${value}م`, 'سنة البداية'];\n                  return [value, name];\n                }}\n                labelFormatter={() => ''}\n                content={({ active, payload }) => {\n                  if (active && payload && payload.length) {\n                    const data = payload[0].payload;\n                    return (\n                      <div className=\"bg-white p-3 border border-gray-200 rounded-lg shadow-lg\">\n                        <p className=\"font-semibold\">{data.name}</p>\n                        <p>سنة البداية: {data.startYear}م</p>\n                        <p>مدة الخدمة: {data.duration} سنة</p>\n                        <p>العصر: {data.era}</p>\n                      </div>\n                    );\n                  }\n                  return null;\n                }}\n              />\n              <Scatter dataKey=\"duration\" fill=\"#EC4899\" />\n            </ScatterChart>\n          </ResponsiveContainer>\n        </CardContent>\n      </Card>\n\n      {/* جدول أطول فترات الخدمة */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-center font-amiri text-lg\">التصنيف التفصيلي لأطول الخدمات البطريركية</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {chartsData.serviceData.slice(0, 9).map((patriarch, index) => (\n              <div key={`${patriarch.fullName}-${index}`} className=\"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border\">\n                <div className=\"flex items-center space-x-reverse space-x-3\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold ${\n                    index === 0 ? 'bg-yellow-500' : \n                    index === 1 ? 'bg-gray-400' : \n                    index === 2 ? 'bg-orange-500' : 'bg-blue-500'\n                  }`}>\n                    {index + 1}\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-800 text-sm\">{patriarch.name}</h4>\n                    <p className=\"text-sm text-gray-600\">{patriarch.era}</p>\n                    <div className=\"flex items-center space-x-reverse space-x-2 mt-1\">\n                      <Badge variant=\"secondary\">{patriarch.duration} سنة</Badge>\n                      <span className=\"text-xs text-gray-500\">{patriarch.startYear}م</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","size_bytes":27287},"client/src/components/admin/gemini-settings.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Loader2, Key, CheckCircle, XCircle, Eye, EyeOff } from \"lucide-react\";\n\nexport default function GeminiSettings() {\n  const [apiKey, setApiKey] = useState(\"\");\n  const [showApiKey, setShowApiKey] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Check current API key status\n  const { data: status, isLoading } = useQuery({\n    queryKey: [\"/api/admin/gemini-status\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/admin/gemini-status\", {\n        headers: { \"Content-Type\": \"application/json\" },\n      });\n      const data = await response.json();\n      console.log(\"Gemini Status Response:\", data);\n      return data as { hasApiKey: boolean; connected: boolean };\n    },\n  });\n\n  // تأثير لتحديث حالة الاتصال المحلية\n  useEffect(() => {\n    console.log(\"Status updated:\", status);\n    if (status?.connected === true) {\n      setIsConnected(true);\n    } else if (status && status.connected === false) {\n      setIsConnected(false);\n    }\n  }, [status]);\n\n  // Save API key mutation\n  const saveApiKeyMutation = useMutation({\n    mutationFn: async (apiKey: string) => {\n      const response = await apiRequest(\"POST\", \"/api/admin/gemini-api-key\", {\n        apiKey,\n      });\n      return response;\n    },\n    onSuccess: async () => {\n      // إعادة تعيين حالة الاتصال المحلية لإظهار الحالة الصفراء\n      setIsConnected(false);\n\n      toast({\n        title: \"✅ تم الحفظ\",\n        description:\n          \"تم حفظ مفتاح Gemini API بنجاح - اضغط 'اختبار الاتصال' للتحقق من صحة المفتاح\",\n        duration: 4000,\n      });\n\n      // إعادة تحميل حالة API لإظهار أن المفتاح محفوظ\n      await queryClient.invalidateQueries({\n        queryKey: [\"/api/admin/gemini-status\"],\n      });\n\n      // تحديث الكاش لإظهار أن المفتاح موجود لكن غير مختبر\n      queryClient.setQueryData(\n        [\"/api/admin/gemini-status\"],\n        (oldData: any) => ({\n          ...oldData,\n          hasApiKey: true,\n          connected: false,\n        }),\n      );\n\n      setApiKey(\"\");\n    },\n    onError: () => {\n      toast({\n        title: \"خطأ في الحفظ\",\n        description: \"فشل في حفظ مفتاح API. يرجى المحاولة مرة أخرى.\",\n        variant: \"destructive\",\n        duration: 3000,\n      });\n    },\n  });\n\n  // Test connection mutation\n  const testConnectionMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/admin/test-gemini\");\n      return response;\n    },\n    onSuccess: async (data: any) => {\n      console.log(\"Test connection result:\", data);\n\n      // تحديث الحالة المحلية فوراً\n      setIsConnected(true);\n\n      // تحديث الكاش فوراً لضمان عرض الرسالة الخضراء\n      queryClient.setQueryData([\"/api/admin/gemini-status\"], {\n        hasApiKey: true,\n        connected: true,\n      });\n\n      // فرض إعادة تحميل من السيرفر\n      await queryClient.refetchQueries({\n        queryKey: [\"/api/admin/gemini-status\"],\n        exact: true,\n      });\n\n      toast({\n        title: \"✅ الاتصال ناجح\",\n        description:\n          \"تم اختبار اتصال Gemini API بنجاح - جميع الميزات الذكية نشطة الآن\",\n        duration: 4000,\n      });\n    },\n    onError: (error: any) => {\n      console.error(\"Test connection error:\", error);\n\n      // تحديث الحالة المحلية لفشل الاتصال\n      setIsConnected(false);\n\n      // تحديث الكاش لإظهار فشل الاتصال\n      queryClient.setQueryData(\n        [\"/api/admin/gemini-status\"],\n        (oldData: any) => ({\n          ...oldData,\n          connected: false,\n        }),\n      );\n\n      toast({\n        title: \"⚠️ خطأ في الاختبار\",\n        description:\n          \"فشل في اختبار الاتصال. تحقق من الاتصال بالإنترنت ومفتاح API.\",\n        variant: \"destructive\",\n        duration: 5000,\n      });\n    },\n  });\n\n  const handleSaveApiKey = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!apiKey.trim()) {\n      toast({\n        title: \"خطأ\",\n        description: \"يرجى إدخال مفتاح API\",\n        variant: \"destructive\",\n        duration: 3000,\n      });\n      return;\n    }\n    saveApiKeyMutation.mutate(apiKey);\n  };\n\n  const handleTestConnection = () => {\n    console.log(\"Testing connection clicked\");\n    // لا تعيد تعيين الحالة هنا - دع النتيجة تحددها\n    testConnectionMutation.mutate();\n  };\n\n  return (\n    <Card className=\"border-2 border-purple-200 dark:border-purple-800\">\n      <CardHeader className=\"bg-gradient-to-r from-purple-600 to-indigo-600 text-white\">\n        <div className=\"flex items-center gap-3\">\n          <Key className=\"h-6 w-6\" />\n          <div>\n            <CardTitle className=\"text-xl\">إعدادات Gemini AI</CardTitle>\n            <p className=\"text-purple-100 text-sm mt-1\">\n              قم بتكوين مفتاح Google Gemini API لتفعيل خاصية \"اسأل البطريرك\"\n            </p>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"p-6 space-y-6\">\n        {/* Current Status */}\n        <div className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n          <div className=\"flex items-center gap-3\">\n            {isLoading || saveApiKeyMutation.isPending ? (\n              <div className=\"flex items-center gap-2\">\n                <Loader2 className=\"h-4 w-4 animate-spin text-blue-500\" />\n                <span className=\"font-medium text-gray-700 dark:text-gray-300\">\n                  {saveApiKeyMutation.isPending\n                    ? \"جاري حفظ المفتاح...\"\n                    : \"جاري فحص حالة مفتاح API...\"}\n                </span>\n              </div>\n            ) : testConnectionMutation.isPending ? (\n              <div className=\"flex items-center gap-2\">\n                <Loader2 className=\"h-4 w-4 animate-spin text-blue-500\" />\n                <span className=\"font-medium text-gray-700 dark:text-gray-300\">\n                  جاري اختبار الاتصال...\n                </span>\n              </div>\n            ) : (status?.connected === true && status?.hasApiKey === true) ||\n              isConnected ? (\n              <div className=\"flex items-center gap-2\">\n                <div className=\"relative\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full\"></div>\n                  <div className=\"absolute inset-0 w-3 h-3 bg-green-500 rounded-full animate-ping opacity-30\"></div>\n                </div>\n                <Badge\n                  variant=\"default\"\n                  className=\"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white shadow-sm\"\n                >\n                  <CheckCircle className=\"h-3 w-3 mr-1\" />\n                  مفتاح API نشط ومتصل ✓\n                </Badge>\n              </div>\n            ) : status?.hasApiKey ? (\n              <div className=\"flex items-center gap-2\">\n                <div className=\"relative\">\n                  <div className=\"w-3 h-3 bg-yellow-500 rounded-full\"></div>\n                  <div className=\"absolute inset-0 w-3 h-3 bg-yellow-500 rounded-full animate-ping opacity-30\"></div>\n                </div>\n                <Badge\n                  variant=\"secondary\"\n                  className=\"bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white shadow-sm\"\n                >\n                  <Key className=\"h-3 w-3 mr-1\" />\n                  مفتاح API محفوظ - اضغط اختبار الاتصال\n                </Badge>\n              </div>\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                <div className=\"relative\">\n                  <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\n                  <div className=\"absolute inset-0 w-3 h-3 bg-red-500 rounded-full animate-ping opacity-30\"></div>\n                </div>\n                <Badge\n                  variant=\"destructive\"\n                  className=\"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-sm\"\n                >\n                  <XCircle className=\"h-3 w-3 mr-1\" />\n                  مفتاح API غير مُكوَّن\n                </Badge>\n              </div>\n            )}\n          </div>\n\n          {status?.hasApiKey && (\n            <div className=\"flex gap-2\">\n              <Button\n                onClick={handleTestConnection}\n                disabled={\n                  testConnectionMutation.isPending ||\n                  saveApiKeyMutation.isPending ||\n                  isLoading\n                }\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"border-green-300 text-green-700 hover:bg-green-50 dark:border-green-600 dark:text-green-400 dark:hover:bg-green-950 transition-colors\"\n              >\n                {testConnectionMutation.isPending ? (\n                  <>\n                    <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                    جاري الاختبار...\n                  </>\n                ) : (\n                  <>🔗 اختبار الاتصال</>\n                )}\n              </Button>\n            </div>\n          )}\n        </div>\n\n        {/* API Key Form */}\n        <form onSubmit={handleSaveApiKey} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"api-key\" className=\"text-right font-semibold\">\n              مفتاح Google Gemini API\n            </Label>\n            <div className=\"relative\">\n              <Input\n                id=\"api-key\"\n                type={showApiKey ? \"text\" : \"password\"}\n                value={apiKey}\n                onChange={(e) => setApiKey(e.target.value)}\n                placeholder=\"أدخل مفتاح Gemini API هنا...\"\n                className=\"pl-10 text-left\"\n                dir=\"ltr\"\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute left-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0\"\n                onClick={() => setShowApiKey(!showApiKey)}\n              >\n                {showApiKey ? (\n                  <EyeOff className=\"h-4 w-4\" />\n                ) : (\n                  <Eye className=\"h-4 w-4\" />\n                )}\n              </Button>\n            </div>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 text-right\">\n              يمكنك الحصول على المفتاح من{\" \"}\n              <a\n                href=\"https://makersuite.google.com/app/apikey\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"text-purple-600 hover:underline\"\n              >\n                Google AI Studio\n              </a>\n            </p>\n          </div>\n\n          <Button\n            type=\"submit\"\n            disabled={saveApiKeyMutation.isPending || !apiKey.trim()}\n            className=\"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\n          >\n            {saveApiKeyMutation.isPending ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                جاري الحفظ...\n              </>\n            ) : (\n              \"حفظ مفتاح API\"\n            )}\n          </Button>\n        </form>\n\n        {/* Instructions */}\n        <div className=\"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800\">\n          <h4 className=\"font-semibold text-blue-800 dark:text-blue-200 mb-2 text-left\">\n            📋 تعليمات الحصول على مفتاح API:\n          </h4>\n          <ol\n            className=\"text-sm text-blue-700 dark:text-blue-300 space-y-2 list-decimal text-left\"\n            dir=\"rtl\"\n            style={{ paddingRight: \"20px\" }}\n          >\n            <li>\n              اذهب إلى{\" \"}\n              <a\n                href=\"https://makersuite.google.com/app/apikey\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"underline hover:text-blue-600\"\n              >\n                Google AI Studio\n              </a>\n            </li>\n            <li>قم بتسجيل الدخول بحساب Google الخاص بك</li>\n            <li>انقر على \"Create API Key\" لإنشاء مفتاح جديد</li>\n            <li>انسخ المفتاح والصقه في المربع أعلاه</li>\n            <li>انقر على \"حفظ مفتاح API\" لحفظ الإعدادات</li>\n          </ol>\n        </div>\n\n        {/* Feature Description */}\n        <div className=\"bg-amber-50 dark:bg-amber-950/30 p-4 rounded-lg border border-amber-200 dark:border-amber-800\">\n          <h4 className=\"font-semibold text-amber-800 dark:text-amber-200 mb-2 text-left\">\n            ✨ ماذا يحدث بعد التكوين؟\n          </h4>\n          <p\n            className=\"text-sm text-amber-700 dark:text-amber-300 text-left leading-relaxed\"\n            dir=\"ltr\"\n          >\n            سيتمكن الزوار من استخدام خاصية \"اسأل البطريرك\" في الصفحة الرئيسية\n            للحصول على إجابات ذكية ومفصلة عن تاريخ البطاركة الأقباط الأرثوذكس مع\n            استخدام ذكاء اصطناعي متقدم لفهم الأسئلة والإجابة عليها بدقة\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","size_bytes":14568},"client/src/components/admin/patriarch-form-new.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Loader2, Plus, X } from \"lucide-react\";\nimport type { Patriarch, InsertPatriarch } from \"@shared/schema\";\n\ninterface PatriarchFormProps {\n  patriarch?: Patriarch;\n  onClose: () => void;\n  onSuccess?: () => void;\n}\n\nconst predefinedEras = [\n  \"العصر الرسولي\",\n  \"العصر الذهبي\", \n  \"عصر المجامع\",\n  \"عصر الاضطهاد\",\n  \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\",\n  \"العصر الفاطمي\",\n  \"العصر المملوكي\",\n  \"العصر القبطي المستقل\",\n  \"العصر العباسي\",\n  \"العصر البيزنطي\",\n  \"العصر الأيوبي\",\n  \"العصر المعاصر\",\n  \"العصر الحديث المبكر\",\n  \"عصر محمد علي\",\n  \"عصر التحديث\"\n];\n\nconst predefinedHeresies = [\n  \"الآريوسية\",\n  \"النسطورية\", \n  \"الأوطاخية\",\n  \"الدوناتية\",\n  \"المانوية\",\n  \"الغنوسية\",\n  \"الأبولينارية\",\n  \"الأبيونية\",\n  \"الملكانية\",\n  \"البرجوازية\",\n  \"الإسلام\",\n  \"الكاثوليكية\",\n  \"البروتستانتية\"\n];\n\nexport default function PatriarchForm({ patriarch, onClose, onSuccess }: PatriarchFormProps) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [customEra, setCustomEra] = useState(\"\");\n  const [customHeresy, setCustomHeresy] = useState(\"\");\n  const [heresiesList, setHeresiesList] = useState<string[]>([]);\n\n  // Form state\n  const [formData, setFormData] = useState({\n    name: patriarch?.name || \"\",\n    arabicName: patriarch?.arabicName || \"\",\n    orderNumber: patriarch?.orderNumber || 1,\n    startYear: patriarch?.startYear || new Date().getFullYear(),\n    endYear: patriarch?.endYear || undefined,\n    era: patriarch?.era || \"\",\n    biography: patriarch?.biography || \"\",\n    contributions: patriarch?.contributions || \"\",\n    active: patriarch?.active ?? true,\n  });\n\n  // Initialize heresies from patriarch data\n  useEffect(() => {\n    if (patriarch?.heresiesFought) {\n      try {\n        const heresies = Array.isArray(patriarch.heresiesFought) \n          ? patriarch.heresiesFought \n          : JSON.parse(patriarch.heresiesFought || '[]');\n        setHeresiesList(heresies);\n      } catch (e) {\n        console.error('Error parsing heresies:', e);\n        setHeresiesList([]);\n      }\n    }\n  }, [patriarch]);\n\n  const createMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await apiRequest('POST', '/api/admin/patriarchs', data);\n      return response;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"تم إنشاء البطريرك\",\n        description: \"تم إنشاء البطريرك بنجاح\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/patriarchs'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/stats'] });\n      onSuccess?.();\n      onClose();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"خطأ في إنشاء البطريرك\",\n        description: error.message || \"حدث خطأ أثناء إنشاء البطريرك\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: any) => {\n      if (!patriarch?.id) throw new Error(\"معرف البطريرك مطلوب\");\n      const response = await apiRequest('PUT', `/api/admin/patriarchs/${patriarch.id}`, data);\n      return response;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"تم تحديث البطريرك\",\n        description: \"تم تحديث البطريرك بنجاح\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/patriarchs'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/stats'] });\n      onSuccess?.();\n      onClose();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"خطأ في تحديث البطريرك\",\n        description: error.message || \"حدث خطأ أثناء تحديث البطريرك\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast({\n        title: \"خطأ في النموذج\",\n        description: \"الاسم مطلوب\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!formData.era.trim()) {\n      toast({\n        title: \"خطأ في النموذج\",\n        description: \"العصر مطلوب\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const submitData = {\n      ...formData,\n      heresiesFought: JSON.stringify(heresiesList),\n    };\n\n    if (patriarch) {\n      updateMutation.mutate(submitData);\n    } else {\n      createMutation.mutate(submitData);\n    }\n  };\n\n  const addCustomEra = () => {\n    if (customEra.trim()) {\n      setFormData(prev => ({ ...prev, era: customEra.trim() }));\n      setCustomEra(\"\");\n    }\n  };\n\n  const addCustomHeresy = () => {\n    if (customHeresy.trim() && !heresiesList.includes(customHeresy.trim())) {\n      const newList = [...heresiesList, customHeresy.trim()];\n      setHeresiesList(newList);\n      setCustomHeresy(\"\");\n    }\n  };\n\n  const removeHeresy = (heresy: string) => {\n    const newList = heresiesList.filter(h => h !== heresy);\n    setHeresiesList(newList);\n  };\n\n  const addPredefinedHeresy = (heresy: string) => {\n    if (!heresiesList.includes(heresy)) {\n      const newList = [...heresiesList, heresy];\n      setHeresiesList(newList);\n    }\n  };\n\n  const isLoading = createMutation.isPending || updateMutation.isPending;\n\n  return (\n    <Card className=\"w-full max-w-4xl mx-auto\">\n      <CardHeader>\n        <CardTitle className=\"text-center text-2xl font-bold\">\n          {patriarch ? \"تعديل البطريرك\" : \"إضافة بطريرك جديد\"}\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">الاسم (بالإنجليزية)</Label>\n              <Input\n                id=\"name\"\n                value={formData.name}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"اسم البطريرك بالإنجليزية\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"arabicName\">الاسم (بالعربية)</Label>\n              <Input\n                id=\"arabicName\"\n                value={formData.arabicName}\n                onChange={(e) => setFormData(prev => ({ ...prev, arabicName: e.target.value }))}\n                placeholder=\"اسم البطريرك بالعربية\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"orderNumber\">رقم الترتيب</Label>\n              <Input\n                id=\"orderNumber\"\n                type=\"number\"\n                value={formData.orderNumber}\n                onChange={(e) => setFormData(prev => ({ ...prev, orderNumber: parseInt(e.target.value) || 1 }))}\n                placeholder=\"رقم الترتيب\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"startYear\">سنة البداية</Label>\n              <Input\n                id=\"startYear\"\n                type=\"number\"\n                value={formData.startYear}\n                onChange={(e) => setFormData(prev => ({ ...prev, startYear: parseInt(e.target.value) || new Date().getFullYear() }))}\n                placeholder=\"سنة البداية\"\n                required\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"endYear\">سنة النهاية (اختياري)</Label>\n              <Input\n                id=\"endYear\"\n                type=\"number\"\n                value={formData.endYear || \"\"}\n                onChange={(e) => setFormData(prev => ({ ...prev, endYear: e.target.value ? parseInt(e.target.value) : undefined }))}\n                placeholder=\"سنة النهاية\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"era\">العصر</Label>\n              <Select value={formData.era} onValueChange={(value) => setFormData(prev => ({ ...prev, era: value }))}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"اختر العصر\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {predefinedEras.map((era) => (\n                    <SelectItem key={era} value={era}>\n                      {era}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Custom Era Input */}\n          <div className=\"space-y-2\">\n            <Label>إضافة عصر جديد</Label>\n            <div className=\"flex gap-2\">\n              <Input\n                value={customEra}\n                onChange={(e) => setCustomEra(e.target.value)}\n                placeholder=\"اسم العصر الجديد\"\n              />\n              <Button type=\"button\" onClick={addCustomEra} variant=\"outline\">\n                <Plus className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"biography\">السيرة الذاتية</Label>\n            <Textarea\n              id=\"biography\"\n              value={formData.biography}\n              onChange={(e) => setFormData(prev => ({ ...prev, biography: e.target.value }))}\n              placeholder=\"السيرة الذاتية للبطريرك\"\n              rows={4}\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"contributions\">الإسهامات</Label>\n            <Textarea\n              id=\"contributions\"\n              value={formData.contributions}\n              onChange={(e) => setFormData(prev => ({ ...prev, contributions: e.target.value }))}\n              placeholder=\"الإسهامات والإنجازات\"\n              rows={4}\n            />\n          </div>\n\n          {/* Heresies Section */}\n          <div className=\"space-y-4\">\n            <Label>البدع المحاربة</Label>\n            \n            {/* Display selected heresies */}\n            {heresiesList.length > 0 && (\n              <div className=\"flex flex-wrap gap-2\">\n                {heresiesList.map((heresy) => (\n                  <Badge key={heresy} variant=\"secondary\" className=\"flex items-center gap-1\">\n                    {heresy}\n                    <button\n                      type=\"button\"\n                      onClick={() => removeHeresy(heresy)}\n                      className=\"ml-1 text-red-500 hover:text-red-700\"\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  </Badge>\n                ))}\n              </div>\n            )}\n\n            {/* Predefined heresies */}\n            <div className=\"space-y-2\">\n              <Label className=\"text-sm\">البدع المتاحة:</Label>\n              <div className=\"flex flex-wrap gap-2\">\n                {predefinedHeresies.map((heresy) => (\n                  <Button\n                    key={heresy}\n                    type=\"button\"\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => addPredefinedHeresy(heresy)}\n                    disabled={heresiesList.includes(heresy)}\n                  >\n                    {heresy}\n                  </Button>\n                ))}\n              </div>\n            </div>\n\n            {/* Custom heresy input */}\n            <div className=\"space-y-2\">\n              <Label>إضافة بدعة جديدة</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  value={customHeresy}\n                  onChange={(e) => setCustomHeresy(e.target.value)}\n                  placeholder=\"اسم البدعة الجديدة\"\n                />\n                <Button type=\"button\" onClick={addCustomHeresy} variant=\"outline\">\n                  <Plus className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-4 pt-4\">\n            <Button \n              type=\"submit\" \n              disabled={isLoading}\n              className=\"flex-1\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                  {patriarch ? \"جاري التحديث...\" : \"جاري الإنشاء...\"}\n                </>\n              ) : (\n                patriarch ? \"تحديث البطريرك\" : \"إنشاء البطريرك\"\n              )}\n            </Button>\n            <Button \n              type=\"button\" \n              variant=\"outline\" \n              onClick={onClose}\n              disabled={isLoading}\n            >\n              إلغاء\n            </Button>\n          </div>\n        </form>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":14004},"client/src/components/admin/patriarch-form-simple.tsx":{"content":"\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Loader2, Plus, X, Crown, Calendar, Globe, Book, Shield, User } from \"lucide-react\";\nimport type { Patriarch } from \"@shared/schema\";\n\ninterface PatriarchFormProps {\n  patriarch?: Patriarch;\n  onClose: () => void;\n  onSuccess?: () => void;\n}\n\nconst predefinedEras = [\n  \"العصر الرسولي\",\n  \"العصر الذهبي\", \n  \"عصر المجامع\",\n  \"عصر الاضطهاد\",\n  \"العصر الحديث\",\n  \"العصر الإسلامي المبكر\",\n  \"العصر العثماني\",\n  \"العصر الفاطمي\",\n  \"العصر المملوكي\",\n  \"العصر القبطي المستقل\",\n  \"العصر العباسي\",\n  \"العصر البيزنطي\",\n  \"العصر الأيوبي\",\n  \"العصر المعاصر\",\n];\n\nconst predefinedHeresies = [\n  \"الآريوسية\",\n  \"النسطورية\", \n  \"الأوطاخية\",\n  \"الدوناتية\",\n  \"المانوية\",\n  \"الغنوسية\",\n  \"الأبولينارية\",\n  \"الأبيونية\",\n  \"الملكانية\",\n  \"البرجوازية\",\n  \"الإسلام\",\n  \"الكاثوليكية\",\n  \"البروتستانتية\"\n];\n\nexport default function PatriarchForm({ patriarch, onClose, onSuccess }: PatriarchFormProps) {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [customHeresy, setCustomHeresy] = useState(\"\");\n  const [heresiesList, setHeresiesList] = useState<string[]>([]);\n\n  const [formData, setFormData] = useState({\n    name: patriarch?.name || \"\",\n    arabicName: patriarch?.arabicName || \"\",\n    orderNumber: patriarch?.orderNumber || 1,\n    startYear: patriarch?.startYear || new Date().getFullYear(),\n    endYear: patriarch?.endYear || undefined,\n    era: patriarch?.era || \"\",\n    biography: patriarch?.biography || \"\",\n    contributions: patriarch?.contributions || \"\",\n  });\n\n  // Initialize heresies from patriarch data\n  useEffect(() => {\n    if (patriarch?.heresiesFought) {\n      try {\n        const heresies = Array.isArray(patriarch.heresiesFought) \n          ? patriarch.heresiesFought \n          : JSON.parse(patriarch.heresiesFought || '[]');\n        setHeresiesList(heresies);\n      } catch (e) {\n        console.error('Error parsing heresies:', e);\n        setHeresiesList([]);\n      }\n    }\n  }, [patriarch]);\n\n  const createMutation = useMutation({\n    mutationFn: async (data: any) => {\n      const response = await apiRequest('POST', '/api/admin/patriarchs', data);\n      return response;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"✨ تم إنشاء البطريرك\",\n        description: \"تم إنشاء البطريرك بنجاح\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/patriarchs'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/stats'] });\n      onSuccess?.();\n      onClose();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"❌ خطأ في إنشاء البطريرك\",\n        description: error.message || \"حدث خطأ أثناء إنشاء البطريرك\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async (data: any) => {\n      if (!patriarch?.id) throw new Error(\"معرف البطريرك مطلوب\");\n      const response = await apiRequest('PUT', `/api/admin/patriarchs/${patriarch.id}`, data);\n      return response;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"✅ تم تحديث البطريرك\",\n        description: \"تم تحديث البطريرك بنجاح\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/patriarchs'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/stats'] });\n      onSuccess?.();\n      onClose();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"❌ خطأ في تحديث البطريرك\",\n        description: error.message || \"حدث خطأ أثناء تحديث البطريرك\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!formData.name.trim()) {\n      toast({\n        title: \"⚠️ خطأ في النموذج\",\n        description: \"الاسم مطلوب\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    if (!formData.era.trim()) {\n      toast({\n        title: \"⚠️ خطأ في النموذج\",\n        description: \"العصر مطلوب\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    const submitData = {\n      ...formData,\n      contributions: formData.contributions || \"\",\n      heresiesFought: JSON.stringify(heresiesList),\n      active: true,\n    };\n\n    if (patriarch) {\n      updateMutation.mutate(submitData);\n    } else {\n      createMutation.mutate(submitData);\n    }\n  };\n\n  const addCustomHeresy = () => {\n    if (customHeresy.trim() && !heresiesList.includes(customHeresy.trim())) {\n      const newList = [...heresiesList, customHeresy.trim()];\n      setHeresiesList(newList);\n      setCustomHeresy(\"\");\n    }\n  };\n\n  const removeHeresy = (heresy: string) => {\n    const newList = heresiesList.filter(h => h !== heresy);\n    setHeresiesList(newList);\n  };\n\n  const addPredefinedHeresy = (heresy: string) => {\n    if (!heresiesList.includes(heresy)) {\n      const newList = [...heresiesList, heresy];\n      setHeresiesList(newList);\n    }\n  };\n\n  const isLoading = createMutation.isPending || updateMutation.isPending;\n\n  return (\n    <div className=\"w-full max-w-5xl mx-auto\">\n      <Card className=\"shadow-2xl border-0 bg-gradient-to-br from-amber-50 via-white to-orange-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\n        <CardHeader className=\"relative overflow-hidden\">\n          {/* Background Pattern */}\n          <div className=\"absolute inset-0 bg-gradient-to-r from-amber-600 via-orange-500 to-amber-700 opacity-90\"></div>\n          <div className=\"absolute inset-0 opacity-20\" style={{\n            backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`\n          }}></div>\n          \n          <div className=\"relative z-10 text-center\">\n            <div className=\"flex items-center justify-center gap-3 mb-2\">\n              <Crown className=\"h-8 w-8 text-white drop-shadow-lg\" />\n              <CardTitle className=\"text-3xl font-bold text-white drop-shadow-lg\">\n                {patriarch ? \"✏️ تعديل البطريرك\" : \"➕ إضافة بطريرك جديد\"}\n              </CardTitle>\n              <Crown className=\"h-8 w-8 text-white drop-shadow-lg\" />\n            </div>\n            <p className=\"text-amber-100 text-lg font-medium\">\n              {patriarch ? \"تحديث بيانات البطريرك\" : \"إضافة بطريرك جديد إلى قائمة البطاركة\"}\n            </p>\n          </div>\n        </CardHeader>\n        \n        <CardContent className=\"p-8\">\n          <form onSubmit={handleSubmit} className=\"space-y-8\">\n            {/* Basic Information Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-amber-200 dark:border-amber-800\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                <User className=\"h-5 w-5 text-amber-600\" />\n                <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">المعلومات الأساسية</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"name\" className=\"text-gray-700 dark:text-gray-300 font-semibold flex items-center gap-2\">\n                    <User className=\"h-4 w-4\" />\n                    الاسم (بالإنجليزية) *\n                  </Label>\n                  <Input\n                    id=\"name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    placeholder=\"اسم البطريرك بالإنجليزية\"\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"arabicName\" className=\"text-gray-700 dark:text-gray-300 font-semibold flex items-center gap-2\">\n                    <User className=\"h-4 w-4\" />\n                    الاسم (بالعربية)\n                  </Label>\n                  <Input\n                    id=\"arabicName\"\n                    value={formData.arabicName}\n                    onChange={(e) => setFormData(prev => ({ ...prev, arabicName: e.target.value }))}\n                    placeholder=\"اسم البطريرك بالعربية\"\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"orderNumber\" className=\"text-gray-700 dark:text-gray-300 font-semibold flex items-center gap-2\">\n                    <Crown className=\"h-4 w-4\" />\n                    رقم الترتيب *\n                  </Label>\n                  <Input\n                    id=\"orderNumber\"\n                    type=\"number\"\n                    value={formData.orderNumber}\n                    onChange={(e) => setFormData(prev => ({ ...prev, orderNumber: parseInt(e.target.value) || 1 }))}\n                    placeholder=\"رقم الترتيب\"\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"era\" className=\"text-gray-700 dark:text-gray-300 font-semibold flex items-center gap-2\">\n                    <Globe className=\"h-4 w-4\" />\n                    العصر *\n                  </Label>\n                  <Select value={formData.era} onValueChange={(value) => setFormData(prev => ({ ...prev, era: value }))}>\n                    <SelectTrigger className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500\">\n                      <SelectValue placeholder=\"اختر العصر\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {predefinedEras.map((era) => (\n                        <SelectItem key={era} value={era}>\n                          {era}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n            </div>\n\n            {/* Time Period Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-amber-200 dark:border-amber-800\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                <Calendar className=\"h-5 w-5 text-amber-600\" />\n                <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">الفترة الزمنية</h3>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"startYear\" className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                    سنة البداية *\n                  </Label>\n                  <Input\n                    id=\"startYear\"\n                    type=\"number\"\n                    value={formData.startYear}\n                    onChange={(e) => setFormData(prev => ({ ...prev, startYear: parseInt(e.target.value) || new Date().getFullYear() }))}\n                    placeholder=\"سنة البداية\"\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300\"\n                    required\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"endYear\" className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                    سنة النهاية (اختياري)\n                  </Label>\n                  <Input\n                    id=\"endYear\"\n                    type=\"number\"\n                    value={formData.endYear || \"\"}\n                    onChange={(e) => setFormData(prev => ({ ...prev, endYear: e.target.value ? parseInt(e.target.value) : undefined }))}\n                    placeholder=\"سنة النهاية\"\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Heresies Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-red-200 dark:border-red-800\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                <Shield className=\"h-5 w-5 text-red-600\" />\n                <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">البدع المحاربة</h3>\n              </div>\n              \n              {/* Display selected heresies */}\n              {heresiesList.length > 0 && (\n                <div className=\"mb-4\">\n                  <Label className=\"text-gray-700 dark:text-gray-300 font-semibold mb-2 block\">\n                    البدع المختارة:\n                  </Label>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {heresiesList.map((heresy) => (\n                      <Badge key={heresy} variant=\"destructive\" className=\"flex items-center gap-1 bg-red-100 text-red-800 border border-red-300\">\n                        <Shield className=\"h-3 w-3\" />\n                        {heresy}\n                        <button\n                          type=\"button\"\n                          onClick={() => removeHeresy(heresy)}\n                          className=\"ml-1 text-red-600 hover:text-red-800 transition-colors\"\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </button>\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Predefined heresies */}\n              <div className=\"space-y-3\">\n                <Label className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                  البدع المتاحة:\n                </Label>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2\">\n                  {predefinedHeresies.map((heresy) => (\n                    <Button\n                      key={heresy}\n                      type=\"button\"\n                      variant={heresiesList.includes(heresy) ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      onClick={() => addPredefinedHeresy(heresy)}\n                      disabled={heresiesList.includes(heresy)}\n                      className={`text-sm transition-all duration-300 ${\n                        heresiesList.includes(heresy) \n                          ? \"bg-red-600 hover:bg-red-700 text-white\" \n                          : \"border-red-300 text-red-700 hover:bg-red-50\"\n                      }`}\n                    >\n                      <Shield className=\"h-3 w-3 mr-1\" />\n                      {heresy}\n                    </Button>\n                  ))}\n                </div>\n              </div>\n\n              {/* Custom heresy input */}\n              <div className=\"mt-4 space-y-2\">\n                <Label className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                  إضافة بدعة جديدة:\n                </Label>\n                <div className=\"flex gap-2\">\n                  <Input\n                    value={customHeresy}\n                    onChange={(e) => setCustomHeresy(e.target.value)}\n                    placeholder=\"اسم البدعة الجديدة\"\n                    className=\"flex-1 border-red-300 focus:border-red-500 focus:ring-red-500\"\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), addCustomHeresy())}\n                  />\n                  <Button \n                    type=\"button\" \n                    onClick={addCustomHeresy} \n                    variant=\"outline\"\n                    className=\"border-red-300 text-red-700 hover:bg-red-50\"\n                  >\n                    <Plus className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n\n            {/* Biography and Contributions Section */}\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-amber-200 dark:border-amber-800\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                <Book className=\"h-5 w-5 text-amber-600\" />\n                <h3 className=\"text-xl font-bold text-gray-800 dark:text-white\">السيرة والإسهامات</h3>\n              </div>\n              \n              <div className=\"space-y-6\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"biography\" className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                    السيرة الذاتية\n                  </Label>\n                  <Textarea\n                    id=\"biography\"\n                    value={formData.biography}\n                    onChange={(e) => setFormData(prev => ({ ...prev, biography: e.target.value }))}\n                    placeholder=\"السيرة الذاتية للبطريرك...\"\n                    rows={4}\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300 resize-none\"\n                  />\n                </div>\n\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"contributions\" className=\"text-gray-700 dark:text-gray-300 font-semibold\">\n                    الإسهامات والإنجازات\n                  </Label>\n                  <Textarea\n                    id=\"contributions\"\n                    value={formData.contributions}\n                    onChange={(e) => setFormData(prev => ({ ...prev, contributions: e.target.value }))}\n                    placeholder=\"الإسهامات والإنجازات...\"\n                    rows={4}\n                    className=\"border-amber-300 focus:border-amber-500 focus:ring-amber-500 transition-all duration-300 resize-none\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-4 pt-6\">\n              <Button \n                type=\"submit\" \n                disabled={isLoading}\n                className=\"flex-1 bg-gradient-to-r from-amber-600 to-orange-600 hover:from-amber-700 hover:to-orange-700 text-white font-bold py-3 px-6 rounded-lg shadow-lg transform transition-all duration-300 hover:scale-105\"\n              >\n                {isLoading ? (\n                  <>\n                    <Loader2 className=\"h-5 w-5 animate-spin ml-2\" />\n                    {patriarch ? \"جاري التحديث...\" : \"جاري الإنشاء...\"}\n                  </>\n                ) : (\n                  <>\n                    <Crown className=\"h-5 w-5 ml-2\" />\n                    {patriarch ? \"💫 تحديث البطريرك\" : \"✨ إنشاء البطريرك\"}\n                  </>\n                )}\n              </Button>\n              <Button \n                type=\"button\" \n                variant=\"outline\" \n                onClick={onClose}\n                disabled={isLoading}\n                className=\"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50 font-bold py-3 px-6 rounded-lg shadow-lg transition-all duration-300\"\n              >\n                ❌ إلغاء\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":20986},"client/src/components/admin/patriarch-form.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Loader2, Key, CheckCircle, XCircle, Eye, EyeOff } from \"lucide-react\";\n\nexport default function GeminiSettings() {\n  const [apiKey, setApiKey] = useState('');\n  const [showApiKey, setShowApiKey] = useState(false);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Check current API key status\n  const { data: status, isLoading } = useQuery({\n    queryKey: ['/api/admin/gemini-status'],\n    queryFn: async () => {\n      const response = await apiRequest('GET', '/api/admin/gemini-status');\n      return response;\n    }\n  });\n\n  // Save API key mutation\n  const saveApiKeyMutation = useMutation({\n    mutationFn: async (apiKey: string) => {\n      const response = await apiRequest('POST', '/api/admin/gemini-api-key', { apiKey });\n      return response;\n    },\n    onSuccess: () => {\n      toast({\n        title: \"نجح الحفظ\",\n        description: \"تم حفظ مفتاح Gemini API بنجاح\",\n        duration: 3000,\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/gemini-status'] });\n      setApiKey('');\n    },\n    onError: () => {\n      toast({\n        title: \"خطأ في الحفظ\",\n        description: \"فشل في حفظ مفتاح API. يرجى المحاولة مرة أخرى.\",\n        variant: \"destructive\",\n        duration: 3000,\n      });\n    }\n  });\n\n  // Test connection mutation\n  const testConnectionMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest('POST', '/api/admin/test-gemini');\n      return response;\n    },\n    onSuccess: (data: any) => {\n      if (data?.connected) {\n        toast({\n          title: \"الاتصال ناجح\",\n          description: \"تم اختبار اتصال Gemini API بنجاح\",\n          duration: 3000,\n        });\n      } else {\n        toast({\n          title: \"فشل الاتصال\",\n          description: \"لم يتم التمكن من الاتصال بـ Gemini API. يرجى التحقق من المفتاح.\",\n          variant: \"destructive\",\n          duration: 5000,\n        });\n      }\n    },\n    onError: () => {\n      toast({\n        title: \"خطأ في الاختبار\",\n        description: \"فشل في اختبار الاتصال. يرجى المحاولة مرة أخرى.\",\n        variant: \"destructive\",\n        duration: 3000,\n      });\n    }\n  });\n\n  const handleSaveApiKey = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!apiKey.trim()) {\n      toast({\n        title: \"خطأ\",\n        description: \"يرجى إدخال مفتاح API\",\n        variant: \"destructive\",\n        duration: 3000,\n      });\n      return;\n    }\n    saveApiKeyMutation.mutate(apiKey);\n  };\n\n  const handleTestConnection = () => {\n    testConnectionMutation.mutate();\n  };\n\n  return (\n    <Card className=\"border-2 border-purple-200 dark:border-purple-800\">\n      <CardHeader className=\"bg-gradient-to-r from-purple-600 to-indigo-600 text-white\">\n        <div className=\"flex items-center gap-3\">\n          <Key className=\"h-6 w-6\" />\n          <div>\n            <CardTitle className=\"text-xl\">إعدادات Gemini AI</CardTitle>\n            <p className=\"text-purple-100 text-sm mt-1\">\n              قم بتكوين مفتاح Google Gemini API لتفعيل خاصية \"اسأل البطريرك\"\n            </p>\n          </div>\n        </div>\n      </CardHeader>\n      \n      <CardContent className=\"p-6 space-y-6\">\n        {/* Current Status */}\n        <div className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg\">\n          <div className=\"flex items-center gap-3\">\n            <span className=\"font-medium text-gray-700 dark:text-gray-300\">\n              حالة مفتاح API:\n            </span>\n            {isLoading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (status as any)?.hasApiKey ? (\n              <Badge variant=\"default\" className=\"bg-green-600 hover:bg-green-700\">\n                <CheckCircle className=\"h-3 w-3 mr-1\" />\n                مُكوَّن\n              </Badge>\n            ) : (\n              <Badge variant=\"destructive\">\n                <XCircle className=\"h-3 w-3 mr-1\" />\n                غير مُكوَّن\n              </Badge>\n            )}\n          </div>\n          \n          {(status as any)?.hasApiKey && (\n            <Button\n              onClick={handleTestConnection}\n              disabled={testConnectionMutation.isPending}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"border-purple-300 text-purple-700 hover:bg-purple-50\"\n            >\n              {testConnectionMutation.isPending ? (\n                <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n              ) : (\n                \"اختبار الاتصال\"\n              )}\n            </Button>\n          )}\n        </div>\n\n        {/* API Key Form */}\n        <form onSubmit={handleSaveApiKey} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"api-key\" className=\"text-right font-semibold\">\n              مفتاح Google Gemini API\n            </Label>\n            <div className=\"relative\">\n              <Input\n                id=\"api-key\"\n                type={showApiKey ? \"text\" : \"password\"}\n                value={apiKey}\n                onChange={(e) => setApiKey(e.target.value)}\n                placeholder=\"أدخل مفتاح Gemini API هنا...\"\n                className=\"pl-10 text-left\"\n                dir=\"ltr\"\n              />\n              <Button\n                type=\"button\"\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"absolute left-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0\"\n                onClick={() => setShowApiKey(!showApiKey)}\n              >\n                {showApiKey ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n              </Button>\n            </div>\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 text-right\">\n              يمكنك الحصول على المفتاح من <a href=\"https://makersuite.google.com/app/apikey\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-purple-600 hover:underline\">Google AI Studio</a>\n            </p>\n          </div>\n\n          <Button\n            type=\"submit\"\n            disabled={saveApiKeyMutation.isPending || !apiKey.trim()}\n            className=\"w-full bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700\"\n          >\n            {saveApiKeyMutation.isPending ? (\n              <>\n                <Loader2 className=\"h-4 w-4 animate-spin ml-2\" />\n                جاري الحفظ...\n              </>\n            ) : (\n              \"حفظ مفتاح API\"\n            )}\n          </Button>\n        </form>\n\n        {/* Instructions */}\n        <div className=\"bg-blue-50 dark:bg-blue-950/30 p-4 rounded-lg border border-blue-200 dark:border-blue-800\">\n          <h4 className=\"font-semibold text-blue-800 dark:text-blue-200 mb-2\">\n            📋 تعليمات الحصول على مفتاح API:\n          </h4>\n          <ol className=\"text-sm text-blue-700 dark:text-blue-300 space-y-1 list-decimal list-inside text-right\">\n            <li>اذهب إلى <a href=\"https://makersuite.google.com/app/apikey\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"underline hover:text-blue-600\">Google AI Studio</a></li>\n            <li>قم بتسجيل الدخول بحساب Google الخاص بك</li>\n            <li>انقر على \"Create API Key\" لإنشاء مفتاح جديد</li>\n            <li>انسخ المفتاح والصقه في المربع أعلاه</li>\n            <li>انقر على \"حفظ مفتاح API\" لحفظ الإعدادات</li>\n          </ol>\n        </div>\n\n        {/* Feature Description */}\n        <div className=\"bg-amber-50 dark:bg-amber-950/30 p-4 rounded-lg border border-amber-200 dark:border-amber-800\">\n          <h4 className=\"font-semibold text-amber-800 dark:text-amber-200 mb-2\">\n            ✨ ماذا يحدث بعد التكوين؟\n          </h4>\n          <p className=\"text-sm text-amber-700 dark:text-amber-300 text-right leading-relaxed\">\n            سيتمكن الزوار من استخدام خاصية \"اسأل البطريرك\" في الصفحة الرئيسية للحصول على إجابات ذكية ومفصلة \n            عن تاريخ البطاركة الأقباط الأرثوذكس، مع استخدام ذكاء اصطناعي متقدم لفهم الأسئلة والإجابة عليها بدقة.\n          </p>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}","size_bytes":9145},"client/src/components/admin/patriarch-table.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { isUnauthorizedError } from \"@/lib/authUtils\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ArrowUp, ArrowDown } from \"lucide-react\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport type { Patriarch } from \"@shared/schema\";\nimport { getArabicHeresyName } from \"@shared/patriarch-names\";\n\ninterface PatriarchTableProps {\n  patriarchs: Patriarch[];\n  onEdit: (patriarch: Patriarch) => void;\n}\n\nconst eraLabels: Record<string, string> = {\n  apostolic: \"العصر الرسولي\",\n  golden: \"العصر الذهبي\",\n  councils: \"عصر المجامع\",\n  persecution: \"عصر الاضطهاد\",\n  modern: \"العصر الحديث\",\n};\n\nconst eraColors: Record<string, string> = {\n  apostolic: \"bg-blue-100 text-blue-800\",\n  golden: \"bg-yellow-100 text-yellow-800\",\n  councils: \"bg-purple-100 text-purple-800\",\n  persecution: \"bg-red-100 text-red-800\",\n  modern: \"bg-green-100 text-green-800\",\n};\n\nexport default function PatriarchTable({ patriarchs, onEdit }: PatriarchTableProps) {\n  const [deleteId, setDeleteId] = useState<number | null>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Sort patriarchs by order number for display\n  const sortedPatriarchs = [...patriarchs].sort((a, b) => a.orderNumber - b.orderNumber);\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: number) => {\n      await apiRequest(\"DELETE\", `/api/admin/patriarchs/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/patriarchs\"] });\n      toast({\n        title: \"🗑️ تم الحذف\",\n        description: \"تم حذف البطريرك بنجاح\",\n      });\n      setDeleteId(null);\n    },\n    onError: (error) => {\n      if (isUnauthorizedError(error)) {\n        toast({\n          title: \"غير مخول\",\n          description: \"تم تسجيل خروجك. جارٍ تسجيل الدخول مرة أخرى...\",\n          variant: \"destructive\",\n        });\n        setTimeout(() => {\n          window.location.href = \"/api/login\";\n        }, 500);\n        return;\n      }\n      toast({\n        title: \"خطأ\",\n        description: \"فشل في حذف البطريرك\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const swapOrderMutation = useMutation({\n    mutationFn: async ({ patriarch1Id, patriarch2Id }: { patriarch1Id: number; patriarch2Id: number }) => {\n      await apiRequest(\"POST\", \"/api/admin/patriarchs/swap-order\", { patriarch1Id, patriarch2Id });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/patriarchs\"] });\n      toast({\n        title: \"تم التبديل\",\n        description: \"تم تبديل ترتيب البطاركة بنجاح\",\n      });\n    },\n    onError: (error) => {\n      if (isUnauthorizedError(error)) {\n        toast({\n          title: \"غير مخول\",\n          description: \"تم تسجيل خروجك. جارٍ تسجيل الدخول مرة أخرى...\",\n          variant: \"destructive\",\n        });\n        setTimeout(() => {\n          window.location.href = \"/api/login\";\n        }, 500);\n        return;\n      }\n      toast({\n        title: \"خطأ\",\n        description: \"فشل في تبديل ترتيب البطاركة\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleDelete = (id: number) => {\n    setDeleteId(id);\n  };\n\n  const confirmDelete = () => {\n    if (deleteId) {\n      deleteMutation.mutate(deleteId);\n    }\n  };\n\n  const handleSwapUp = (patriarch: Patriarch) => {\n    const currentIndex = sortedPatriarchs.findIndex(p => p.id === patriarch.id);\n    if (currentIndex > 0) {\n      const previousPatriarch = sortedPatriarchs[currentIndex - 1];\n      swapOrderMutation.mutate({\n        patriarch1Id: patriarch.id,\n        patriarch2Id: previousPatriarch.id\n      });\n    }\n  };\n\n  const handleSwapDown = (patriarch: Patriarch) => {\n    const currentIndex = sortedPatriarchs.findIndex(p => p.id === patriarch.id);\n    if (currentIndex < sortedPatriarchs.length - 1) {\n      const nextPatriarch = sortedPatriarchs[currentIndex + 1];\n      swapOrderMutation.mutate({\n        patriarch1Id: patriarch.id,\n        patriarch2Id: nextPatriarch.id\n      });\n    }\n  };\n\n  if (patriarchs.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <i className=\"fas fa-database text-4xl text-gray-400 mb-4\"></i>\n        <h3 className=\"text-xl font-semibold text-gray-700 mb-2\">لا توجد بيانات</h3>\n        <p className=\"text-gray-500\">لا يوجد بطاركة لعرضهم</p>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">البطريرك</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">فترة الخدمة</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">المساهمات الرئيسية</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">العصر التاريخي</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">البدع المحاربة</th>\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">الإجراءات</th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {sortedPatriarchs.map((patriarch, index) => (\n              <tr key={patriarch.id} className=\"hover:bg-gray-50 transition-colors duration-200\">\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0 h-10 w-10\">\n                      <div className=\"h-10 w-10 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center\">\n                        <i className=\"fas fa-user text-white\"></i>\n                      </div>\n                    </div>\n                    <div className=\"mr-4\">\n                      <div className=\"text-sm font-medium text-gray-900\">{patriarch.arabicName || patriarch.name}</div>\n                      <div className=\"text-sm text-gray-500\">البابا {patriarch.orderNumber}</div>\n                    </div>\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                  {patriarch.startYear} - {patriarch.endYear || \"الآن\"} م\n                </td>\n                <td className=\"px-6 py-4 text-sm text-gray-900 max-w-xs truncate\">\n                  {patriarch.contributions}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">\n                  <Badge className={eraColors[patriarch.era] || \"bg-gray-100 text-gray-800\"}>\n                    {eraLabels[patriarch.era] || patriarch.era}\n                  </Badge>\n                </td>\n                <td className=\"px-6 py-4 text-sm text-gray-900\">\n                  <div className=\"flex flex-wrap gap-1\">\n                    {(() => {\n                      let heresies = [];\n                      try {\n                        // Handle PostgreSQL array format: {\"value1\",\"value2\"}\n                        if (Array.isArray(patriarch.heresiesFought)) {\n                          heresies = patriarch.heresiesFought;\n                        } else if (typeof patriarch.heresiesFought === 'string') {\n                          const heresiesString = patriarch.heresiesFought;\n                          if (heresiesString.startsWith('{') && heresiesString.endsWith('}')) {\n                            // PostgreSQL array format\n                            const cleanString = heresiesString.slice(1, -1); // Remove { }\n                            heresies = cleanString.split(',').map(item => item.replace(/\"/g, '').trim()).filter(item => item !== '');\n                          } else {\n                            // Try JSON parse\n                            heresies = JSON.parse(heresiesString || '[]');\n                          }\n                        }\n                      } catch (error) {\n                        console.warn('Failed to parse heresiesFought for patriarch:', patriarch.name);\n                        heresies = [];\n                      }\n\n                      return (\n                        <>\n                          {heresies.slice(0, 2).map((heresy: string, index: number) => (\n                            <Badge key={index} variant=\"outline\" className=\"text-xs bg-red-100 text-red-800\">\n                              {heresy}\n                            </Badge>\n                          ))}\n                          {heresies.length > 2 && (\n                            <Badge variant=\"outline\" className=\"text-xs bg-gray-100 text-gray-600\">\n                              +{heresies.length - 2}\n                            </Badge>\n                          )}\n                          {heresies.length === 0 && (\n                            <span className=\"text-gray-400 text-xs\">لا توجد بدع محاربة</span>\n                          )}\n                        </>\n                      );\n                    })()}\n                  </div>\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div className=\"flex space-x-reverse space-x-2\">\n                    {/* Swap Up Button */}\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => handleSwapUp(patriarch)}\n                      disabled={index === 0 || swapOrderMutation.isPending}\n                      className=\"text-green-600 hover:text-green-900 disabled:text-gray-400\"\n                      title=\"نقل للأعلى\"\n                    >\n                      <ArrowUp size={16} />\n                    </Button>\n                    {/* Swap Down Button */}\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => handleSwapDown(patriarch)}\n                      disabled={index === sortedPatriarchs.length - 1 || swapOrderMutation.isPending}\n                      className=\"text-green-600 hover:text-green-900 disabled:text-gray-400\"\n                      title=\"نقل للأسفل\"\n                    >\n                      <ArrowDown size={16} />\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => onEdit(patriarch)}\n                      className=\"text-blue-600 hover:text-blue-900\"\n                    >\n                      <i className=\"fas fa-edit\"></i>\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      onClick={() => handleDelete(patriarch.id)}\n                      className=\"text-red-600 hover:text-red-900\"\n                    >\n                      <i className=\"fas fa-trash\"></i>\n                    </Button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Delete Confirmation Dialog */}\n      <AlertDialog open={!!deleteId} onOpenChange={() => setDeleteId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>تأكيد الحذف</AlertDialogTitle>\n            <AlertDialogDescription>\n              هل أنت متأكد من حذف بيانات هذا البطريرك؟ لا يمكن التراجع عن هذا الإجراء.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>إلغاء</AlertDialogCancel>\n            <AlertDialogAction \n              onClick={confirmDelete}\n              disabled={deleteMutation.isPending}\n              className=\"bg-red-600 hover:bg-red-700\"\n            >\n              {deleteMutation.isPending ? \"جارٍ الحذف...\" : \"حذف\"}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}","size_bytes":12950},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1419},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1128},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":1901},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","size_bytes":1858},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":791},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/loading.tsx":{"content":"export default function Loading() {\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n      <div className=\"text-center\">\n        <div className=\"loading-spinner mx-auto mb-4\"></div>\n        <p className=\"text-lg font-semibold text-primary font-amiri\">جارٍ التحميل...</p>\n      </div>\n    </div>\n  );\n}\n","size_bytes":354},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5742},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":23567},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},".local/state/replit/agent/progress_tracker.md":{"content":"[x] 1. Install the required packages\n[x] 2. Restart the workflow to see if the project is working\n[x] 3. Verify the project is working using the feedback tool\n[x] 4. Inform user the import is completed and they can start building, mark the import as completed using the complete_project_import tool","size_bytes":298},"client/src/pages/all-patriarchs.tsx":{"content":"\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useState } from \"react\";\nimport { Search, Filter, Crown, Calendar, Award, BookOpen } from \"lucide-react\";\n\ninterface PatriarchData {\n  id: number;\n  name: string;\n  arabicName?: string;\n  orderNumber: number;\n  startYear: number;\n  endYear?: number;\n  era: string;\n  contributions: string;\n  biography?: string;\n  heresiesList: string[];\n  serviceDuration: number;\n  displayName: string;\n  isCurrentPatriarch: boolean;\n  centuryStart: number;\n  formattedPeriod: string;\n  shortBio: string;\n}\n\ninterface AllPatriarchsResponse {\n  patriarchs: PatriarchData[];\n  totalCount: number;\n  metadata: {\n    totalPatriarchs: number;\n    currentPatriarch: PatriarchData;\n    firstPatriarch: PatriarchData;\n    eras: string[];\n    averageService: number;\n  };\n}\n\nexport default function AllPatriarchs() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedEra, setSelectedEra] = useState(\"all\");\n  const [sortBy, setSortBy] = useState(\"order\");\n\n  const { data: patriarchsData, isLoading } = useQuery<AllPatriarchsResponse>({\n    queryKey: [\"/api/patriarchs\", { showAll: true }],\n    queryFn: async () => {\n      const response = await fetch(\"/api/patriarchs?showAll=true\");\n      if (!response.ok) throw new Error(\"Failed to fetch patriarchs\");\n      return response.json();\n    }\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 p-8\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center py-12\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">جاري تحميل البطاركة...</p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!patriarchsData) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 p-8\">\n        <div className=\"max-w-6xl mx-auto text-center py-12\">\n          <p className=\"text-red-600\">حدث خطأ في تحميل البيانات</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Filter and sort patriarchs\n  let filteredPatriarchs = patriarchsData.patriarchs.filter(patriarch => {\n    const matchesSearch = !searchTerm || \n      patriarch.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      patriarch.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      patriarch.contributions.toLowerCase().includes(searchTerm.toLowerCase());\n\n    const matchesEra = selectedEra === \"all\" || patriarch.era === selectedEra;\n\n    return matchesSearch && matchesEra;\n  });\n\n  // Sort patriarchs\n  switch (sortBy) {\n    case \"order\":\n      filteredPatriarchs.sort((a, b) => a.orderNumber - b.orderNumber);\n      break;\n    case \"duration\":\n      filteredPatriarchs.sort((a, b) => b.serviceDuration - a.serviceDuration);\n      break;\n    case \"era\":\n      filteredPatriarchs.sort((a, b) => a.startYear - b.startYear);\n      break;\n    case \"name\":\n      filteredPatriarchs.sort((a, b) => a.displayName.localeCompare(b.displayName, 'ar'));\n      break;\n  }\n\n  const { metadata } = patriarchsData;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-amber-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-blue-900 mb-4 font-amiri\">\n            <Crown className=\"inline-block w-10 h-10 ml-3 text-yellow-600\" />\n            جميع بطاركة الكنيسة القبطية الأرثوذكسية\n          </h1>\n          <p className=\"text-xl text-gray-700\">\n            رحلة عبر {metadata.totalPatriarchs} بطريرك عبر {Math.round((new Date().getFullYear() - metadata.firstPatriarch.startYear))} سنة من التاريخ المقدس\n          </p>\n        </div>\n\n        {/* Statistics Overview */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8\">\n          <Card className=\"border-blue-200\">\n            <CardContent className=\"p-4 text-center\">\n              <div className=\"flex items-center justify-center mb-2\">\n                <Crown className=\"w-6 h-6 text-blue-600 ml-2\" />\n                <span className=\"text-2xl font-bold text-blue-600\">{metadata.totalPatriarchs}</span>\n              </div>\n              <p className=\"text-sm text-gray-600\">إجمالي البطاركة</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-green-200\">\n            <CardContent className=\"p-4 text-center\">\n              <div className=\"flex items-center justify-center mb-2\">\n                <Calendar className=\"w-6 h-6 text-green-600 ml-2\" />\n                <span className=\"text-2xl font-bold text-green-600\">{metadata.averageService}</span>\n              </div>\n              <p className=\"text-sm text-gray-600\">متوسط سنوات الخدمة</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-amber-200\">\n            <CardContent className=\"p-4 text-center\">\n              <div className=\"flex items-center justify-center mb-2\">\n                <Award className=\"w-6 h-6 text-amber-600 ml-2\" />\n                <span className=\"text-xl font-bold text-amber-600\">{metadata.currentPatriarch.displayName}</span>\n              </div>\n              <p className=\"text-sm text-gray-600\">البطريرك الحالي</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"border-purple-200\">\n            <CardContent className=\"p-4 text-center\">\n              <div className=\"flex items-center justify-center mb-2\">\n                <BookOpen className=\"w-6 h-6 text-purple-600 ml-2\" />\n                <span className=\"text-2xl font-bold text-purple-600\">{metadata.eras.length}</span>\n              </div>\n              <p className=\"text-sm text-gray-600\">العصور التاريخية</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Filters and Search */}\n        <Card className=\"mb-6\">\n          <CardContent className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <div className=\"relative\">\n                <Search className=\"absolute right-3 top-3 h-4 w-4 text-gray-400\" />\n                <Input\n                  placeholder=\"البحث في الأسماء والمساهمات...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pr-10\"\n                />\n              </div>\n\n              <Select value={selectedEra} onValueChange={setSelectedEra}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"اختر العصر\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">جميع العصور</SelectItem>\n                  {metadata.eras.map(era => (\n                    <SelectItem key={era} value={era}>{era}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              <Select value={sortBy} onValueChange={setSortBy}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"الترتيب حسب\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"order\">الترتيب التاريخي</SelectItem>\n                  <SelectItem value=\"duration\">مدة الخدمة</SelectItem>\n                  <SelectItem value=\"era\">العصر</SelectItem>\n                  <SelectItem value=\"name\">الاسم</SelectItem>\n                </SelectContent>\n              </Select>\n\n              <Button variant=\"outline\" onClick={() => {\n                setSearchTerm(\"\");\n                setSelectedEra(\"all\");\n                setSortBy(\"order\");\n              }}>\n                <Filter className=\"w-4 h-4 ml-2\" />\n                مسح المرشحات\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Results Count */}\n        <div className=\"mb-6\">\n          <p className=\"text-gray-600\">\n            عرض {filteredPatriarchs.length} من {metadata.totalPatriarchs} بطريرك\n          </p>\n        </div>\n\n        {/* Patriarchs Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredPatriarchs.map((patriarch) => (\n            <Card \n              key={patriarch.id}\n              className={`hover:shadow-lg transition-shadow duration-300 ${\n                patriarch.isCurrentPatriarch \n                  ? 'border-gold-400 bg-gradient-to-br from-amber-50 to-yellow-50' \n                  : 'border-gray-200'\n              }`}\n            >\n              <CardHeader className=\"pb-3\">\n                <div className=\"flex justify-between items-start\">\n                  <Badge \n                    variant=\"secondary\" \n                    className={\n                      patriarch.isCurrentPatriarch \n                        ? 'bg-gold-100 text-gold-800' \n                        : 'bg-blue-100 text-blue-800'\n                    }\n                  >\n                    البطريرك #{patriarch.orderNumber}\n                  </Badge>\n                  {patriarch.isCurrentPatriarch && (\n                    <Badge className=\"bg-green-500\">الحالي</Badge>\n                  )}\n                </div>\n                \n                <CardTitle className=\"text-lg leading-relaxed font-amiri\">\n                  {patriarch.displayName}\n                </CardTitle>\n                \n                <p className=\"text-sm text-gray-600 italic\">\n                  {patriarch.name}\n                </p>\n              </CardHeader>\n\n              <CardContent className=\"space-y-3\">\n                <div className=\"flex items-center text-sm text-gray-600\">\n                  <Calendar className=\"w-4 h-4 ml-2\" />\n                  <span>{patriarch.formattedPeriod}</span>\n                  <span className=\"mr-2 text-blue-600\">\n                    ({patriarch.serviceDuration} سنة)\n                  </span>\n                </div>\n\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {patriarch.era}\n                </Badge>\n\n                <p className=\"text-sm text-gray-700 line-clamp-3\">\n                  {patriarch.contributions}\n                </p>\n\n                {patriarch.heresiesList.length > 0 && (\n                  <div className=\"pt-2 border-t border-gray-100\">\n                    <p className=\"text-xs text-gray-500 mb-1\">البدع المحاربة:</p>\n                    <div className=\"flex flex-wrap gap-1\">\n                      {patriarch.heresiesList.slice(0, 3).map((heresy, index) => (\n                        <Badge \n                          key={index} \n                          variant=\"destructive\" \n                          className=\"text-xs bg-red-100 text-red-700\"\n                        >\n                          {heresy}\n                        </Badge>\n                      ))}\n                      {patriarch.heresiesList.length > 3 && (\n                        <Badge variant=\"outline\" className=\"text-xs\">\n                          +{patriarch.heresiesList.length - 3}\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                )}\n\n                {patriarch.biography && (\n                  <div className=\"pt-2 border-t border-gray-100\">\n                    <p className=\"text-xs text-gray-600\">\n                      {patriarch.shortBio}\n                    </p>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {filteredPatriarchs.length === 0 && (\n          <div className=\"text-center py-12\">\n            <p className=\"text-gray-500 text-lg\">\n              لم يتم العثور على بطاركة مطابقين لمعايير البحث\n            </p>\n            <Button \n              variant=\"outline\" \n              onClick={() => {\n                setSearchTerm(\"\");\n                setSelectedEra(\"all\");\n              }}\n              className=\"mt-4\"\n            >\n              مسح البحث وعرض الكل\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":12735}},"version":1}