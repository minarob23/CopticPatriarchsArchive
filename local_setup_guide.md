# دليل تشغيل المشروع محلياً على الديسكتوب

## متطلبات النظام

### 1. تثبيت Node.js
- حمل وثبت Node.js من: https://nodejs.org (النسخة 18 أو أحدث)

### 2. تثبيت قاعدة البيانات
اختر إحدى الطريقتين:

#### الطريقة الأولى: استخدام SQLite (أسهل)
- لا تحتاج تثبيت شيء إضافي
- البيانات ستُحفظ في ملف محلي

#### الطريقة الثانية: استخدام PostgreSQL (مثل النسخة الحالية)
- حمل وثبت PostgreSQL من: https://www.postgresql.org/download/
- أنشئ قاعدة بيانات جديدة

## خطوات التشغيل

### 1. تحضير الملفات
- حمل جميع ملفات المشروع إلى مجلد على الديسكتوب
- ضع ملف `patriarchs_data.csv` في المجلد الرئيسي

### 2. تثبيت المكتبات
افتح Terminal/Command Prompt في مجلد المشروع وشغل:
```bash
npm install
```

### 3. إعداد قاعدة البيانات

#### للطريقة الأولى (SQLite):
- ارجع للإعداد الأصلي في `server/db.ts`
- ضع `DATABASE_URL=file:./local.db` في ملف `.env`

#### للطريقة الثانية (PostgreSQL):
- أنشئ قاعدة بيانات جديدة
- ضع `DATABASE_URL=postgresql://username:password@localhost/database_name` في ملف `.env`

### 4. إنشاء الجداول
```bash
npm run db:push
```

### 5. استيراد البيانات
- استخدم ملف `patriarchs_data.csv` لاستيراد البيانات
- أو شغل الـ script المرفق لإضافة البيانات

### 6. تشغيل المشروع
```bash
npm run dev
```

المشروع سيعمل على: http://localhost:5000

## ملاحظات مهمة

1. **مفتاح Gemini API**: 
   - احصل على مفتاح من https://ai.google.dev/
   - أضفه في ملف `.env` كـ `GEMINI_API_KEY=your_key_here`

2. **الملفات المطلوبة**:
   - جميع ملفات المشروع الحالية
   - ملف `patriarchs_data.csv` مع البيانات
   - ملف `.env` مع الإعدادات

3. **الأمان**:
   - لا تشارك ملف `.env` مع أحد
   - احتفظ بنسخة احتياطية من البيانات

## حل المشاكل الشائعة

1. **خطأ في تثبيت المكتبات**: تأكد من تثبيت Node.js بشكل صحيح
2. **خطأ في قاعدة البيانات**: تأكد من صحة `DATABASE_URL`
3. **خطأ في الذكاء الاصطناعي**: تأكد من صحة `GEMINI_API_KEY`

للمساعدة: راجع ملف `package.json` لمعرفة الأوامر المتاحة